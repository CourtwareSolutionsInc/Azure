function _log(a){if(_canLog){var b=Array.prototype.slice.apply(arguments,[1]),c=new Date,d=c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+"."+c.getMilliseconds();b[0]=d+" - "+b[0];try{switch(a){case"info":window.console.info.apply(window.console,b);break;case"warn":window.console.warn.apply(window.console,b);break;default:window.console.log.apply(window.console,b)}}catch(e){window.console||(_canLog=!1)}}}function logMsg(){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)}!function(a,b){function c(a){var b=ob[a]={};return $.each(a.split(bb),function(a,c){b[c]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(qb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:pb.test(d)?$.parseJSON(d):d}catch(f){}$.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!$.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,$.isFunction(b))return $.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return $.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=$.grep(a,function(a){return 1===a.nodeType});if(Kb.test(b))return $.filter(b,d,!c);b=$.filter(b,d)}return $.grep(a,function(a){return $.inArray(a,b)>=0===c})}function k(a){var b=Nb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&$.hasData(a)){var c,d,e,f=$._data(a),g=$._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)$.event.add(b,c,h[c][d])}g.data&&(g.data=$.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),$.support.html5Clone&&a.innerHTML&&!$.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Xb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute($.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Xb.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=rc.length;e--;)if(b=rc[e]+c,b in a)return b;return d}function r(a,b){return a=b||a,"none"===$.css(a,"display")||!$.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)c=a[f],c.style&&(e[f]=$._data(c,"olddisplay"),b?(e[f]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=$._data(c,"olddisplay",w(c.nodeName)))):(d=cc(c,"display"),e[f]||"none"===d||$._data(c,"olddisplay",d)));for(f=0;g>f;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=kc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>e;e+=2)"margin"===c&&(f+=$.css(a,c+qc[e],!0)),d?("content"===c&&(f-=parseFloat(cc(a,"padding"+qc[e]))||0),"margin"!==c&&(f-=parseFloat(cc(a,"border"+qc[e]+"Width"))||0)):(f+=parseFloat(cc(a,"padding"+qc[e]))||0,"padding"!==c&&(f+=parseFloat(cc(a,"border"+qc[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=$.support.boxSizing&&"border-box"===$.css(a,"boxSizing");if(0>=d||null==d){if(d=cc(a,b),(0>d||null==d)&&(d=a.style[b]),lc.test(d))return d;e=f&&($.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(nc[a])return nc[a];var b=$("<"+a+">").appendTo(P.body),c=b.css("display");return b.remove(),("none"===c||""===c)&&(dc=P.body.appendChild(dc||$.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),ec&&dc.createElement||(ec=(dc.contentWindow||dc.contentDocument).document,ec.write("<!doctype html><html><body>"),ec.close()),b=ec.body.appendChild(ec.createElement(a)),c=cc(b,"display"),P.body.removeChild(dc)),nc[a]=c,c}function x(a,b,c,d){var e;if($.isArray(b))$.each(b,function(b,e){c||uc.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==$.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(bb),h=0,i=g.length;if($.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Kc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return!l&&h||g["*"]||(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=$.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&$.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(b){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function F(){return setTimeout(function(){Vc=b},0),Vc=$.now()}function G(a,b){$.each(b,function(b,c){for(var d=(_c[b]||[]).concat(_c["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=$c.length,g=$.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Vc||F(),c=Math.max(0,i.startTime+i.duration-b),d=c/i.duration||0,e=1-d,f=0,h=i.tweens.length;h>f;f++)i.tweens[f].run(e);return g.notifyWith(a,[i,e,c]),1>e&&h?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:$.extend({},b),opts:$.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Vc||F(),duration:c.duration,tweens:[],createTween:function(b,c){var d=$.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(d),d},stop:function(b){for(var c=0,d=b?i.tweens.length:0;d>c;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(I(j,i.opts.specialEasing);f>e;e++)if(d=$c[e].call(i,a,j,i.opts))return d;return G(i,j),$.isFunction(i.opts.start)&&i.opts.start.call(a,i),$.fx.timer($.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a)if(d=$.camelCase(c),e=b[d],f=a[c],$.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=$.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&r(a);c.queue||(k=$._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,$.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===$.css(a,"display")&&"none"===$.css(a,"float")&&($.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",$.support.shrinkWrapBlocks||m.done(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],Xc.exec(f)){if(delete b[d],i=i||"toggle"===f,f===(q?"hide":"show"))continue;p.push(d)}if(g=p.length){h=$._data(a,"fxshow")||$._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?$(a).show():m.done(function(){$(a).hide()}),m.done(function(){var b;$.removeData(a,"fxshow",!0);for(b in o)$.style(a,b,o[b])});for(d=0;g>d;d++)e=p[d],j=m.createTween(e,q?h[e]:0),o[e]=h[e]||$.style(a,e),e in h||(h[e]=j.start,q&&(j.end=j.start,j.start="width"===e||"height"===e?1:0))}}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=qc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return $.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,$=function(a,b){return new $.fn.init(a,b,N)},_=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ab=/\S/,bb=/\s+/,cb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,db=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,eb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fb=/^[\],:{}\s]*$/,gb=/(?:^|:|,)(?:\s*\[)+/g,hb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ib=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,jb=/^-ms-/,kb=/-([\da-z])/gi,lb=function(a,b){return(b+"").toUpperCase()},mb=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",mb,!1),$.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",mb),$.ready())},nb={};$.fn=$.prototype={constructor:$,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:db.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1])return c=c instanceof $?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=$.parseHTML(e[1],g,!0),eb.test(e[1])&&$.isPlainObject(c)&&this.attr.call(a,c,!0),$.merge(this,a);if(f=P.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return $.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),$.makeArray(a,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=$.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return $.each(this,a,b)},ready:function(a){return $.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack($.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},$.fn.init.prototype=$.fn,$.extend=$.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||$.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&($.isPlainObject(e)||(f=$.isArray(e)))?(f?(f=!1,g=d&&$.isArray(d)?d:[]):g=d&&$.isPlainObject(d)?d:{},h[c]=$.extend(k,g,e)):e!==b&&(h[c]=e));return h},$.extend({noConflict:function(b){return a.$===$&&(a.$=T),b&&a.jQuery===$&&(a.jQuery=S),$},isReady:!1,readyWait:1,holdReady:function(a){a?$.readyWait++:$.ready(!0)},ready:function(a){if(a===!0?!--$.readyWait:!$.isReady){if(!P.body)return setTimeout($.ready,1);$.isReady=!0,a!==!0&&--$.readyWait>0||(O.resolveWith(P,[$]),$.fn.trigger&&$(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===$.type(a)},isArray:Array.isArray||function(a){return"array"===$.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):nb[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==$.type(a)||a.nodeType||$.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Y.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=eb.exec(a))?[b.createElement(d[1])]:(d=$.buildFragment([a],b,c?null:[]),$.merge([],(d.cacheable?$.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=$.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):fb.test(b.replace(hb,"@").replace(ib,"]").replace(gb,""))?new Function("return "+b)():($.error("Invalid JSON: "+b),void 0)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||$.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&ab.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(jb,"ms-").replace(kb,lb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||$.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:Z&&!Z.call("﻿ ")?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":(a+"").replace(cb,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=$.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||$.isWindow(a)?U.call(d,a):$.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof $||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||$.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),$.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||$.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)$.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&$.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call($(a),c)}):(c.call(a,e),c=null)),c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),$.ready.promise=function(b){if(!O)if(O=$.Deferred(),"complete"===P.readyState)setTimeout($.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",mb,!1),a.addEventListener("load",$.ready,!1);else{P.attachEvent("onreadystatechange",mb),a.attachEvent("onload",$.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!$.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}$.ready()}}()}return O.promise(b)},$.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){nb["[object "+b+"]"]=b.toLowerCase()}),N=$(P);var ob={};$.Callbacks=function(a){a="string"==typeof a?ob[a]||c(a):$.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){$.each(b,function(b,d){var e=$.type(d);"function"===e?a.unique&&m.has(d)||j.push(d):d&&d.length&&"string"!==e&&c(d)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&$.each(arguments,function(a,b){for(var c;(c=$.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return $.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||e&&!k||(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},$.extend({Deferred:function(a){var b=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(c){$.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]]($.isFunction(g)?function(){var a=g.apply(this,arguments);a&&$.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?$.extend(a,d):d}},e={};return d.pipe=d.then,$.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&$.isFunction(a.promise)?g:0,i=1===h?a:$.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&$.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),$.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],!c||!d||!c.length)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return $(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var pb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,qb=/([A-Z])/g;$.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+($.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?$.cache[a[$.expando]]:a[$.expando],!!a&&!e(a)},data:function(a,c,d,e){if($.acceptData(a)){var f,g,h=$.expando,i="string"==typeof c,j=a.nodeType,k=j?$.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=$.deletedIds.pop()||$.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=$.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=$.extend(k[l],c):k[l].data=$.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[$.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[$.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if($.acceptData(a)){var d,f,g,h=a.nodeType,i=h?$.cache:a,j=h?a[$.expando]:$.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){$.isArray(b)||(b in d?b=[b]:(b=$.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:$.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?$.cleanData([a],!0):$.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return $.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&$.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),$.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=$.data(j),1===j.nodeType&&!$._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;i>k;k++)h=g[k].name,h.indexOf("data-")||(h=$.camelCase(h.substring(5)),d(j,h,l[h]));$._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){$.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",$.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=$.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,this.each(function(){var b=$(this);b.triggerHandler("setData"+f,e),$.data(this,a,c),b.triggerHandler("changeData"+f,e)}),void 0)},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){$.removeData(this,a)})}}),$.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=$._data(a,b),c&&(!d||$.isArray(c)?d=$._data(a,b,$.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=$.queue(a,b),d=c.length,e=c.shift(),f=$._queueHooks(a,b),g=function(){$.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return $._data(a,c)||$._data(a,c,{empty:$.Callbacks("once memory").add(function(){$.removeData(a,b+"queue",!0),$.removeData(a,c,!0)})})}}),$.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?$.queue(this[0],a):c===b?this:this.each(function(){var b=$.queue(this,a,c);$._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&$.dequeue(this,a)})},dequeue:function(a){return this.each(function(){$.dequeue(this,a)})},delay:function(a,b){return a=$.fx?$.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=$.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=$._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var rb,sb,tb,ub=/[\t\r\n]/g,vb=/\r/g,wb=/^(?:button|input)$/i,xb=/^(?:button|input|object|select|textarea)$/i,yb=/^a(?:rea|)$/i,zb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ab=$.support.getSetAttribute;$.fn.extend({attr:function(a,b){return $.access(this,$.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){$.removeAttr(this,a)})},prop:function(a,b){return $.access(this,$.prop,a,b,arguments.length>1)},removeProp:function(a){return a=$.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if($.isFunction(a))return this.each(function(b){$(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(bb),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=$.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if($.isFunction(a))return this.each(function(b){$(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(bb),h=0,i=this.length;i>h;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(ub," "),f=0,g=c.length;g>f;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?$.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return $.isFunction(a)?this.each(function(c){$(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=$(this),h=b,i=a.split(bb);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&$._data(this,"__className__",this.className),this.className=this.className||a===!1?"":$._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=$.isFunction(a),this.each(function(d){var f,g=$(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":$.isArray(f)&&(f=$.map(f,function(a){return null==a?"":a+""})),c=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=$.valHooks[f.type]||$.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(vb,""):null==d?"":d)}}}),$.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||($.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&$.nodeName(c.parentNode,"optgroup"))){if(b=$(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c=$.makeArray(b);return $(a).find("option").each(function(){this.selected=$.inArray($(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&$.isFunction($.fn[c])?$(a)[c](d):"undefined"==typeof a.getAttribute?$.prop(a,c,d):(h=1!==i||!$.isXMLDoc(a),h&&(c=c.toLowerCase(),g=$.attrHooks[c]||(zb.test(c)?sb:rb)),d!==b?null===d?($.removeAttr(a,c),void 0):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(bb);g<d.length;g++)e=d[g],e&&(c=$.propFix[e]||e,f=zb.test(e),f||$.attr(a,e,""),a.removeAttribute(Ab?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(wb.test(a.nodeName)&&a.parentNode)$.error("type property can't be changed");else if(!$.support.radioValue&&"radio"===b&&$.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return rb&&$.nodeName(a,"button")?rb.get(a,b):b in a?a.value:null},set:function(a,b,c){return rb&&$.nodeName(a,"button")?rb.set(a,b,c):(a.value=b,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!$.isXMLDoc(a),g&&(c=$.propFix[c]||c,f=$.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):xb.test(a.nodeName)||yb.test(a.nodeName)&&a.href?0:b}}}}),sb={get:function(a,c){var d,e=$.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b
},set:function(a,b,c){var d;return b===!1?$.removeAttr(a,c):(d=$.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Ab||(tb={name:!0,id:!0,coords:!0},rb=$.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(tb[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=P.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},$.each(["width","height"],function(a,b){$.attrHooks[b]=$.extend($.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),$.attrHooks.contenteditable={get:rb.get,set:function(a,b,c){""===b&&(b="false"),rb.set(a,b,c)}}),$.support.hrefNormalized||$.each(["href","src","width","height"],function(a,c){$.attrHooks[c]=$.extend($.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),$.support.style||($.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),$.support.optSelected||($.propHooks.selected=$.extend($.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),$.support.enctype||($.propFix.enctype="encoding"),$.support.checkOn||$.each(["radio","checkbox"],function(){$.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]=$.extend($.valHooks[this],{set:function(a,b){return $.isArray(b)?a.checked=$.inArray($(a).val(),b)>=0:void 0}})});var Bb=/^(?:textarea|input|select)$/i,Cb=/^([^\.]*|)(?:\.(.+)|)$/,Db=/(?:^|\s)hover(\.\S+|)\b/,Eb=/^key/,Fb=/^(?:mouse|contextmenu)|click/,Gb=/^(?:focusinfocus|focusoutblur)$/,Hb=function(a){return $.event.special.hover?a:a.replace(Db,"mouseenter$1 mouseleave$1")};$.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=$._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=$.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof $||a&&$.event.triggered===a.type?b:$.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=$.trim(Hb(c)).split(" "),j=0;j<c.length;j++)k=Cb.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=$.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=$.event.special[l]||{},n=$.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&$.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),$.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.hasData(a)&&$._data(a);if(q&&(m=q.events)){for(b=$.trim(Hb(b||"")).split(" "),f=0;f<b.length;f++)if(g=Cb.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=$.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));0===o.length&&k!==o.length&&(n.teardown&&n.teardown.call(a,j,q.handle)!==!1||$.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)$.event.remove(a,h+b[f],c,d,!0);$.isEmptyObject(m)&&(delete q.handle,$.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(!Gb.test(q+$.event.triggered)&&(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),e&&!$.event.customEvent[q]||$.event.global[q]))if(c="object"==typeof c?c[$.expando]?c:new $.Event(q,c):new $.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?$.makeArray(d):[],d.unshift(c),m=$.event.special[q]||{},!m.trigger||m.trigger.apply(e,d)!==!1){if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!$.isWindow(e)){for(p=m.delegateType||q,j=Gb.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=($._data(j,"events")||{})[c.type]&&$._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&$.acceptData(j)&&n.apply&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&$.nodeName(e,"a")||!$.acceptData(e)||l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!$.isWindow(e)&&(k=e[l],k&&(e[l]=null),$.event.triggered=q,e[q](),$.event.triggered=b,k&&(e[l]=k)),c.result}}else{g=$.cache;for(i in g)g[i].events&&g[i].events[q]&&$.event.trigger(c,d,g[i].handle.elem,!0)}}},dispatch:function(c){c=$.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m=($._data(this,"events")||{})[c.type]||[],n=m.delegateCount,o=V.call(arguments),p=!c.exclusive&&!c.namespace,q=$.event.special[c.type]||{},r=[];if(o[0]=c,c.delegateTarget=this,!q.preDispatch||q.preDispatch.call(this,c)!==!1){if(n&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(h={},j=[],d=0;n>d;d++)k=m[d],l=k.selector,h[l]===b&&(h[l]=k.needsContext?$(l,this).index(f)>=0:$.find(l,this,null,[f]).length),h[l]&&j.push(k);j.length&&r.push({elem:f,matches:j})}for(m.length>n&&r.push({elem:this,matches:m.slice(n)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(i=r[d],c.currentTarget=i.elem,e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++)k=i.matches[e],(p||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))&&(c.data=k.data,c.handleObj=k,g=(($.event.special[k.origType]||{}).handle||k.handler).apply(i.elem,o),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return q.postDispatch&&q.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[$.expando])return a;var b,c,d=a,e=$.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=$.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){$.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=$.extend(new $.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?$.event.trigger(e,null,b):$.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},$.event.handle=$.event.dispatch,$.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},$.Event=function(a,b){return this instanceof $.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&$.extend(this,b),this.timeStamp=a&&a.timeStamp||$.now(),this[$.expando]=!0,void 0):new $.Event(a,b)},$.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},$.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return f.selector,(!e||e!==d&&!$.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),$.support.submitBubbles||($.event.special.submit={setup:function(){return $.nodeName(this,"form")?!1:($.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=$.nodeName(c,"input")||$.nodeName(c,"button")?c.form:b;d&&!$._data(d,"_submit_attached")&&($.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),$._data(d,"_submit_attached",!0))}),void 0)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&$.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return $.nodeName(this,"form")?!1:($.event.remove(this,"._submit"),void 0)}}),$.support.changeBubbles||($.event.special.change={setup:function(){return Bb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&($.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),$.event.simulate("change",this,a,!0)})),!1):($.event.add(this,"beforeactivate._change",function(a){var b=a.target;Bb.test(b.nodeName)&&!$._data(b,"_change_attached")&&($.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||$.event.simulate("change",this.parentNode,a,!0)}),$._data(b,"_change_attached",!0))}),void 0)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return $.event.remove(this,"._change"),!Bb.test(this.nodeName)}}),$.support.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){$.event.simulate(b,a.target,$.event.fix(a),!0)};$.event.special[b]={setup:function(){0===c++&&P.addEventListener(a,d,!0)},teardown:function(){0===--c&&P.removeEventListener(a,d,!0)}}}),$.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return $().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=$.guid++)),this.each(function(){$.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,$(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=f),this.each(function(){$.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return $(this.context).on(a,this.selector,b,c),this},die:function(a,b){return $(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){$.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?$.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||$.guid++,d=0,e=function(c){var e=($._data(this,"lastToggle"+a.guid)||0)%d;return $._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){$.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Eb.test(b)&&($.event.fixHooks[b]=$.event.keyHooks),Fb.test(b)&&($.event.fixHooks[b]=$.event.mouseHooks)}),function(a,b){function c(a,b,c,d){c=c||[],b=b||F;var e,f,g,h,i=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==i&&9!==i)return[];if(g=v(b),!g&&!d&&(e=cb.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&w(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return K.apply(c,L.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&mb&&b.getElementsByClassName)return K.apply(c,L.call(b.getElementsByClassName(h),0)),c}return p(a.replace(Z,"$1"),b,c,d,g)}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return N(function(b){return b=+b,N(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function g(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function h(a,b){var d,e,f,g,h,i,j,k=Q[D][a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=t.preFilter;h;){(!d||(e=_.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ab.exec(h))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=e[0].replace(Z," "));for(g in t.filter)!(e=hb[g].exec(h))||j[g]&&!(e=j[g](e))||(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=g,d.matches=e);if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function i(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,f=I++;return b.first?function(b,c,f){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,f)}:function(b,c,g){if(g){for(;b=b[d];)if((e||1===b.nodeType)&&a(b,c,g))return b}else for(var h,i=H+" "+f+" ",j=i+r;b=b[d];)if(e||1===b.nodeType){if((h=b[D])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{if(b[D]=j,a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function j(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function l(a,b,c,d,e,f){return d&&!d[D]&&(d=l(d)),e&&!e[D]&&(e=l(e,f)),N(function(f,g,h,i){var j,l,m,n=[],p=[],q=g.length,r=f||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!f&&b?r:k(r,n,a,h,i),t=c?e||(f?a:q||d)?[]:g:s;if(c&&c(s,t,h,i),d)for(j=k(t,p),d(j,[],h,i),l=j.length;l--;)(m=j[l])&&(t[p[l]]=!(s[p[l]]=m));if(f){if(e||a){if(e){for(j=[],l=t.length;l--;)(m=t[l])&&j.push(s[l]=m);e(null,t=[],j,i)}for(l=t.length;l--;)(m=t[l])&&(j=e?M.call(f,m):n[l])>-1&&(f[j]=!(g[j]=m))}}else t=k(t===g?t.splice(q,t.length):t),e?e(null,g,t,i):K.apply(g,t)})}function m(a){for(var b,c,d,e=a.length,f=t.relative[a[0].type],g=f||t.relative[" "],h=f?1:0,k=i(function(a){return a===b},g,!0),n=i(function(a){return M.call(b,a)>-1},g,!0),o=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?k(a,c,d):n(a,c,d))}];e>h;h++)if(c=t.relative[a[h].type])o=[i(j(o),c)];else{if(c=t.filter[a[h].type].apply(null,a[h].matches),c[D]){for(d=++h;e>d&&!t.relative[a[d].type];d++);return l(h>1&&j(o),h>1&&a.slice(0,h-1).join("").replace(Z,"$1"),c,d>h&&m(a.slice(h,d)),e>d&&m(a=a.slice(d)),e>d&&a.join(""))}o.push(c)}return j(o)}function n(a,b){var d=b.length>0,e=a.length>0,f=function(g,h,i,j,l){var m,n,o,p=[],q=0,s="0",u=g&&[],v=null!=l,w=A,x=g||e&&t.find.TAG("*",l&&h.parentNode||h),y=H+=null==w?1:Math.E;for(v&&(A=h!==F&&h,r=f.el);null!=(m=x[s]);s++){if(e&&m){for(n=0;o=a[n];n++)if(o(m,h,i)){j.push(m);break}v&&(H=y,r=++f.el)}d&&((m=!o&&m)&&q--,g&&u.push(m))}if(q+=s,d&&s!==q){for(n=0;o=b[n];n++)o(u,p,h,i);if(g){if(q>0)for(;s--;)u[s]||p[s]||(p[s]=J.call(j));p=k(p)}K.apply(j,p),v&&!g&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return v&&(H=y,A=w),u};return f.el=0,d?N(f):f}function o(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function p(a,b,c,d,e){var f,g,i,j,k,l=h(a);if(l.length,!d&&1===l.length){if(g=l[0]=l[0].slice(0),g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!e&&t.relative[g[1].type]){if(b=t.find.ID(i.matches[0].replace(gb,""),b,e)[0],!b)return c;a=a.slice(g.shift().length)}for(f=hb.POS.test(a)?-1:g.length-1;f>=0&&(i=g[f],!t.relative[j=i.type]);f--)if((k=t.find[j])&&(d=k(i.matches[0].replace(gb,""),db.test(g[0].type)&&b.parentNode||b,e))){if(g.splice(f,1),a=d.length&&g.join(""),!a)return K.apply(c,L.call(d,0)),c;break}}return x(a,l)(d,b,e,c,db.test(a)),c}function q(){}var r,s,t,u,v,w,x,y,z,A,B=!0,C="undefined",D=("sizcache"+Math.random()).replace(".",""),E=String,F=a.document,G=F.documentElement,H=0,I=0,J=[].pop,K=[].push,L=[].slice,M=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},N=function(a,b){return a[D]=null==b||b,a},O=function(){var a={},b=[];return N(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c+" "]=d},a)},P=O(),Q=O(),R=O(),S="[\\x20\\t\\r\\n\\f]",T="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=T.replace("w","w#"),V="([*^$|!~]?=)",W="\\["+S+"*("+T+")"+S+"*(?:"+V+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+S+"*\\]",X=":("+T+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",Y=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+S+"*((?:-\\d)?\\d*)"+S+"*\\)|)(?=[^-]|$)",Z=new RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),_=new RegExp("^"+S+"*,"+S+"*"),ab=new RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),bb=new RegExp(X),cb=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,db=/[\x20\t\r\n\f]*[+~]/,eb=/h\d/i,fb=/input|select|textarea|button/i,gb=/\\(?!\\)/g,hb={ID:new RegExp("^#("+T+")"),CLASS:new RegExp("^\\.("+T+")"),NAME:new RegExp("^\\[name=['\"]?("+T+")['\"]?\\]"),TAG:new RegExp("^("+T.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+X),POS:new RegExp(Y,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),needsContext:new RegExp("^"+S+"*[>+~]|"+Y,"i")},ib=function(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},jb=ib(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),kb=ib(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")}),lb=ib(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),mb=ib(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),nb=ib(function(a){a.id=D+0,a.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",G.insertBefore(a,G.firstChild);var b=F.getElementsByName&&F.getElementsByName(D).length===2+F.getElementsByName(D+0).length;return s=!F.getElementById(D),G.removeChild(a),b});try{L.call(G.childNodes,0)[0].nodeType}catch(ob){L=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0},u=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=u(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c},v=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},w=c.contains=G.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:G.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.attr=function(a,b){var c,d=v(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||lb?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},t=c.selectors={cacheLength:50,createPseudo:N,match:hb,attrHandle:kb?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:s?function(a,b,c){if(typeof b.getElementById!==C&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==C&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==C&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:jb?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:nb&&function(a,b){return typeof b.getElementsByName!==C?b.getElementsByName(name):void 0},CLASS:mb&&function(a,b,c){return typeof b.getElementsByClassName===C||c?void 0:b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(gb,""),a[3]=(a[4]||a[5]||"").replace(gb,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;return hb.CHILD.test(a[0])?null:(a[3]?a[2]=a[3]:(b=a[4])&&(bb.test(b)&&(c=h(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b),a.slice(0,3))}},filter:{ID:s?function(a){return a=a.replace(gb,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(gb,""),function(b){var c=typeof b.getAttributeNode!==C&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(gb,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=P[D][a+" "];return b||(b=new RegExp("(^|"+S+")"+a+"("+S+"|$)"))&&P(a,function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.substr(f.length-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f)for(e=0,b=f.firstChild;b&&(1!==b.nodeType||(e++,a!==b));b=b.nextSibling);return e-=d,e===c||0===e%c&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var d,e=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[D]?e(b):e.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?N(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=M.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:N(function(a){var b=[],c=[],d=x(a.replace(Z,"$1"));return d[D]?N(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:N(function(a){return function(b){return c(a,b).length>0}}),contains:N(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return eb.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return fb.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y=G.compareDocumentPosition?function(a,b){return a===b?(z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return g(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return g(e[k],f[k]);return k===c?g(a,f[k],-1):g(e[k],b,1)},[0,0].sort(y),B=!z,c.uniqueSort=function(a){var b,c=[],d=1,e=0;if(z=B,a.sort(y),z){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},x=c.compile=function(a,b){var c,d=[],e=[],f=R[D][a+" "];if(!f){for(b||(b=h(a)),c=b.length;c--;)f=m(b[c]),f[D]?d.push(f):e.push(f);f=R(a,n(e,d))}return f},F.querySelectorAll&&function(){var a,b=p,d=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],g=[":active"],i=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector;ib(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||f.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||f.push(":checked")}),ib(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&f.push("[*^$]="+S+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),p=function(a,c,e,g,i){if(!g&&!i&&!f.test(a)){var j,k,l=!0,m=D,n=c,o=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){for(j=h(a),(l=c.getAttribute("id"))?m=l.replace(d,"\\$&"):c.setAttribute("id",m),m="[id='"+m+"'] ",k=j.length;k--;)j[k]=m+j[k].join("");n=db.test(a)&&c.parentNode||c,o=j.join(",")}if(o)try{return K.apply(e,L.call(n.querySelectorAll(o),0)),e}catch(p){}finally{l||c.removeAttribute("id")}}return b(a,c,e,g,i)},i&&(ib(function(b){a=i.call(b,"div");try{i.call(b,"[test!='']:sizzle"),g.push("!=",X)}catch(c){}}),g=new RegExp(g.join("|")),c.matchesSelector=function(b,d){if(d=d.replace(e,"='$1']"),!v(b)&&!g.test(d)&&!f.test(d))try{var h=i.call(b,d);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return c(d,null,null,[b]).length>0})}(),t.pseudos.nth=t.pseudos.eq,t.filters=q.prototype=t.pseudos,t.setFilters=new q,c.attr=$.attr,$.find=c,$.expr=c.selectors,$.expr[":"]=$.expr.pseudos,$.unique=c.uniqueSort,$.text=c.getText,$.isXMLDoc=c.isXML,$.contains=c.contains}(a);var Ib=/Until$/,Jb=/^(?:parents|prev(?:Until|All))/,Kb=/^.[^:#\[\.,]*$/,Lb=$.expr.match.needsContext,Mb={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return $(a).filter(function(){for(b=0,c=h.length;c>b;b++)if($.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;c>b;b++)if(d=g.length,$.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;d>f;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=$(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if($.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Lb.test(a)?$(a,this.context).index(this[0])>=0:$.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Lb.test(a)||"string"!=typeof a?$(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:$.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?$.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?$.inArray(this[0],$(a)):$.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?$(a,b):$.makeArray(a&&a.nodeType?[a]:a),d=$.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:$.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),$.fn.andSelf=$.fn.addBack,$.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return $.dir(a,"parentNode")},parentsUntil:function(a,b,c){return $.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return $.dir(a,"nextSibling")},prevAll:function(a){return $.dir(a,"previousSibling")},nextUntil:function(a,b,c){return $.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return $.dir(a,"previousSibling",c)},siblings:function(a){return $.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return $.sibling(a.firstChild)},contents:function(a){return $.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:$.merge([],a.childNodes)}},function(a,b){$.fn[a]=function(c,d){var e=$.map(this,b,c);return Ib.test(a)||(d=c),d&&"string"==typeof d&&(e=$.filter(d,e)),e=this.length>1&&!Mb[a]?$.unique(e):e,this.length>1&&Jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))
}}),$.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?$.find.matchesSelector(b[0],a)?[b[0]]:[]:$.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!$(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ob=/ jQuery\d+="(?:null|\d+)"/g,Pb=/^\s+/,Qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rb=/<([\w:]+)/,Sb=/<tbody/i,Tb=/<|&#?\w+;/,Ub=/<(?:script|style|link)/i,Vb=/<(?:script|object|embed|option|style)/i,Wb=new RegExp("<(?:"+Nb+")[\\s/>]","i"),Xb=/^(?:checkbox|radio)$/,Yb=/checked\s*(?:[^=]|=\s*.checked.)/i,Zb=/\/(java|ecma)script/i,$b=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_b={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ac=k(P),bc=ac.appendChild(P.createElement("div"));_b.optgroup=_b.option,_b.tbody=_b.tfoot=_b.colgroup=_b.caption=_b.thead,_b.th=_b.td,$.support.htmlSerialize||(_b._default=[1,"X<div>","</div>"]),$.fn.extend({text:function(a){return $.access(this,function(a){return a===b?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if($.isFunction(a))return this.each(function(b){$(this).wrapAll(a.call(this,b))});if(this[0]){var b=$(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return $.isFunction(a)?this.each(function(b){$(this).wrapInner(a.call(this,b))}):this.each(function(){var b=$(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=$.isFunction(a);return this.each(function(c){$(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||$.filter(a,[c]).length)&&(b||1!==c.nodeType||($.cleanData(c.getElementsByTagName("*")),$.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&$.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return $.clone(this,a,b)})},html:function(a){return $.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Ob,""):b;if(!("string"!=typeof a||Ub.test(a)||!$.support.htmlSerialize&&Wb.test(a)||!$.support.leadingWhitespace&&Pb.test(a)||_b[(Rb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Qb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack($($.isFunction(a)?a():a),"replaceWith",a):this:$.isFunction(a)?this.each(function(b){var c=$(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=$(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;$(this).remove(),b?$(b).before(a):$(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!$.support.checkClone&&m>1&&"string"==typeof j&&Yb.test(j))return this.each(function(){$(this).domManip(a,c,d)});if($.isFunction(j))return this.each(function(e){var f=$(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=$.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&$.nodeName(f,"tr"),h=e.cacheable||m-1;m>i;i++)d.call(c&&$.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:$.clone(g,!0,!0));g=f=null,k.length&&$.each(k,function(a,b){b.src?$.ajax?$.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):$.error("no ajax"):$.globalEval((b.text||b.textContent||b.innerHTML||"").replace($b,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),$.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,!(1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0))||Vb.test(h)||!$.support.checkClone&&Yb.test(h)||!$.support.html5Clone&&Wb.test(h)||(f=!0,e=$.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),$.clean(a,c,e,d),f&&($.fragments[h]=g&&e)),{fragment:e,cacheable:f}},$.fragments={},$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){$.fn[a]=function(c){var d,e=0,f=[],g=$(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;h>e;e++)d=(e>0?this.clone(!0):this).get(),$(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),$.extend({clone:function(a,b,c){var d,e,f,g;if($.support.html5Clone||$.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bc.innerHTML=a.outerHTML,bc.removeChild(g=bc.firstChild)),!($.support.noCloneEvent&&$.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||$.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=b===P&&ac,s=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=P),e=0;null!=(g=a[e]);e++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Tb.test(g)){for(r=r||k(b),l=b.createElement("div"),r.appendChild(l),g=g.replace(Qb,"<$1></$2>"),h=(Rb.exec(g)||["",""])[1].toLowerCase(),i=_b[h]||_b._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!$.support.tbody)for(m=Sb.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,f=n.length-1;f>=0;--f)$.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f]);!$.support.leadingWhitespace&&Pb.test(g)&&l.insertBefore(b.createTextNode(Pb.exec(g)[0]),l.firstChild),g=l.childNodes,l.parentNode.removeChild(l)}else g=b.createTextNode(g);g.nodeType?s.push(g):$.merge(s,g)}if(l&&(g=l=r=null),!$.support.appendChecked)for(e=0;null!=(g=s[e]);e++)$.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&$.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){return!a.type||Zb.test(a.type)?d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a):void 0},e=0;null!=(g=s[e]);e++)$.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=$.grep($.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[e+1,0].concat(q)),e+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=$.expando,i=$.cache,j=$.support.deleteExpando,k=$.event.special;null!=(e=a[g]);g++)if((b||$.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?$.event.remove(e,f):$.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,$.deletedIds.push(d))}}}),function(){var a,b;$.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=$.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),$.browser=b,$.sub=function(){function a(b,c){return new a.fn.init(b,c)}$.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof $&&!(d instanceof a)&&(d=a(d)),$.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var cc,dc,ec,fc=/alpha\([^)]*\)/i,gc=/opacity=([^)]*)/,hc=/^(top|right|bottom|left)$/,ic=/^(none|table(?!-c[ea]).+)/,jc=/^margin/,kc=new RegExp("^("+_+")(.*)$","i"),lc=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),mc=new RegExp("^([-+])=("+_+")","i"),nc={BODY:"block"},oc={position:"absolute",visibility:"hidden",display:"block"},pc={letterSpacing:0,fontWeight:400},qc=["Top","Right","Bottom","Left"],rc=["Webkit","O","Moz","ms"],sc=$.fn.toggle;$.fn.extend({css:function(a,c){return $.access(this,function(a,c,d){return d!==b?$.style(a,c,d):$.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return $.isFunction(a)&&$.isFunction(b)?sc.apply(this,arguments):this.each(function(){(c?a:r(this))?$(this).show():$(this).hide()})}}),$.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cc(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":$.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=$.camelCase(c),j=a.style;if(c=$.cssProps[i]||($.cssProps[i]=q(j,i)),h=$.cssHooks[c]||$.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=mc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat($.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||$.cssNumber[i]||(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=$.camelCase(c);return c=$.cssProps[i]||($.cssProps[i]=q(a.style,i)),h=$.cssHooks[c]||$.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=cc(a,c)),"normal"===f&&c in pc&&(f=pc[c]),d||e!==b?(g=parseFloat(f),d||$.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?cc=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h.getPropertyValue(c)||h[c],""!==d||$.contains(b.ownerDocument,b)||(d=$.style(b,c)),lc.test(d)&&jc.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:P.documentElement.currentStyle&&(cc=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),lc.test(e)&&!hc.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),$.each(["height","width"],function(a,b){$.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ic.test(cc(a,"display"))?$.swap(a,oc,function(){return v(a,b,d)}):v(a,b,d):void 0},set:function(a,c,d){return t(a,c,d?u(a,b,d,$.support.boxSizing&&"border-box"===$.css(a,"boxSizing")):0)}}}),$.support.opacity||($.cssHooks.opacity={get:function(a,b){return gc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=$.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===$.trim(f.replace(fc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=fc.test(f)?f.replace(fc,e):f+" "+e)}}),$(function(){$.support.reliableMarginRight||($.cssHooks.marginRight={get:function(a,b){return $.swap(a,{display:"inline-block"},function(){return b?cc(a,"marginRight"):void 0})}}),!$.support.pixelPosition&&$.fn.position&&$.each(["top","left"],function(a,b){$.cssHooks[b]={get:function(a,c){if(c){var d=cc(a,b);return lc.test(d)?$(a).position()[b]+"px":d}}}})}),$.expr&&$.expr.filters&&($.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!$.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||cc(a,"display"))},$.expr.filters.visible=function(a){return!$.expr.filters.hidden(a)}),$.each({margin:"",padding:"",border:"Width"},function(a,b){$.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+qc[d]+b]=e[d]||e[d-2]||e[0];return f}},jc.test(a)||($.cssHooks[a+b].set=t)});var tc=/%20/g,uc=/\[\]$/,vc=/\r?\n/g,wc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xc=/^(?:select|textarea)/i;$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xc.test(this.nodeName)||wc.test(this.type))}).map(function(a,b){var c=$(this).val();return null==c?null:$.isArray(c)?$.map(c,function(a){return{name:b.name,value:a.replace(vc,"\r\n")}}):{name:b.name,value:c.replace(vc,"\r\n")}}).get()}}),$.param=function(a,c){var d,e=[],f=function(a,b){b=$.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(a)||a.jquery&&!$.isPlainObject(a))$.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(tc,"+")};var yc,zc,Ac=/#.*$/,Bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cc=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dc=/^(?:GET|HEAD)$/,Ec=/^\/\//,Fc=/\?/,Gc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Hc=/([?&])_=[^&]*/,Ic=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Jc=$.fn.load,Kc={},Lc={},Mc=["*/"]+["*"];try{zc=Q.href}catch(Nc){zc=P.createElement("a"),zc.href="",zc=zc.href}yc=Ic.exec(zc.toLowerCase())||[],$.fn.load=function(a,c,d){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),$.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),$.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?$("<div>").append(a.replace(Gc,"")).find(e):a)}),this},$.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){$.fn[b]=function(a){return this.on(b,a)}}),$.each(["get","post"],function(a,c){$[c]=function(a,d,e,f){return $.isFunction(d)&&(f=f||e,e=d,d=b),$.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),$.extend({getScript:function(a,c){return $.get(a,b,c,"script")},getJSON:function(a,b,c){return $.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,$.ajaxSettings):(b=a,a=$.ajaxSettings),A(a,b),a},ajaxSettings:{url:zc,isLocal:Cc.test(yc[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Kc),ajaxTransport:y(Lc),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&($.lastModified[e]=v),v=w.getResponseHeader("Etag"),v&&($.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s)):(s=x,(!x||a)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--$.active||$.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=$.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof $)?$(n):$.event,p=$.Deferred(),q=$.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g)for(g={};c=Bc.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(2>u)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(Ac,"").replace(Ec,yc[1]+"//"),m.dataTypes=$.trim(m.dataType||"*").toLowerCase().split(bb),null==m.crossDomain&&(j=Ic.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===yc[1]&&j[2]===yc[2]&&(j[3]||("http:"===j[1]?80:443))==(yc[3]||("http:"===yc[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=$.param(m.data,m.traditional)),z(Kc,m,c,w),2===u)return w;if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Dc.test(m.type),k&&0===$.active++&&$.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Fc.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,m.cache===!1)){var x=$.now(),y=m.url.replace(Hc,"$1_="+x);m.url=y+(y===m.url?(Fc.test(m.url)?"&":"?")+"_="+x:"")}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,$.lastModified[e]&&w.setRequestHeader("If-Modified-Since",$.lastModified[e]),$.etag[e]&&w.setRequestHeader("If-None-Match",$.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Mc+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=z(Lc,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(A){if(!(2>u))throw A;d(-1,A)}}else d(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Oc=[],Pc=/\?/,Qc=/(=)\?(?=&|$)|\?\?/,Rc=$.now();$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Oc.pop()||$.expando+"_"+Rc++;return this[a]=!0,a}}),$.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&Qc.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qc.test(i);return"jsonp"===c.dataTypes[0]||l||m?(f=c.jsonpCallback=$.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Qc,"$1"+f):m?c.data=i.replace(Qc,"$1"+f):k&&(c.url+=(Pc.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||$.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Oc.push(f)),h&&$.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return $.globalEval(a),a}}}),$.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),$.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(e,f){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Sc,Tc=a.ActiveXObject?function(){for(var a in Sc)Sc[a](0,1)}:!1,Uc=0;$.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){$.extend($.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}($.ajaxSettings.xhr()),$.support.ajax&&$.ajaxTransport(function(c){if(!c.crossDomain||$.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=$.noop,Tc&&delete Sc[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(n){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++Uc,Tc&&(Sc||(Sc={},$(a).unload(Tc)),Sc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Vc,Wc,Xc=/^(?:toggle|show|hide)$/,Yc=new RegExp("^(?:([-+])=|)("+_+")([a-z%]*)$","i"),Zc=/queueHooks$/,$c=[J],_c={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=Yc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||($.cssNumber[a]?"":"px"),"px"!==d&&h){h=$.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,$.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};$.Animation=$.extend(H,{tweener:function(a,b){$.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],_c[c]=_c[c]||[],_c[c].unshift(b)},prefilter:function(a,b){b?$c.unshift(a):$c.push(a)}}),$.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||($.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.pos=b=this.options.duration?$.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=$.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){$.fx.step[a.prop]?$.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[$.cssProps[a.prop]]||$.cssHooks[a.prop])?$.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},$.each(["toggle","show","hide"],function(a,b){var c=$.fn[b];$.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&$.isFunction(d)&&$.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),$.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=$.isEmptyObject(a),f=$.speed(b,c,d),g=function(){var b=H(this,$.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=$.timers,g=$._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Zc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&$.dequeue(this,a)})}}),$.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){$.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),$.speed=function(a,b,c){var d=a&&"object"==typeof a?$.extend({},a):{complete:c||!c&&b||$.isFunction(a)&&a,duration:a,easing:c&&b||b&&!$.isFunction(b)&&b};return d.duration=$.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in $.fx.speeds?$.fx.speeds[d.duration]:$.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){$.isFunction(d.old)&&d.old.call(this),d.queue&&$.dequeue(this,d.queue)},d},$.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},$.timers=[],$.fx=K.prototype.init,$.fx.tick=function(){var a,c=$.timers,d=0;for(Vc=$.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||$.fx.stop(),Vc=b},$.fx.timer=function(a){a()&&$.timers.push(a)&&!Wc&&(Wc=setInterval($.fx.tick,$.fx.interval))},$.fx.interval=13,$.fx.stop=function(){clearInterval(Wc),Wc=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fx.step={},$.expr&&$.expr.filters&&($.expr.filters.animated=function(a){return $.grep($.timers,function(b){return a===b.elem}).length});var ad=/^(?:body|html)$/i;$.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){$.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(l)return(d=l.body)===k?$.offset.bodyOffset(k):(c=l.documentElement,$.contains(c,k)?("undefined"!=typeof k.getBoundingClientRect&&(j=k.getBoundingClientRect()),e=M(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},$.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return $.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat($.css(a,"marginTop"))||0,c+=parseFloat($.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=$.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=$(a),h=g.offset(),i=$.css(a,"top"),j=$.css(a,"left"),k=("absolute"===d||"fixed"===d)&&$.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),$.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},$.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=ad.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat($.css(a,"marginTop"))||0,c.left-=parseFloat($.css(a,"marginLeft"))||0,d.top+=parseFloat($.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat($.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!ad.test(a.nodeName)&&"static"===$.css(a,"position");)a=a.offsetParent;return a||P.body})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);$.fn[a]=function(e){return $.access(this,function(a,e,f){var g=M(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?$(g).scrollLeft():f,d?f:$(g).scrollTop()):a[e]=f,void 0)},a,e,arguments.length,null)}}),$.each({Height:"height",Width:"width"},function(a,c){$.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){$.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return $.access(this,function(c,d,e){var f;return $.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?$.css(c,d,e,h):$.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=$,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return $})}(window),function(a,b){function c(a,b){this._d=a,this._isUTC=!!b}function d(a){return 0>a?Math.ceil(a):Math.floor(a)}function e(a){var b=this._data={},c=a.years||a.y||0,e=a.months||a.M||0,f=a.weeks||a.w||0,g=a.days||a.d||0,h=a.hours||a.h||0,i=a.minutes||a.m||0,j=a.seconds||a.s||0,k=a.milliseconds||a.ms||0;this._milliseconds=k+1e3*j+6e4*i+36e5*h,this._days=g+7*f,this._months=e+12*c,b.milliseconds=k%1e3,j+=d(k/1e3),b.seconds=j%60,i+=d(j/60),b.minutes=i%60,h+=d(i/60),b.hours=h%24,g+=d(h/24),g+=7*f,b.days=g%30,e+=d(g/30),b.months=e%12,c+=d(e/12),b.years=c}function f(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function g(a,b,c){var d,e=b._milliseconds,f=b._days,g=b._months;e&&a._d.setTime(+a+e*c),f&&a.date(a.date()+f*c),g&&(d=a.date(),a.date(1).month(a.month()+g*c).date(Math.min(d,a.daysInMonth())))}function h(a){return"[object Array]"===Object.prototype.toString.call(a)}function i(b){return new a(b[0],b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0)}function j(b,c){function d(c){var r,s;switch(c){case"M":return e+1;case"Mo":return e+1+p(e+1);case"MM":return f(e+1,2);case"MMM":return v.monthsShort[e];case"MMMM":return v.months[e];case"D":return g;case"Do":return g+p(g);case"DD":return f(g,2);case"DDD":return r=new a(h,e,g),s=new a(h,0,1),~~((r-s)/864e5+1.5);case"DDDo":return r=d("DDD"),r+p(r);case"DDDD":return f(d("DDD"),3);case"d":return i;case"do":return i+p(i);case"ddd":return v.weekdaysShort[i];case"dddd":return v.weekdays[i];case"w":return r=new a(h,e,g-i+5),s=new a(r.getFullYear(),0,4),~~((r-s)/864e5/7+1.5);case"wo":return r=d("w"),r+p(r);case"ww":return f(d("w"),2);case"YY":return f(h%100,2);case"YYYY":return h;case"a":return q?q(k,l,!1):k>11?"pm":"am";case"A":return q?q(k,l,!0):k>11?"PM":"AM";case"H":return k;case"HH":return f(k,2);case"h":return k%12||12;case"hh":return f(k%12||12,2);case"m":return l;case"mm":return f(l,2);case"s":return m;case"ss":return f(m,2);case"S":return~~(n/100);case"SS":return f(~~(n/10),2);case"SSS":return f(n,3);case"Z":return(0>o?"-":"+")+f(~~(Math.abs(o)/60),2)+":"+f(~~(Math.abs(o)%60),2);case"ZZ":return(0>o?"-":"+")+f(~~(10*Math.abs(o)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return j(b,v.longDateFormat[c]);default:return c.replace(/(^\[)|(\\)|\]$/g,"")}}var e=b.month(),g=b.date(),h=b.year(),i=b.day(),k=b.hours(),l=b.minutes(),m=b.seconds(),n=b.milliseconds(),o=-b.zone(),p=v.ordinal,q=v.meridiem;return c.replace(E,d)}function k(a){switch(a){case"DDDD":return I;case"YYYY":return J;case"S":case"SS":case"SSS":case"DDD":return H;case"MMM":case"MMMM":case"ddd":case"dddd":case"a":case"A":return K;
case"Z":case"ZZ":return L;case"T":return M;case"MM":case"DD":case"dd":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return G;default:return new RegExp(a.replace("\\",""))}}function l(a,b,c,d){var e;switch(a){case"M":case"MM":c[1]=null==b?0:~~b-1;break;case"MMM":case"MMMM":for(e=0;12>e;e++)if(v.monthsParse[e].test(b)){c[1]=e;break}break;case"D":case"DD":case"DDD":case"DDDD":c[2]=~~b;break;case"YY":b=~~b,c[0]=b+(b>70?1900:2e3);break;case"YYYY":c[0]=~~Math.abs(b);break;case"a":case"A":d.isPm="pm"===(b+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":c[3]=~~b;break;case"m":case"mm":c[4]=~~b;break;case"s":case"ss":c[5]=~~b;break;case"S":case"SS":case"SSS":c[6]=~~(1e3*("0."+b));break;case"Z":case"ZZ":d.isUTC=!0,e=(b+"").match(Q),e&&e[1]&&(d.tzh=~~e[1]),e&&e[2]&&(d.tzm=~~e[2]),e&&"+"===e[0]&&(d.tzh=-d.tzh,d.tzm=-d.tzm)}}function m(b,c){var d,e,f=[0,0,1,0,0,0,0],g={tzh:0,tzm:0},h=c.match(E);for(d=0;d<h.length;d++)e=(k(h[d]).exec(b)||[])[0],b=b.replace(k(h[d]),""),l(h[d],e,f,g);return g.isPm&&f[3]<12&&(f[3]+=12),g.isPm===!1&&12===f[3]&&(f[3]=0),f[3]+=g.tzh,f[4]+=g.tzm,g.isUTC?new a(a.UTC.apply({},f)):i(f)}function n(a,b){var c,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function o(a,b){var d,e,f,g,h,i=a.match(F)||[],k=99;for(f=0;f<b.length;f++)g=m(a,b[f]),e=j(new c(g),b[f]).match(F)||[],h=n(i,e),k>h&&(k=h,d=g);return d}function p(b){var c,d="YYYY-MM-DDT";if(N.exec(b)){for(c=0;4>c;c++)if(P[c][1].exec(b)){d+=P[c][0];break}return L.exec(b)?m(b,d+" Z"):m(b,d)}return new a(b)}function q(a,b,c,d){var e=v.relativeTime[a];return"function"==typeof e?e(b||1,!!c,a,d):e.replace(/%d/i,b||1)}function r(a,b){var c=y(Math.abs(a)/1e3),d=y(c/60),e=y(d/60),f=y(e/24),g=y(f/365),h=45>c&&["s",c]||1===d&&["m"]||45>d&&["mm",d]||1===e&&["h"]||22>e&&["hh",e]||1===f&&["d"]||25>=f&&["dd",f]||45>=f&&["M"]||345>f&&["MM",y(f/30)]||1===g&&["y"]||["yy",g];return h[2]=b,h[3]=a>0,q.apply({},h)}function s(a,b){v.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function t(a){v.duration.fn[a]=function(){return this._data[a]}}function u(a,b){v.duration.fn["as"+a]=function(){return+this/b}}var v,w,x="1.6.2",y=Math.round,z={},A="en",B="undefined"!=typeof module,C="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),D=/^\/?Date\((\-?\d+)/i,E=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|LT|LL?L?L?)/g,F=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,G=/\d\d?/,H=/\d{1,3}/,I=/\d{3}/,J=/\d{4}/,K=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,L=/Z|[\+\-]\d\d:?\d\d/i,M=/T/i,N=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,O="YYYY-MM-DDTHH:mm:ssZ",P=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],Q=/([\+\-]|\d\d)/gi,R="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),S={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6};for(v=function(d,e){if(null===d||""===d)return null;var f,g,j;return v.isMoment(d)?(f=new a(+d._d),j=d._isUTC):e?f=h(e)?o(d,e):m(d,e):(g=D.exec(d),f=d===b?new a:g?new a(+g[1]):d instanceof a?d:h(d)?i(d):"string"==typeof d?p(d):new a(d)),new c(f,j)},v.utc=function(b,d){return h(b)?new c(new a(a.UTC.apply({},b)),!0):d&&b?v(b+" +0000",d+" Z").utc():v(b&&!L.exec(b)?b+"+0000":b).utc()},v.unix=function(a){return v(1e3*a)},v.duration=function(a,b){var c=v.isDuration(a),d="number"==typeof a,f=c?a._data:d?{}:a;return d&&(b?f[b]=a:f.milliseconds=a),new e(f)},v.humanizeDuration=function(a,b,c){return v.duration(a,b===!0?null:b).humanize(b===!0?!0:c)},v.version=x,v.defaultFormat=O,v.lang=function(a,b){var c,d,e=[];if(!a)return A;if(b){for(c=0;12>c;c++)e[c]=new RegExp("^"+b.months[c]+"|^"+b.monthsShort[c].replace(".",""),"i");b.monthsParse=b.monthsParse||e,z[a]=b}if(z[a]){for(c=0;c<C.length;c++)v[C[c]]=z[a][C[c]]||z.en[C[c]];A=a}else B&&(d=require("./lang/"+a),v.lang(a,d))},v.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:!1,calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}}),v.isMoment=function(a){return a instanceof c},v.isDuration=function(a){return a instanceof e},v.fn=c.prototype={clone:function(){return v(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){return j(this,a?a:v.defaultFormat)},add:function(a,b){var c=b?v.duration(+b,a):v.duration(a);return g(this,c,1),this},subtract:function(a,b){var c=b?v.duration(+b,a):v.duration(a);return g(this,c,-1),this},diff:function(a,b,c){var d,e=this._isUTC?v(a).utc():v(a).local(),f=6e4*(this.zone()-e.zone()),g=this._d-e._d-f,h=this.year()-e.year(),i=this.month()-e.month(),j=this.date()-e.date();return d="months"===b?12*h+i+j/30:"years"===b?h+(i+j/30)/12:"seconds"===b?g/1e3:"minutes"===b?g/6e4:"hours"===b?g/36e5:"days"===b?g/864e5:"weeks"===b?g/6048e5:g,c?d:y(d)},from:function(a,b){return v.duration(this.diff(a)).humanize(!b)},fromNow:function(a){return this.from(v(),a)},calendar:function(){var a=this.diff(v().sod(),"days",!0),b=v.calendar,c=b.sameElse,d=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"==typeof d?d.apply(this):d)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<v([this.year()]).zone()||this.zone()<v([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==a?b:this.add({d:a-b})},sod:function(){return v(this).hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return v(this).month(this.month()+1).date(0).date()}},w=0;w<R.length;w++)s(R[w].toLowerCase(),R[w]);s("year","FullYear"),v.duration.fn=e.prototype={weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(a){var b=+this,c=v.relativeTime,d=r(b,!a);return a&&(d=(0>=b?c.past:c.future).replace(/%s/i,d)),d}};for(w in S)S.hasOwnProperty(w)&&(u(w,S[w]),t(w.toLowerCase()));u("Weeks",6048e5),B&&(module.exports=v),"undefined"!=typeof window&&"undefined"==typeof ender&&(window.moment=v),"function"==typeof define&&define.amd&&define("moment",[],function(){return v})}(Date),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=(d.unshift,e.toString),k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?(this._wrapped=a,void 0):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.2";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),arguments.length>2?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},x.find=x.detect=function(a,b,c){var d;return z(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){var d=[];return null==a?d:(y(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var z=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){var c=!1;return null==a?c:s&&a.indexOf===s?-1!=a.indexOf(b):c=z(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2);return x.map(a,function(a){return(x.isFunction(b)?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b){return x.isEmpty(b)?[]:x.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var A=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=A(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var B=function(a,b,c,d){var e={},f=A(b);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return B(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return B(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:A(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?a.length===+a.length?h.call(a):x.values(a):[]},x.size=function(a){return a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,function(a){return!!a})};var C=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):C(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return C(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var D=function(){};x.bind=function(a,b){var c,d;if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return d=h.call(arguments,2),c=function(){if(!(this instanceof c))return a.apply(b,d.concat(h.call(arguments)));D.prototype=a.prototype;var e=new D,f=a.apply(e,d.concat(h.call(arguments)));return Object(f)===f?f:e}},x.bindAll=function(a){var b=h.call(arguments,1);return 0==b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g,h,i=x.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var j=function(){e=null,g&&(h=a.apply(c,d)),i()};return e||(e=setTimeout(j,b)),f?g=!0:(f=!0,h=a.apply(c,d)),i(),h}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return x.isNumber(a)&&isFinite(a)},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},x.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:new RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=H++;return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){c=x.defaults({},c,x.templateSettings);var d=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){f+=a.slice(e,h).replace(K,function(a){return"\\"+J[a]}),f+=c?"'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?"'+\n((__t=("+d+"))==null?'':__t)+\n'":g?"';\n"+g+"\n__p+='":"",e=h+b.length}),f+="';\n",c.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h}if(b)return g(b,x);var i=function(a){return g.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+f+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),window.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(x.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a)if(t[a[d]]!==c)return"pfx"==b?a[d]:!0;return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+z.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+A.join(d+" ")+d).split(" "),i(e,b,c))}function k(){o.input=function(c){for(var d=0,e=c.length;e>d;d++)E[c[d]]=!!(c[d]in u);return E.list&&(E.list=!(!b.createElement("datalist")||!a.HTMLDataListElement)),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),o.inputtypes=function(a){for(var d,e,f,g=0,h=a.length;h>g;g++)u.setAttribute("type",e=a[g]),d="text"!==u.type,d&&(u.value=v,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&u.style.WebkitAppearance!==c?(q.appendChild(u),f=b.defaultView,d=f.getComputedStyle&&"textfield"!==f.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,q.removeChild(u)):/^(search|tel)$/.test(e)||(/^(url|email)$/.test(e)?d=u.checkValidity&&u.checkValidity()===!1:/^color$/.test(e)?(q.appendChild(u),q.offsetWidth,d=u.value!=v,q.removeChild(u)):d=u.value!=v)),D[a[g]]=!!d;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,m,n="2.5.3",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=b.createElement("input"),v=":)",w={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",z=y.split(" "),A=y.toLowerCase().split(" "),B={svg:"http://www.w3.org/2000/svg"},C={},D={},E={},F=[],G=F.slice,H=function(a,c,d,e){var f,g,h,i=b.createElement("div"),j=b.body,k=j?j:b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),i.appendChild(h);return f=["&#173;","<style>",a,"</style>"].join(""),i.id=r,k.innerHTML+=f,k.appendChild(i),j||(k.style.background="",q.appendChild(k)),g=c(i,a),j?i.parentNode.removeChild(i):k.parentNode.removeChild(k),!!g},I=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return H("@media "+b+" { #"+r+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},J=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),K={}.hasOwnProperty;m=f(K,"undefined")||f(K.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return K.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=G.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(G.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(G.call(arguments)))};return d}),function(c,d){var e=c.join(""),f=d.length;H(e,function(c,d){for(var e=b.styleSheets[b.styleSheets.length-1],g=e?e.cssRules&&e.cssRules[0]?e.cssRules[0].cssText:e.cssText||"":"",h=c.childNodes,i={};f--;)i[h[f].id]=h[f];o.touch="ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch||9===(i.touch&&i.touch.offsetTop),o.csstransforms3d=9===(i.csstransforms3d&&i.csstransforms3d.offsetLeft)&&3===i.csstransforms3d.offsetHeight,o.generatedcontent=(i.generatedcontent&&i.generatedcontent.offsetHeight)>=1,o.fontface=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])},f,d)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",x.join("touch-enabled),("),r,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",x.join("transform-3d),("),r,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',v,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]),C.flexbox=function(){return j("flexOrder")},C["flexbox-legacy"]=function(){return j("boxDirection")},C.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},C.canvastext=function(){return!(!o.canvas||!f(b.createElement("canvas").getContext("2d").fillText,"function"))},C.webgl=function(){try{var d,e=b.createElement("canvas");d=!(!a.WebGLRenderingContext||!e.getContext("experimental-webgl")&&!e.getContext("webgl")),e=c}catch(f){d=!1}return d},C.touch=function(){return o.touch},C.geolocation=function(){return!!navigator.geolocation},C.postmessage=function(){return!!a.postMessage},C.websqldatabase=function(){return!!a.openDatabase},C.indexedDB=function(){return!!j("indexedDB",a)},C.hashchange=function(){return J("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},C.history=function(){return!(!a.history||!history.pushState)},C.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},C.websockets=function(){for(var b=-1,c=z.length;++b<c;)if(a[z[b]+"WebSocket"])return!0;return"WebSocket"in a},C.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(t.backgroundColor,"rgba")},C.hsla=function(){return d("background-color:hsla(120,40%,100%,.5)"),g(t.backgroundColor,"rgba")||g(t.backgroundColor,"hsla")},C.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(t.background)},C.backgroundsize=function(){return j("backgroundSize")},C.borderimage=function(){return j("borderImage")},C.borderradius=function(){return j("borderRadius")},C.boxshadow=function(){return j("boxShadow")},C.textshadow=function(){return""===b.createElement("div").style.textShadow},C.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},C.cssanimations=function(){return j("animationName")},C.csscolumns=function(){return j("columnCount")},C.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+"-webkit- ".split(" ").join(b+a)+x.join(c+a)).slice(0,-a.length)),g(t.backgroundImage,"gradient")},C.cssreflections=function(){return j("boxReflect")},C.csstransforms=function(){return!!j("transform")},C.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in q.style&&(a=o.csstransforms3d),a},C.csstransitions=function(){return j("transition")},C.fontface=function(){return o.fontface},C.generatedcontent=function(){return o.generatedcontent},C.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},C.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},C.localstorage=function(){try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(a){return!1}},C.sessionstorage=function(){try{return sessionStorage.setItem(r,r),sessionStorage.removeItem(r),!0}catch(a){return!1}},C.webworkers=function(){return!!a.Worker},C.applicationcache=function(){return!!a.applicationCache},C.svg=function(){return!!b.createElementNS&&!!b.createElementNS(B.svg,"svg").createSVGRect},C.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==B.svg},C.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(w.call(b.createElementNS(B.svg,"animate")))},C.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(w.call(b.createElementNS(B.svg,"clipPath")))};for(var L in C)m(C,L)&&(l=L.toLowerCase(),o[l]=C[L](),F.push((o[l]?"":"no-")+l));return o.input||k(),o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,q.className+=" "+(b?"":"no-")+a,o[a]=b}return o},d(""),s=u=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=k.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b={},c=a.createElement,e=a.createDocumentFragment,f=e();a.createElement=function(a){var d=(b[a]||(b[a]=c(a))).cloneNode();return k.shivMethods&&d.canHaveChildren&&!j.test(a)?f.appendChild(d):d},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return b[a]=c(a),f.createElement(a),'c("'+a+'")'})+");return n}")(k,f)}function f(a){var b;return a.documentShived?a:(k.shivCSS&&!g&&(b=!!c(a,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),h||(b=!e(a)),b&&(a.documentShived=b),a)}var g,h,i=a.html5||{},j=/^<|^(?:button|form|map|select|textarea)$/i;!function(){var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,h=1==a.childNodes.length||function(){try{b.createElement("a")}catch(a){return!0}var c=b.createDocumentFragment();return"undefined"==typeof c.cloneNode||"undefined"==typeof c.createDocumentFragment||"undefined"==typeof c.createElement}()}();var k={elements:i.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!(i.shivCSS===!1),shivMethods:!(i.shivMethods===!1),type:"default",shivDocument:f};a.html5=k,f(b)}(this,b),o._version=n,o._prefixes=x,o._domPrefixes=A,o._cssomPrefixes=z,o.mq=I,o.hasEvent=J,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=H,o.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+F.join(" "):""),o}(this,this.document),function(a){function b(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}a.fn.ajaxSubmit=function(c){function d(b){for(var d=new FormData,e=0;e<b.length;e++)"file"!=b[e].type&&d.append(b[e].name,b[e].value);
if(i.find("input:file:enabled").each(function(){var b=a(this).attr("name"),c=this.files;if(b)for(var e=0;e<c.length;e++)d.append(b,c[e])}),c.extraData)for(var f in c.extraData)d.append(f,c.extraData[f]);c.data=null;var g=c.beforeSend;c.beforeSend=function(a,b){b.data=d,a.upload&&(a.upload.onprogress=function(a){b.progress(a.position,a.total)}),g&&g.call(b,a,b)},a.ajax(c)}function e(d){function e(a){var b=a.contentWindow?a.contentWindow.document:a.contentDocument?a.contentDocument:a.document;return b}function g(){function c(){try{var a=e(p).readyState;b("state = "+a),"uninitialized"==a.toLowerCase()&&setTimeout(c,50)}catch(d){b("Server abort: ",d," (",d.name,")"),h(y),u&&clearTimeout(u),u=void 0}}var d=i.attr("target"),g=i.attr("action");v.setAttribute("target",n),f||v.setAttribute("method","POST"),g!=l.url&&v.setAttribute("action",l.url),l.skipEncodingOverride||f&&!/post/i.test(f)||i.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(u=setTimeout(function(){t=!0,h(x)},l.timeout));var j=[];try{if(l.extraData)for(var k in l.extraData)j.push(a('<input type="hidden" name="'+k+'">').attr("value",l.extraData[k]).appendTo(v)[0]);l.iframeTarget||(o.appendTo("body"),p.attachEvent?p.attachEvent("onload",h):p.addEventListener("load",h,!1)),setTimeout(c,15),v.submit()}finally{v.setAttribute("action",g),d?v.setAttribute("target",d):i.removeAttr("target"),a(j).remove()}}function h(c){if(!q.aborted&&!D){try{C=e(p)}catch(d){b("cannot access response document: ",d),c=y}if(c===x&&q)return q.abort("timeout"),void 0;if(c==y&&q)return q.abort("server abort"),void 0;if(C&&C.location.href!=l.iframeSrc||t){p.detachEvent?p.detachEvent("onload",h):p.removeEventListener("load",h,!1);var f,g="success";try{if(t)throw"timeout";var i="xml"==l.dataType||C.XMLDocument||a.isXMLDoc(C);if(b("isXml="+i),!i&&window.opera&&(null==C.body||""==C.body.innerHTML)&&--E)return b("requeing onLoad callback, DOM not available"),setTimeout(h,250),void 0;var j=C.body?C.body:C.documentElement;q.responseText=j?j.innerHTML:null,q.responseXML=C.XMLDocument?C.XMLDocument:C,i&&(l.dataType="xml"),q.getResponseHeader=function(a){var b={"content-type":l.dataType};return b[a]},j&&(q.status=Number(j.getAttribute("status"))||q.status,q.statusText=j.getAttribute("statusText")||q.statusText);var k=(l.dataType||"").toLowerCase(),n=/(json|script|text)/.test(k);if(n||l.textarea){var r=C.getElementsByTagName("textarea")[0];if(r)q.responseText=r.value,q.status=Number(r.getAttribute("status"))||q.status,q.statusText=r.getAttribute("statusText")||q.statusText;else if(n){var s=C.getElementsByTagName("pre")[0],v=C.getElementsByTagName("body")[0];s?q.responseText=s.textContent?s.textContent:s.innerText:v&&(q.responseText=v.textContent?v.textContent:v.innerText)}}else"xml"!=k||q.responseXML||null==q.responseText||(q.responseXML=F(q.responseText));try{B=H(q,k,l)}catch(c){g="parsererror",q.error=f=c||g}}catch(c){b("error caught: ",c),g="error",q.error=f=c||g}q.aborted&&(b("upload aborted"),g=null),q.status&&(g=q.status>=200&&q.status<300||304===q.status?"success":"error"),"success"===g?(l.success&&l.success.call(l.context,B,"success",q),m&&a.event.trigger("ajaxSuccess",[q,l])):g&&(void 0==f&&(f=q.statusText),l.error&&l.error.call(l.context,q,g,f),m&&a.event.trigger("ajaxError",[q,l,f])),m&&a.event.trigger("ajaxComplete",[q,l]),m&&!--a.active&&a.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,q,g),D=!0,l.timeout&&clearTimeout(u),setTimeout(function(){l.iframeTarget||o.remove(),q.responseXML=null},100)}}}var j,k,l,m,n,o,p,q,r,s,t,u,v=i[0],w=!!a.fn.prop;if(d)if(w)for(k=0;k<d.length;k++)j=a(v[d[k].name]),j.prop("disabled",!1);else for(k=0;k<d.length;k++)j=a(v[d[k].name]),j.removeAttr("disabled");if(a(":input[name=submit],:input[id=submit]",v).length)return alert('Error: Form elements must not have name or id of "submit".'),void 0;if(l=a.extend(!0,{},a.ajaxSettings,c),l.context=l.context||l,n="jqFormIO"+(new Date).getTime(),l.iframeTarget?(o=a(l.iframeTarget),s=o.attr("name"),null==s?o.attr("name",n):n=s):(o=a('<iframe name="'+n+'" src="'+l.iframeSrc+'" />'),o.css({position:"absolute",top:"-1000px",left:"-1000px"})),p=o[0],q={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(c){var d="timeout"===c?"timeout":"aborted";b("aborting upload... "+d),this.aborted=1,o.attr("src",l.iframeSrc),q.error=d,l.error&&l.error.call(l.context,q,d,c),m&&a.event.trigger("ajaxError",[q,l,d]),l.complete&&l.complete.call(l.context,q,d)}},m=l.global,m&&!a.active++&&a.event.trigger("ajaxStart"),m&&a.event.trigger("ajaxSend",[q,l]),l.beforeSend&&l.beforeSend.call(l.context,q,l)===!1)return l.global&&a.active--,void 0;if(!q.aborted){r=v.clk,r&&(s=r.name,s&&!r.disabled&&(l.extraData=l.extraData||{},l.extraData[s]=r.value,"image"==r.type&&(l.extraData[s+".x"]=v.clk_x,l.extraData[s+".y"]=v.clk_y)));var x=1,y=2,z=a("meta[name=csrf-token]").attr("content"),A=a("meta[name=csrf-param]").attr("content");A&&z&&(l.extraData=l.extraData||{},l.extraData[A]=z),l.forceSync?g():setTimeout(g,10);var B,C,D,E=50,F=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},G=a.parseJSON||function(a){return window.eval("("+a+")")},H=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=G(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g}}}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),this;var f,g,h,i=this;"function"==typeof c&&(c={success:c}),f=this.attr("method"),g=this.attr("action"),h="string"==typeof g?a.trim(g):"",h=h||window.location.href||"",h&&(h=(h.match(/^([^#]+)/)||[])[1]),c=a.extend(!0,{url:h,success:a.ajaxSettings.success,type:f||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);var j={};if(this.trigger("form-pre-serialize",[this,c,j]),j.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&c.beforeSerialize(this,c)===!1)return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var k=c.traditional;void 0===k&&(k=a.ajaxSettings.traditional);var l,m=this.formToArray(c.semantic);if(c.data&&(c.extraData=c.data,l=a.param(c.data,k)),c.beforeSubmit&&c.beforeSubmit(m,this,c)===!1)return b("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,c,j]),j.veto)return b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var n=a.param(m,k);l&&(n=n?n+"&"+l:l),"GET"==c.type.toUpperCase()?(c.url+=(c.url.indexOf("?")>=0?"&":"?")+n,c.data=null):c.data=n;var o=[];if(c.resetForm&&o.push(function(){i.resetForm()}),c.clearForm&&o.push(function(){i.clearForm(c.includeHidden)}),!c.dataType&&c.target){var p=c.success||function(){};o.push(function(b){var d=c.replaceTarget?"replaceWith":"html";a(c.target)[d](b).each(p,arguments)})}else c.success&&o.push(c.success);c.success=function(a,b,d){for(var e=c.context||c,f=0,g=o.length;g>f;f++)o[f].apply(e,[a,b,d||i,i])};var q=a("input:file:enabled[value]",this),r=q.length>0,s="multipart/form-data",t=i.attr("enctype")==s||i.attr("encoding")==s,u=!!(r&&q.get(0).files&&window.FormData);b("fileAPI :"+u);var v=(r||t)&&!u;return c.iframe!==!1&&(c.iframe||v)?c.closeKeepAlive?a.get(c.closeKeepAlive,function(){e(m)}):e(m):(r||t)&&u?(c.progress=c.progress||a.noop,d(m)):a.ajax(c),this.trigger("form-submit-notify",[this,c]),this},a.fn.ajaxForm=function(c){if(0===this.length){var d={s:this.selector,c:this.context};return!a.isReady&&d.s?(b("DOM not ready, queuing ajaxForm"),a(function(){a(d.s,d.c).ajaxForm(c)}),this):(b("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(b){b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(c))}).bind("click.form-plugin",function(b){var c=b.target,d=a(c);if(!d.is(":submit,input:image")){var e=d.closest(":submit");if(0==e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!=b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)})},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b){var c=[];if(0===this.length)return c;var d=this[0],e=b?d.getElementsByTagName("*"):d.elements;if(!e)return c;var f,g,h,i,j,k,l;for(f=0,k=e.length;k>f;f++)if(j=e[f],h=j.name)if(b&&d.clk&&"image"==j.type)j.disabled||d.clk!=j||(c.push({name:h,value:a(j).val(),type:j.type}),c.push({name:h+".x",value:d.clk_x},{name:h+".y",value:d.clk_y}));else if(i=a.fieldValue(j,!0),i&&i.constructor==Array)for(g=0,l=i.length;l>g;g++)c.push({name:h,value:i[g]});else null!==i&&"undefined"!=typeof i&&c.push({name:h,value:i,type:j.type});if(!b&&d.clk){var m=a(d.clk),n=m[0];h=n.name,h&&!n.disabled&&"image"==n.type&&(c.push({name:h,value:m.val()}),c.push({name:h+".x",value:d.clk_x},{name:h+".y",value:d.clk_y}))}return c},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(a){var b=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=this.type,d=this.tagName.toLowerCase();b.test(c)||"textarea"==d||a&&/hidden/.test(c)?this.value="":"checkbox"==c||"radio"==c?this.checked=!1:"select"==d&&(this.selectedIndex=-1)})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1}(jQuery),function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"),void 0;var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b&=c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"x",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!=b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastActive)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):"textarea"===b.type&&a(b).hasClass("wysiwyg-editor")?(a(b).prev().addClass(c).removeClass(d),a(b).addClass(c).removeClass(d)):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):"textarea"===b.type&&a(b).hasClass("wysiwyg-editor")?(a(b).prev().removeClass(c).addClass(d),a(b).removeClass(c).addClass(d)):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"",remote:"",email:"",url:"",date:"",dateFormatted:"",alphanumeric:"",programmaticalNames:"",dateISO:"",number:"",digits:"",creditcard:"",equalTo:"",maxlength:a.validator.format(""),minlength:a.validator.format(""),rangelength:a.validator.format(""),range:a.validator.format(""),max:a.validator.format(""),min:a.validator.format("")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){a.each(d.split(/\s/),function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a('input[name="'+a(b).attr("name")+'"]:checked').val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1,f=this.elementValue(b);for(var g in d){var h={method:g,parameters:d[g]};try{if(c=a.validator.methods[g].call(this,f,b,h.parameters),"dependency-mismatch"===c){e=!0;continue}if(e=!1,"pending"===c)return this.toHide=this.toHide.not(this.errorsFor(b)),void 0;if(!c)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+h.method+"' method",i),i}}return e?void 0:(this.objectLength(d)&&this.successList.push(b),!0)},customMetaMessage:function(b,c){if(a.metadata){var d=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return d&&d.messages&&d.messages[c]}},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){if("x"!=this.settings.errorElement){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)}},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find('[name="'+b+'"]')},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateFormatted:{dateFormatted:!0},alphanumeric:{alphanumeric:!0},programmaticalnames:{programmaticalnames:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b);for(var e in a.validator.methods){var f;"required"===e?(f=d.get(0).getAttribute(e),""===f&&(f=!0),f=!!f):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&(c[e]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return delete b[d],void 0;if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b.messages&&delete b.messages,b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,this.pending[c.name])return"pending";if(e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||"true"===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},regex:function(a,b,c){var d=new RegExp(c);return this.optional(b)||d.test(a)},dateFormatted:function(b,c){var d,e,f,g,h,i=a(c).data("date-format"),j=b.split(/\W+/),k=i.split(/\W+/);new Date;for(var l=0;l<j.length;l++)switch(k[l]){case"d":case"e":d=parseInt(j[l],10);break;case"m":e=parseInt(j[l],10)-1;break;case"Y":case"y":f=parseInt(j[l],10),f+=f>100?0:29>f?2e3:1900;break;case"H":case"I":case"k":case"l":g=parseInt(j[l],10);break;case"P":case"p":/pm/i.test(j[l])&&12>g?g+=12:/am/i.test(j[l])&&g>=12&&(g-=12);break;case"M":h=parseInt(j[l],10)}return this.optional(c)||void 0!==f&&void 0!==e&&11>=e&&e>=0&&void 0!==d&&d>=1&&31>=d},alphanumeric:function(a){return a.match(/^[a-zA-Z0-9]*$/)
},programmaticalnames:function(a){return a.match(/^[A-Za-z0-9\-\_]*$/)},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return 0===c%10},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments)):c.apply(this,arguments)}}}(jQuery),function(a){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||a.each({focus:"focusin",blur:"focusout"},function(b,c){function d(b){return b=a.event.fix(b),b.type=c,a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(b,d,!0)},teardown:function(){this.removeEventListener(b,d,!0)},handler:function(b){var d=arguments;return d[0]=a.event.fix(b),d[0].type=c,a.event.handle.apply(this,d)}}}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery),function(a){function b(a,b){return{rate:a,messageKey:b}}function c(a){return a.substring(0,1).toLowerCase()+a.substring(1)}var d=/[a-z]/,e=/[A-Z]/,f=/[0-9]/,g=/[0-9].*[0-9]/,h=/[^a-zA-Z0-9]/,i=/^(.)\1+$/;a.validator.passwordRating=function(a,j){if(!a||a.length<8)return b(0,"too-short");if(j&&a.toLowerCase().match(j.toLowerCase()))return b(0,"similar-to-username");if(i.test(a))return b(1,"very-weak");var k=d.test(a),l=e.test(c(a)),m=f.test(a),n=g.test(a),o=h.test(a);return k&&l&&m||k&&n||l&&n||o?b(4,"strong"):k&&l||k&&m||l&&m?b(3,"good"):b(2,"weak")},a.validator.passwordRating.messages={"similar-to-username":"Too similar to username","too-short":"Too short","very-weak":"Very weak",weak:"Weak",good:"Good",strong:"Strong"},a.validator.addMethod("password",function(b,c,d){var e=c.value,f=a("boolean"!=typeof d?d:[]),g=a.validator.passwordRating(e,f.val()),h=a(".password-meter",c.form);return h.find(".password-meter-bar").removeClass().addClass("password-meter-bar").addClass("password-meter-"+g.messageKey),h.find(".password-meter-message").removeClass().addClass("password-meter-message").addClass("password-meter-message-"+g.messageKey).text(a.validator.passwordRating.messages[g.messageKey]),!0},"&nbsp;"),a.validator.classRuleSettings.password={password:!0}}(jQuery),function(a,b,c){a.fn.TriggerContol=function(b){return this.length&&""!=b.target?(a.triggering.change(this,b),a(this).change(function(){a.triggering.change(this,b)}),this):void 0},a.triggering={change:function(b,d){var e,f=0,g=a(b).val(),h=g==d.value==d.enable,i=0;if(d.value!=c)for(e=d.value.split(";"),i=e.length;i>=0;)g==e[--i]&&(h=d.enable,i=0);"*"==d.value&&g.length>0&&(h=d.enable),d.not&&(h=!h),d.count&&(f=d.count),h?(a(d.target).removeAttr("disabled"),a(d.label).removeAttr("disabled")):(a(d.target).attr("disabled","disabled"),a(d.label).attr("disabled","disabled"))}}}(jQuery,window),function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function($,window,document,undefined){var DataTable=function(oInit){function _fnAddColumn(a,b){var c=DataTable.defaults.columns,d=a.aoColumns.length,e=$.extend({},DataTable.models.oColumn,c,{sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,nTh:b?b:document.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",sGeminiId:"",aDataSort:c.aDataSort?c.aDataSort:[d],mDataProp:c.mDataProp?c.oDefaults:d});if(a.aoColumns.push(e),a.aoPreSearchCols[d]===undefined||null===a.aoPreSearchCols[d])a.aoPreSearchCols[d]=$.extend({},DataTable.models.oSearch);else{var f=a.aoPreSearchCols[d];f.bRegex===undefined&&(f.bRegex=!0),f.bSmart===undefined&&(f.bSmart=!0),f.bCaseInsensitive===undefined&&(f.bCaseInsensitive=!0)}_fnColumnOptions(a,d,null)}function _fnColumnOptions(a,b,c){var d=a.aoColumns[b];c!==undefined&&null!==c&&(c.sType!==undefined&&(d.sType=c.sType,d._bAutoType=!1),$.extend(d,c),_fnMap(d,c,"sWidth","sWidthOrig"),c.iDataSort!==undefined&&(d.aDataSort=[c.iDataSort]),_fnMap(d,c,"aDataSort")),d.fnGetData=_fnGetObjectDataFn(d.mDataProp),d.fnSetData=_fnSetObjectDataFn(d.mDataProp),a.oFeatures.bSort||(d.bSortable=!1),!d.bSortable||-1==$.inArray("asc",d.asSorting)&&-1==$.inArray("desc",d.asSorting)?(d.sSortingClass=a.oClasses.sSortableNone,d.sSortingClassJUI=""):d.bSortable||-1==$.inArray("asc",d.asSorting)&&-1==$.inArray("desc",d.asSorting)?(d.sSortingClass=a.oClasses.sSortable,d.sSortingClassJUI=a.oClasses.sSortJUI):-1!=$.inArray("asc",d.asSorting)&&-1==$.inArray("desc",d.asSorting)?(d.sSortingClass=a.oClasses.sSortableAsc,d.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed):-1==$.inArray("asc",d.asSorting)&&-1!=$.inArray("desc",d.asSorting)&&(d.sSortingClass=a.oClasses.sSortableDesc,d.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed)}function _fnAdjustColumnSizing(a){if(a.oFeatures.bAutoWidth===!1)return!1;_fnCalculateColumnWidths(a);for(var b=0,c=a.aoColumns.length;c>b;b++)a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}function _fnVisibleToColumnIndex(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++)if(a.aoColumns[d].bVisible===!0&&c++,c==b)return d;return null}function _fnColumnIndexToVisible(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++)if(a.aoColumns[d].bVisible===!0&&c++,d==b)return a.aoColumns[d].bVisible===!0?c:null;return null}function _fnVisbleColumns(a){for(var b=0,c=0;c<a.aoColumns.length;c++)a.aoColumns[c].bVisible===!0&&b++;return b}function _fnDetectType(a){for(var b=DataTable.ext.aTypes,c=b.length,d=0;c>d;d++){var e=b[d](a);if(null!==e)return e}return"string"}function _fnReOrderIndex(a,b){for(var c=b.split(","),d=[],e=0,f=a.aoColumns.length;f>e;e++)for(var g=0;f>g;g++)if(a.aoColumns[e].sName==c[g]){d.push(g);break}return d}function _fnColumnOrdering(a){for(var b="",c=0,d=a.aoColumns.length;d>c;c++)b+=a.aoColumns[c].sName+",";return b.length==d?"":b.slice(0,-1)}function _fnApplyColumnDefs(a,b,c,d){var e,f,g,h,i,j;if(b)for(e=b.length-1;e>=0;e--){var k=b[e].aTargets;for($.isArray(k)||_fnLog(a,1,"aTargets must be an array of targets, not a "+typeof k),g=0,h=k.length;h>g;g++)if("number"==typeof k[g]&&k[g]>=0){for(;a.aoColumns.length<=k[g];)_fnAddColumn(a);d(k[g],b[e])}else if("number"==typeof k[g]&&k[g]<0)d(a.aoColumns.length+k[g],b[e]);else if("string"==typeof k[g])for(i=0,j=a.aoColumns.length;j>i;i++)("_all"==k[g]||$(a.aoColumns[i].nTh).hasClass(k[g]))&&d(i,b[e])}if(c)for(e=0,f=c.length;f>e;e++)d(e,c[e])}function _fnAddData(a,b){var c,d=$.isArray(b)?b.slice():$.extend(!0,{},b),e=a.aoData.length,f=$.extend(!0,{},DataTable.models.oRow,{_aData:d});a.aoData.push(f);for(var g,h=0,i=a.aoColumns.length;i>h;h++)if(c=a.aoColumns[h],"function"==typeof c.fnRender&&c.bUseRendered&&null!==c.mDataProp&&_fnSetCellData(a,e,h,_fnRender(a,e,h)),c._bAutoType&&"string"!=c.sType){var j=_fnGetCellData(a,e,h,"type");null!==j&&""!==j&&(g=_fnDetectType(j),null===c.sType?c.sType=g:c.sType!=g&&"html"!=c.sType&&(c.sType="string"))}return a.aiDisplayMaster.push(e),a.oFeatures.bDeferRender||_fnCreateTr(a,e),e}function _fnGatherData(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(a.bDeferLoading||null===a.sAjaxSource)for(h=a.nTBody.childNodes,b=0,c=h.length;c>b;b++)if("TR"==h[b].nodeName.toUpperCase())for(j=a.aoData.length,h[b]._DT_RowIndex=j,a.aoData.push($.extend(!0,{},DataTable.models.oRow,{nTr:h[b]})),a.aiDisplayMaster.push(j),g=h[b].childNodes,f=0,d=0,e=g.length;e>d;d++)o=g[d].nodeName.toUpperCase(),("TD"==o||"TH"==o)&&(_fnSetCellData(a,j,f,$.trim(g[d].innerHTML)),f++);for(h=_fnGetTrNodes(a),g=[],b=0,c=h.length;c>b;b++)for(d=0,e=h[b].childNodes.length;e>d;d++)i=h[b].childNodes[d],o=i.nodeName.toUpperCase(),("TD"==o||"TH"==o)&&g.push(i);for(m=0,n=a.aoColumns.length;n>m;m++){p=a.aoColumns[m],null===p.sTitle&&(p.sTitle=p.nTh.innerHTML),""==p.sGeminiId&&(p.sGeminiId=$(p.nTh).data("id"));var r,s,t,u,v=p._bAutoType,w="function"==typeof p.fnRender,x=null!==p.sClass,y=p.bVisible;if(v||w||x||!y)for(k=0,l=a.aoData.length;l>k;k++)q=a.aoData[k],r=g[k*n+m],v&&"string"!=p.sType&&(u=_fnGetCellData(a,k,m,"type"),""!==u&&(s=_fnDetectType(u),null===p.sType?p.sType=s:p.sType!=s&&"html"!=p.sType&&(p.sType="string"))),"function"==typeof p.mDataProp&&(r.innerHTML=_fnGetCellData(a,k,m,"display")),w&&(t=_fnRender(a,k,m),r.innerHTML=t,p.bUseRendered&&_fnSetCellData(a,k,m,t)),x&&(r.className+=" "+p.sClass),y?q._anHidden[m]=null:(q._anHidden[m]=r,r.parentNode.removeChild(r)),p.fnCreatedCell&&p.fnCreatedCell.call(a.oInstance,r,_fnGetCellData(a,k,m,"display"),q._aData,k,m)}if(0!==a.aoRowCreatedCallback.length)for(b=0,c=a.aoData.length;c>b;b++)q=a.aoData[b],_fnCallbackFire(a,"aoRowCreatedCallback",null,[q.nTr,q._aData,b])}function _fnNodeToDataIndex(a,b){return b._DT_RowIndex!==undefined?b._DT_RowIndex:null}function _fnNodeToColumnIndex(a,b,c){for(var d=_fnGetTdNodes(a,b),e=0,f=a.aoColumns.length;f>e;e++)if(d[e]===c)return e;return-1}function _fnGetRowData(a,b,c){for(var d=[],e=0,f=a.aoColumns.length;f>e;e++)d.push(_fnGetCellData(a,b,e,c));return d}function _fnGetCellData(a,b,c,d){var e,f=a.aoColumns[c],g=a.aoData[b]._aData;if((e=f.fnGetData(g,d))===undefined)return a.iDrawError!=a.iDraw&&null===f.sDefaultContent&&(_fnLog(a,0,"Requested unknown parameter '"+f.mDataProp+"' from the data source for row "+b),a.iDrawError=a.iDraw),f.sDefaultContent;if(null===e&&null!==f.sDefaultContent)e=f.sDefaultContent;else if("function"==typeof e)return e();return"display"==d&&null===e?"":e}function _fnSetCellData(a,b,c,d){var e=a.aoColumns[c],f=a.aoData[b]._aData;e.fnSetData(f,d)}function _fnGetObjectDataFn(a){if(null===a)return function(){return null};if("function"==typeof a)return function(b,c){return a(b,c)};if("string"==typeof a&&-1!=a.indexOf(".")){var b=a.split(".");return function(a){for(var c=0,d=b.length;d>c;c++)if(a=a[b[c]],a===undefined)return undefined;return a}}return function(b){return b[a]}}function _fnSetObjectDataFn(a){if(null===a)return function(){};if("function"==typeof a)return function(b,c){a(b,"set",c)};if("string"==typeof a&&-1!=a.indexOf(".")){var b=a.split(".");return function(a,c){for(var d=0,e=b.length-1;e>d;d++)a=a[b[d]];a[b[b.length-1]]=c}}return function(b,c){b[a]=c}}function _fnGetDataMaster(a){for(var b=[],c=a.aoData.length,d=0;c>d;d++)b.push(a.aoData[d]._aData);return b}function _fnClearTable(a){a.aoData.splice(0,a.aoData.length),a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length),a.aiDisplay.splice(0,a.aiDisplay.length),_fnCalculateEnd(a)}function _fnDeleteIndex(a,b){for(var c=-1,d=0,e=a.length;e>d;d++)a[d]==b?c=d:a[d]>b&&a[d]--;-1!=c&&a.splice(c,1)}function _fnRender(a,b,c){var d=a.aoColumns[c];return d.fnRender({iDataRow:b,iDataColumn:c,oSettings:a,aData:a.aoData[b]._aData,mDataProp:d.mDataProp},_fnGetCellData(a,b,c,"display"))}function _fnCreateTr(a,b){var c,d=a.aoData[b];if(null===d.nTr){d.nTr=document.createElement("tr"),d.nTr._DT_RowIndex=b,d._aData.DT_RowId&&(d.nTr.id=d._aData.DT_RowId),d._aData.DT_RowClass&&$(d.nTr).addClass(d._aData.DT_RowClass);for(var e=0,f=a.aoColumns.length;f>e;e++){var g=a.aoColumns[e];c=document.createElement("td"),c.innerHTML="function"!=typeof g.fnRender||g.bUseRendered&&null!==g.mDataProp?_fnGetCellData(a,b,e,"display"):_fnRender(a,b,e),null!==g.sClass&&(c.className=g.sClass),g.bVisible?(d.nTr.appendChild(c),d._anHidden[e]=null):d._anHidden[e]=c,g.fnCreatedCell&&g.fnCreatedCell.call(a.oInstance,c,_fnGetCellData(a,b,e,"display"),d._aData,b,e)}_fnCallbackFire(a,"aoRowCreatedCallback",null,[d.nTr,d._aData,b])}}function _fnBuildHead(a){var b,c,d,e=a.nTHead.getElementsByTagName("th").length;if(0!==e)for(b=0,d=a.aoColumns.length;d>b;b++)c=a.aoColumns[b].nTh,c.setAttribute("role","columnheader"),a.aoColumns[b].bSortable&&(c.setAttribute("tabindex",a.iTabIndex),c.setAttribute("aria-controls",a.sTableId)),null!==a.aoColumns[b].sClass&&$(c).addClass(a.aoColumns[b].sClass),a.aoColumns[b].sTitle!=c.innerHTML&&(c.innerHTML=a.aoColumns[b].sTitle);else{var f=document.createElement("tr");for(b=0,d=a.aoColumns.length;d>b;b++)c=a.aoColumns[b].nTh,c.innerHTML=a.aoColumns[b].sTitle,c.setAttribute("tabindex","0"),null!==a.aoColumns[b].sClass&&$(c).addClass(a.aoColumns[b].sClass),f.appendChild(c);$(a.nTHead).html("")[0].appendChild(f),_fnDetectHeader(a.aoHeader,a.nTHead)}if($(a.nTHead).children("tr").attr("role","row"),a.bJUI)for(b=0,d=a.aoColumns.length;d>b;b++){c=a.aoColumns[b].nTh;var g=document.createElement("div");g.className=a.oClasses.sSortJUIWrapper,$(c).contents().appendTo(g);var h=document.createElement("span");h.className=a.oClasses.sSortIcon,g.appendChild(h),c.appendChild(g)}if(a.oFeatures.bSort)for(b=0;b<a.aoColumns.length;b++)a.aoColumns[b].bSortable!==!1?_fnSortAttachListener(a,a.aoColumns[b].nTh,b,a.fnSortCallback):$(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone);if(""!==a.oClasses.sFooterTH&&$(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH),null!==a.nTFoot){var i=_fnGetUniqueThs(a,null,a.aoFooter);for(b=0,d=a.aoColumns.length;d>b;b++)i[b]&&(a.aoColumns[b].nTf=i[b],a.aoColumns[b].sClass&&$(i[b]).addClass(a.aoColumns[b].sClass))}}function _fnDrawHead(a,b,c){var d,e,f,g,h,i,j,k,l,m=[],n=[],o=a.aoColumns.length;for(c===undefined&&(c=!1),d=0,e=b.length;e>d;d++){for(m[d]=b[d].slice(),m[d].nTr=b[d].nTr,f=o-1;f>=0;f--)a.aoColumns[f].bVisible||c||m[d].splice(f,1);n.push([])}for(d=0,e=m.length;e>d;d++){if(j=m[d].nTr)for(;i=j.firstChild;)j.removeChild(i);for(f=0,g=m[d].length;g>f;f++)if(k=1,l=1,n[d][f]===undefined){for(j.appendChild(m[d][f].cell),n[d][f]=1;m[d+k]!==undefined&&m[d][f].cell==m[d+k][f].cell;)n[d+k][f]=1,k++;for(;m[d][f+l]!==undefined&&m[d][f].cell==m[d][f+l].cell;){for(h=0;k>h;h++)n[d+h][f+l]=1;l++}m[d][f].cell.rowSpan=k,m[d][f].cell.colSpan=l}}}function _fnDraw(a){var b,c,d,e=[],f=0,g=a.asStripeClasses.length,h=a.aoOpenRows.length,i=_fnCallbackFire(a,"aoPreDrawCallback","preDraw",[a]);if(-1===$.inArray(!1,i)){if(a.bDrawing=!0,a.iInitDisplayStart!==undefined&&-1!=a.iInitDisplayStart&&(a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart,a.iInitDisplayStart=-1,_fnCalculateEnd(a)),a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++;else if(a.oFeatures.bServerSide){if(!a.bDestroying&&!_fnAjaxUpdate(a))return}else a.iDraw++;if(0!==a.aiDisplay.length){var j=a._iDisplayStart,k=a._iDisplayEnd;a.oFeatures.bServerSide&&(j=0,k=a.aoData.length);for(var l=j;k>l;l++){var m=a.aoData[a.aiDisplay[l]];null===m.nTr&&_fnCreateTr(a,a.aiDisplay[l]);var n=m.nTr;if(0!==g){var o=a.asStripeClasses[f%g];m._sRowStripe!=o&&($(n).removeClass(m._sRowStripe).addClass(o),m._sRowStripe=o)}if(_fnCallbackFire(a,"aoRowCallback",null,[n,a.aoData[a.aiDisplay[l]]._aData,f,l]),e.push(n),f++,0!==h)for(var p=0;h>p;p++)if(n==a.aoOpenRows[p].nParent){e.push(a.aoOpenRows[p].nTr);break}}}else{e[0]=document.createElement("tr"),a.asStripeClasses[0]&&(e[0].className=a.asStripeClasses[0]);var q=a.oLanguage.sZeroRecords.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()));1!=a.iDraw||null===a.sAjaxSource||a.oFeatures.bServerSide?a.oLanguage.sEmptyTable&&0===a.fnRecordsTotal()&&(q=a.oLanguage.sEmptyTable):q=a.oLanguage.sLoadingRecords;var r=document.createElement("td");r.setAttribute("valign","top"),r.colSpan=_fnVisbleColumns(a),r.className=a.oClasses.sRowEmpty,r.innerHTML=q,e[f].appendChild(r)}_fnCallbackFire(a,"aoHeaderCallback","header",[$(a.nTHead).children("tr")[0],_fnGetDataMaster(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]),_fnCallbackFire(a,"aoFooterCallback","footer",[$(a.nTFoot).children("tr")[0],_fnGetDataMaster(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);var s,t=document.createDocumentFragment(),u=document.createDocumentFragment();if(a.nTBody){if(s=a.nTBody.parentNode,u.appendChild(a.nTBody),!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered)for(;d=a.nTBody.firstChild;)a.nTBody.removeChild(d);for(b=0,c=e.length;c>b;b++)t.appendChild(e[b]);a.nTBody.appendChild(t),null!==s&&s.appendChild(a.nTBody)}_fnCallbackFire(a,"aoDrawCallback","draw",[a]),a.bSorted=!1,a.bFiltered=!1,a.bDrawing=!1,a.oFeatures.bServerSide&&(_fnProcessingDisplay(a,!1),a._bInitComplete||_fnInitComplete(a))}}function _fnReDraw(a){a.oFeatures.bSort?_fnSort(a,a.oPreviousSearch):a.oFeatures.bFilter?_fnFilterComplete(a,a.oPreviousSearch):(_fnCalculateEnd(a),_fnDraw(a))}function _fnAddOptionsHtml(a){var b=$("<div></div>")[0];a.nTable.parentNode.insertBefore(b,a.nTable),a.nTableWrapper=$('<div id="'+a.sTableId+'_wrapper" class="'+a.oClasses.sWrapper+'" role="grid"></div>')[0],a.nTableReinsertBefore=a.nTable.nextSibling;for(var c,d,e,f,g,h,i,j=a.nTableWrapper,k=a.sDom.split(""),l=0;l<k.length;l++){if(d=0,e=k[l],"<"==e){if(f=$("<div></div>")[0],g=k[l+1],"'"==g||'"'==g){for(h="",i=2;k[l+i]!=g;)h+=k[l+i],i++;if("H"==h?h="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix":"F"==h&&(h="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"),-1!=h.indexOf(".")){var m=h.split(".");f.id=m[0].substr(1,m[0].length-1),f.className=m[1]}else"#"==h.charAt(0)?f.id=h.substr(1,h.length-1):f.className=h;l+=i}j.appendChild(f),j=f}else if(">"==e)j=j.parentNode;else if("l"==e&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange)c=_fnFeatureHtmlLength(a),d=1;else if("f"==e&&a.oFeatures.bFilter)c=_fnFeatureHtmlFilter(a),d=1;else if("r"==e&&a.oFeatures.bProcessing)c=_fnFeatureHtmlProcessing(a),d=1;else if("t"==e)c=_fnFeatureHtmlTable(a),d=1;else if("i"==e&&a.oFeatures.bInfo)c=_fnFeatureHtmlInfo(a),d=1;else if("p"==e&&a.oFeatures.bPaginate)c=_fnFeatureHtmlPaginate(a),d=1;else if(0!==DataTable.ext.aoFeatures.length)for(var n=DataTable.ext.aoFeatures,o=0,p=n.length;p>o;o++)if(e==n[o].cFeature){c=n[o].fnInit(a),c&&(d=1);break}1==d&&null!==c&&("object"!=typeof a.aanFeatures[e]&&(a.aanFeatures[e]=[]),a.aanFeatures[e].push(c),j.appendChild(c))}b.parentNode.replaceChild(a.nTableWrapper,b)}function _fnDetectHeader(a,b){var c,d,e,f,g,h,i,j,k=$(b).children("tr"),l=function(a,b,c){for(;a[b][c];)c++;return c};for(a.splice(0,a.length),d=0,h=k.length;h>d;d++)a.push([]);for(d=0,h=k.length;h>d;d++){var m=0;for(e=0,i=k[d].childNodes.length;i>e;e++)if(c=k[d].childNodes[e],"TD"==c.nodeName.toUpperCase()||"TH"==c.nodeName.toUpperCase()){var n=1*c.getAttribute("colspan"),o=1*c.getAttribute("rowspan");for(n=n&&0!==n&&1!==n?n:1,o=o&&0!==o&&1!==o?o:1,j=l(a,d,m),g=0;n>g;g++)for(f=0;o>f;f++)a[d+f][j+g]={cell:c,unique:1==n?!0:!1},a[d+f].nTr=k[d]}}}function _fnGetUniqueThs(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],_fnDetectHeader(c,b)));for(var e=0,f=c.length;f>e;e++)for(var g=0,h=c[e].length;h>g;g++)!c[e][g].unique||d[g]&&a.bSortCellsTop||(d[g]=c[e][g].cell);return d}function _fnAjaxUpdate(a){if(a.bAjaxDataGet){a.iDraw++,_fnProcessingDisplay(a,!0),a.aoColumns.length;var b=_fnAjaxParameters(a);return _fnServerParams(a,b),a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(b){_fnAjaxUpdateDraw(a,b)},a),!1}return!0}function _fnAjaxParameters(a){var b,c,d=a.aoColumns.length,e=[];for(e.push({name:"sEcho",value:a.iDraw}),e.push({name:"iColumns",value:d}),e.push({name:"sColumns",value:_fnColumnOrdering(a)}),e.push({name:"iDisplayStart",value:a._iDisplayStart}),e.push({name:"iDisplayLength",value:a.oFeatures.bPaginate!==!1?a._iDisplayLength:-1}),c=0;d>c;c++)b=a.aoColumns[c].mDataProp,e.push({name:"mDataProp_"+c,value:"function"==typeof b?"function":b});if(a.oFeatures.bFilter!==!1)for(e.push({name:"sSearch",value:a.oPreviousSearch.sSearch}),e.push({name:"bRegex",value:a.oPreviousSearch.bRegex}),c=0;d>c;c++)e.push({name:"sSearch_"+c,value:a.aoPreSearchCols[c].sSearch}),e.push({name:"bRegex_"+c,value:a.aoPreSearchCols[c].bRegex}),e.push({name:"bSearchable_"+c,value:a.aoColumns[c].bSearchable});if(a.oFeatures.bSort!==!1){var f=null!==a.aaSortingFixed?a.aaSortingFixed.length:0,g=a.aaSorting.length;for(e.push({name:"iSortingCols",value:f+g}),c=0;f>c;c++)e.push({name:"iSortCol_"+c,value:a.aaSortingFixed[c][0]}),e.push({name:"sSortDir_"+c,value:a.aaSortingFixed[c][1]});for(c=0;g>c;c++)e.push({name:"iSortCol_"+(c+f),value:a.aaSorting[c][0]}),e.push({name:"sSortDir_"+(c+f),value:a.aaSorting[c][1]});for(c=0;d>c;c++)e.push({name:"bSortable_"+c,value:a.aoColumns[c].bSortable})}return e}function _fnServerParams(a,b){_fnCallbackFire(a,"aoServerParams","serverParams",[b])}function _fnAjaxUpdateDraw(a,b){if(b.sEcho!==undefined){if(1*b.sEcho<a.iDraw)return;a.iDraw=1*b.sEcho}(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered))&&_fnClearTable(a),a._iRecordsTotal=parseInt(b.iTotalRecords,10),a._iRecordsDisplay=parseInt(b.iTotalDisplayRecords,10);var c,d=_fnColumnOrdering(a),e=b.sColumns!==undefined&&""!==d&&b.sColumns!=d;e&&(c=_fnReOrderIndex(a,b.sColumns));for(var f=_fnGetObjectDataFn(a.sAjaxDataProp)(b),g=0,h=f.length;h>g;g++)if(e){for(var i=[],j=0,k=a.aoColumns.length;k>j;j++)i.push(f[g][c[j]]);_fnAddData(a,i)}else _fnAddData(a,f[g]);a.aiDisplay=a.aiDisplayMaster.slice(),a.bAjaxDataGet=!1,_fnDraw(a),a.bAjaxDataGet=!0,_fnProcessingDisplay(a,!1)}function _fnFeatureHtmlFilter(a){var b=a.oPreviousSearch,c=a.oLanguage.sSearch;c=-1!==c.indexOf("_INPUT_")?c.replace("_INPUT_",'<input type="text" />'):""===c?'<input type="text" />':c+' <input type="text" />';var d=document.createElement("div");d.className=a.oClasses.sFilter,d.innerHTML="<label>"+c+"</label>",a.aanFeatures.f||(d.id=a.sTableId+"_filter");var e=$("input",$(d));return e.val(b.sSearch.replace('"',"&quot;")),e.bind("keyup.DT",function(){for(var c=a.aanFeatures.f,d=0,e=c.length;e>d;d++)c[d]!=$(this).parents("div.dataTables_filter")[0]&&$("input",c[d]).val(this.value);this.value!=b.sSearch&&_fnFilterComplete(a,{sSearch:this.value,bRegex:b.bRegex,bSmart:b.bSmart,bCaseInsensitive:b.bCaseInsensitive})}),e.attr("aria-controls",a.sTableId).bind("keypress.DT",function(a){return 13==a.keyCode?!1:void 0}),d}function _fnFilterComplete(a,b,c){var d=a.oPreviousSearch,e=a.aoPreSearchCols,f=function(a){d.sSearch=a.sSearch,d.bRegex=a.bRegex,d.bSmart=a.bSmart,d.bCaseInsensitive=a.bCaseInsensitive};if(a.oFeatures.bServerSide)f(b);else{_fnFilter(a,b.sSearch,c,b.bRegex,b.bSmart,b.bCaseInsensitive),f(b);for(var g=0;g<a.aoPreSearchCols.length;g++)_fnFilterColumn(a,e[g].sSearch,g,e[g].bRegex,e[g].bSmart,e[g].bCaseInsensitive);_fnFilterCustom(a)}null!=b.sSearch&&b.sSearch!=undefined&&b.sSearch.length>0&&(a.bFiltered=!0,$(a.oInstance).trigger("filter",a)),a._iDisplayStart=0,_fnCalculateEnd(a),_fnDraw(a),_fnBuildSearchArray(a,0)}function _fnFilterCustom(a){for(var b=DataTable.ext.afnFiltering,c=0,d=b.length;d>c;c++)for(var e=0,f=0,g=a.aiDisplay.length;g>f;f++){var h=a.aiDisplay[f-e];b[c](a,_fnGetRowData(a,h,"filter"),h)||(a.aiDisplay.splice(f-e,1),e++)}}function _fnFilterColumn(a,b,c,d,e,f){if(""!==b)for(var g=0,h=_fnFilterCreateSearch(b,d,e,f),i=a.aiDisplay.length-1;i>=0;i--){var j=_fnDataToSearch(_fnGetCellData(a,a.aiDisplay[i],c,"filter"),a.aoColumns[c].sType);h.test(j)||(a.aiDisplay.splice(i,1),g++)}}function _fnFilter(a,b,c,d,e,f){var g,h=_fnFilterCreateSearch(b,d,e,f),i=a.oPreviousSearch;if(c||(c=0),0!==DataTable.ext.afnFiltering.length&&(c=1),b.length<=0)a.aiDisplay.splice(0,a.aiDisplay.length),a.aiDisplay=a.aiDisplayMaster.slice();else if(a.aiDisplay.length==a.aiDisplayMaster.length||i.sSearch.length>b.length||1==c||0!==b.indexOf(i.sSearch))for(a.aiDisplay.splice(0,a.aiDisplay.length),_fnBuildSearchArray(a,1),g=0;g<a.aiDisplayMaster.length;g++)h.test(a.asDataSearch[g])&&a.aiDisplay.push(a.aiDisplayMaster[g]);else{var j=0;for(g=0;g<a.asDataSearch.length;g++)h.test(a.asDataSearch[g])||(a.aiDisplay.splice(g-j,1),j++)}}function _fnBuildSearchArray(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch.splice(0,a.asDataSearch.length);for(var c=b&&1===b?a.aiDisplayMaster:a.aiDisplay,d=0,e=c.length;e>d;d++)a.asDataSearch[d]=_fnBuildSearchRow(a,_fnGetRowData(a,c[d],"filter"))}}function _fnBuildSearchRow(a,b){var c="";a.__nTmpFilter===undefined&&(a.__nTmpFilter=document.createElement("div"));for(var d=a.__nTmpFilter,e=0,f=a.aoColumns.length;f>e;e++)if(a.aoColumns[e].bSearchable){var g=b[e];c+=_fnDataToSearch(g,a.aoColumns[e].sType)+"  "}return-1!==c.indexOf("&")&&(d.innerHTML=c,c=d.textContent?d.textContent:d.innerText,c=c.replace(/\n/g," ").replace(/\r/g,"")),c}function _fnFilterCreateSearch(a,b,c,d){var e,f;return c?(e=b?a.split(" "):_fnEscapeRegex(a).split(" "),f="^(?=.*?"+e.join(")(?=.*?")+").*$",new RegExp(f,d?"i":"")):(a=b?a:_fnEscapeRegex(a),new RegExp(a,d?"i":""))}function _fnDataToSearch(a,b){return"function"==typeof DataTable.ext.ofnSearch[b]?DataTable.ext.ofnSearch[b](a):"html"==b?a.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof a?a.replace(/[\r\n]/g," "):null===a?"":a}function _fnEscapeRegex(a){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"],c=new RegExp("(\\"+b.join("|\\")+")","g");return a.replace(c,"\\$1")}function _fnFeatureHtmlInfo(a){var b=document.createElement("div");return b.className=a.oClasses.sInfo,a.aanFeatures.i||(a.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),b.id=a.sTableId+"_info"),a.nTable.setAttribute("aria-describedby",a.sTableId+"_info"),b}function _fnUpdateInfo(a){if(a.oFeatures.bInfo&&0!==a.aanFeatures.i.length){var b,c=a._iDisplayStart+1,d=a.fnDisplayEnd(),e=a.fnRecordsTotal(),f=a.fnRecordsDisplay(),g=a.fnFormatNumber(c),h=a.fnFormatNumber(d),i=a.fnFormatNumber(e),j=a.fnFormatNumber(f);a.oScroll.bInfinite&&(g=a.fnFormatNumber(1)),b=0===a.fnRecordsDisplay()&&a.fnRecordsDisplay()==a.fnRecordsTotal()?"":0===a.fnRecordsDisplay()?a.oLanguage.sInfoEmpty+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",i)+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfo.replace("_START_",g).replace("_END_",h).replace("_TOTAL_",j)+a.oLanguage.sInfoPostFix:a.oLanguage.sInfo.replace("_START_",g).replace("_END_",h).replace("_TOTAL_",j)+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()))+a.oLanguage.sInfoPostFix,null!==a.oLanguage.fnInfoCallback&&(b=a.oLanguage.fnInfoCallback.call(a.oInstance,a,c,d,e,f,b));for(var k=a.aanFeatures.i,l=0,m=k.length;m>l;l++)$(k[l]).html(b)}}function _fnInitialise(a){var b,c,d=a.iInitDisplayStart;if(a.bInitialised===!1)return setTimeout(function(){_fnInitialise(a)},200),void 0;for(_fnAddOptionsHtml(a),_fnBuildHead(a),_fnDrawHead(a,a.aoHeader),a.nTFoot&&_fnDrawHead(a,a.aoFooter),_fnProcessingDisplay(a,!0),a.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(a),b=0,c=a.aoColumns.length;c>b;b++)null!==a.aoColumns[b].sWidth&&(a.aoColumns[b].nTh.style.width=_fnStringToCss(a.aoColumns[b].sWidth));if(a.oFeatures.bSort?_fnSort(a):a.oFeatures.bFilter?_fnFilterComplete(a,a.oPreviousSearch):(a.aiDisplay=a.aiDisplayMaster.slice(),_fnCalculateEnd(a),_fnDraw(a)),null!==a.sAjaxSource&&!a.oFeatures.bServerSide){var e=[];return _fnServerParams(a,e),a.fnServerData.call(a.oInstance,a.sAjaxSource,e,function(c){var e=""!==a.sAjaxDataProp?_fnGetObjectDataFn(a.sAjaxDataProp)(c):c;for(b=0;b<e.length;b++)_fnAddData(a,e[b]);a.iInitDisplayStart=d,a.oFeatures.bSort?_fnSort(a):(a.aiDisplay=a.aiDisplayMaster.slice(),_fnCalculateEnd(a),_fnDraw(a)),_fnProcessingDisplay(a,!1),_fnInitComplete(a,c)},a),void 0}a.oFeatures.bServerSide||(_fnProcessingDisplay(a,!1),_fnInitComplete(a))}function _fnInitComplete(a,b){a._bInitComplete=!0,_fnCallbackFire(a,"aoInitComplete","init",[a,b])}function _fnLanguageCompat(a){!a.sEmptyTable&&a.sZeroRecords&&_fnMap(a,a,"sZeroRecords","sEmptyTable"),!a.sLoadingRecords&&a.sZeroRecords&&_fnMap(a,a,"sZeroRecords","sLoadingRecords")}function _fnFeatureHtmlLength(a){if(a.oScroll.bInfinite)return null;var b,c,d='name="'+a.sTableId+'_length"',e='<select size="1" '+d+">",f=a.aLengthMenu;if(2==f.length&&"object"==typeof f[0]&&"object"==typeof f[1])for(b=0,c=f[0].length;c>b;b++)e+='<option value="'+f[0][b]+'">'+f[1][b]+"</option>";else for(b=0,c=f.length;c>b;b++)e+='<option value="'+f[b]+'">'+f[b]+"</option>";e+="</select>";var g=document.createElement("div");return a.aanFeatures.l||(g.id=a.sTableId+"_length"),g.className=a.oClasses.sLength,g.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",e)+"</label>",$('select option[value="'+a._iDisplayLength+'"]',g).attr("selected",!0),$("select",g).bind("change.DT",function(){var d=$(this).val(),e=a.aanFeatures.l;for(b=0,c=e.length;c>b;b++)e[b]!=this.parentNode&&$("select",e[b]).val(d);a._iDisplayLength=parseInt(d,10),_fnCalculateEnd(a),a.fnDisplayEnd()==a.fnRecordsDisplay()&&(a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength,a._iDisplayStart<0&&(a._iDisplayStart=0)),-1==a._iDisplayLength&&(a._iDisplayStart=0),_fnDraw(a)}),$("select",g).attr("aria-controls",a.sTableId),g}function _fnCalculateEnd(a){a._iDisplayEnd=a.oFeatures.bPaginate===!1?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||-1==a._iDisplayLength?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function _fnFeatureHtmlPaginate(a){if(a.oScroll.bInfinite)return null;var b=document.createElement("div");return b.className=a.oClasses.sPaging+a.sPaginationType,DataTable.ext.oPagination[a.sPaginationType].fnInit(a,b,function(a){_fnCalculateEnd(a),_fnDraw(a)}),a.aanFeatures.p||a.aoDrawCallback.push({fn:function(a){DataTable.ext.oPagination[a.sPaginationType].fnUpdate(a,function(a){_fnCalculateEnd(a),_fnDraw(a)})},sName:"pagination"}),b}function _fnPageChange(a,b){var c=a._iDisplayStart;if("number"==typeof b)a._iDisplayStart=b*a._iDisplayLength,a._iDisplayStart>a.fnRecordsDisplay()&&(a._iDisplayStart=0);else if("first"==b)a._iDisplayStart=0;else if("previous"==b)a._iDisplayStart=a._iDisplayLength>=0?a._iDisplayStart-a._iDisplayLength:0,a._iDisplayStart<0&&(a._iDisplayStart=0);else if("next"==b)a._iDisplayLength>=0?a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()&&(a._iDisplayStart+=a._iDisplayLength):a._iDisplayStart=0;else if("last"==b)if(a._iDisplayLength>=0){var d=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(d-1)*a._iDisplayLength}else a._iDisplayStart=0;else _fnLog(a,0,"Unknown paging action: "+b);return $(a.oInstance).trigger("page",a),c!=a._iDisplayStart}function _fnFeatureHtmlProcessing(a){var b=document.createElement("div");return a.aanFeatures.r||(b.id=a.sTableId+"_processing"),b.innerHTML=a.oLanguage.sProcessing,b.className=a.oClasses.sProcessing,a.nTable.parentNode.insertBefore(b,a.nTable),b}function _fnProcessingDisplay(a,b){if(a.oFeatures.bProcessing)for(var c=a.aanFeatures.r,d=0,e=c.length;e>d;d++)c[d].style.visibility=b?"visible":"hidden";$(a.oInstance).trigger("processing",[a,b])}function _fnFeatureHtmlTable(a){if(""===a.oScroll.sX&&""===a.oScroll.sY)return a.nTable;
var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=a.nTable.cloneNode(!1),i=a.nTable.cloneNode(!1),j=a.nTable.getElementsByTagName("thead")[0],k=0===a.nTable.getElementsByTagName("tfoot").length?null:a.nTable.getElementsByTagName("tfoot")[0],l=a.oClasses;c.appendChild(d),f.appendChild(g),e.appendChild(a.nTable),b.appendChild(c),b.appendChild(e),d.appendChild(h),h.appendChild(j),null!==k&&(b.appendChild(f),g.appendChild(i),i.appendChild(k)),b.className=l.sScrollWrapper,c.className=l.sScrollHead,d.className=l.sScrollHeadInner,e.className=l.sScrollBody,f.className=l.sScrollFoot,g.className=l.sScrollFootInner,a.oScroll.bAutoCss&&(c.style.overflow="hidden",c.style.position="relative",f.style.overflow="hidden",e.style.overflow="auto"),c.style.border="0",c.style.width="100%",f.style.border="0",d.style.width="150%",h.removeAttribute("id"),h.style.marginLeft="0",a.nTable.style.marginLeft="0",null!==k&&(i.removeAttribute("id"),i.style.marginLeft="0");for(var m=$(a.nTable).children("caption"),n=0,o=m.length;o>n;n++)h.appendChild(m[n]);return""!==a.oScroll.sX&&(c.style.width=_fnStringToCss(a.oScroll.sX),e.style.width=_fnStringToCss(a.oScroll.sX),null!==k&&(f.style.width=_fnStringToCss(a.oScroll.sX)),$(e).scroll(function(){c.scrollLeft=this.scrollLeft,null!==k&&(f.scrollLeft=this.scrollLeft)})),""!==a.oScroll.sY&&(e.style.height=_fnStringToCss(a.oScroll.sY)),a.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),a.oScroll.bInfinite&&$(e).scroll(function(){a.bDrawing||0===$(this).scrollTop()||$(this).scrollTop()+$(this).height()>$(a.nTable).height()-a.oScroll.iLoadGap&&a.fnDisplayEnd()<a.fnRecordsDisplay()&&(_fnPageChange(a,"next"),_fnCalculateEnd(a),_fnDraw(a))}),a.nScrollHead=c,a.nScrollFoot=f,b}function _fnScrollDraw(a){var b,c,d,e,f,g,h,i,j,k,l=a.nScrollHead.getElementsByTagName("div")[0],m=l.getElementsByTagName("table")[0],n=a.nTable.parentNode,o=[],p=null!==a.nTFoot?a.nScrollFoot.getElementsByTagName("div")[0]:null,q=null!==a.nTFoot?p.getElementsByTagName("table")[0]:null,r=$.browser.msie&&$.browser.version<=7,s=a.nTable.getElementsByTagName("thead");s.length>0&&a.nTable.removeChild(s[0]);var t;null!==a.nTFoot&&(t=a.nTable.getElementsByTagName("tfoot"),t.length>0&&a.nTable.removeChild(t[0])),s=a.nTHead.cloneNode(!0),a.nTable.insertBefore(s,a.nTable.childNodes[0]),null!==a.nTFoot&&(t=a.nTFoot.cloneNode(!0),a.nTable.insertBefore(t,a.nTable.childNodes[1])),""===a.oScroll.sX&&(n.style.width="100%",l.parentNode.style.width="100%");var u=_fnGetUniqueThs(a,s);for(b=0,c=u.length;c>b;b++)i=_fnVisibleToColumnIndex(a,b),u[b].style.width=a.aoColumns[i].sWidth;if(null!==a.nTFoot&&_fnApplyToChildren(function(a){a.style.width=""},t.getElementsByTagName("tr")),k=$(a.nTable).outerWidth(),""===a.oScroll.sX?(a.nTable.style.width="100%",r&&($("tbody",n).height()>n.offsetHeight||"scroll"==$(n).css("overflow-y"))&&(a.nTable.style.width=_fnStringToCss($(a.nTable).outerWidth()-a.oScroll.iBarWidth))):""!==a.oScroll.sXInner?a.nTable.style.width=_fnStringToCss(a.oScroll.sXInner):k==$(n).width()&&$(n).height()<$(a.nTable).height()?(a.nTable.style.width=_fnStringToCss(k-a.oScroll.iBarWidth),$(a.nTable).outerWidth()>k-a.oScroll.iBarWidth&&(a.nTable.style.width=_fnStringToCss(k))):a.nTable.style.width=_fnStringToCss(k),k=$(a.nTable).outerWidth(),d=a.nTHead.getElementsByTagName("tr"),e=s.getElementsByTagName("tr"),_fnApplyToChildren(function(a,b){h=a.style,h.paddingTop="0",h.paddingBottom="0",h.borderTopWidth="0",h.borderBottomWidth="0",h.height=0,j=$(a).width(),b.style.width=_fnStringToCss(j),o.push(j)},e,d),$(e).height(0),null!==a.nTFoot&&(f=t.getElementsByTagName("tr"),g=a.nTFoot.getElementsByTagName("tr"),_fnApplyToChildren(function(a,b){h=a.style,h.paddingTop="0",h.paddingBottom="0",h.borderTopWidth="0",h.borderBottomWidth="0",h.height=0,j=$(a).width(),b.style.width=_fnStringToCss(j),o.push(j)},f,g),$(f).height(0)),_fnApplyToChildren(function(a){a.innerHTML="",a.style.width=_fnStringToCss(o.shift())},e),null!==a.nTFoot&&_fnApplyToChildren(function(a){a.innerHTML="",a.style.width=_fnStringToCss(o.shift())},f),$(a.nTable).outerWidth()<k){var v=n.scrollHeight>n.offsetHeight||"scroll"==$(n).css("overflow-y")?k+a.oScroll.iBarWidth:k;r&&(n.scrollHeight>n.offsetHeight||"scroll"==$(n).css("overflow-y"))&&(a.nTable.style.width=_fnStringToCss(v-a.oScroll.iBarWidth)),n.style.width=_fnStringToCss(v),l.parentNode.style.width=_fnStringToCss(v),null!==a.nTFoot&&(p.parentNode.style.width=_fnStringToCss(v)),""===a.oScroll.sX?_fnLog(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==a.oScroll.sXInner&&_fnLog(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else n.style.width=_fnStringToCss("100%"),l.parentNode.style.width=_fnStringToCss("100%"),null!==a.nTFoot&&(p.parentNode.style.width=_fnStringToCss("100%"));if(""===a.oScroll.sY&&r&&(n.style.height=_fnStringToCss(a.nTable.offsetHeight+a.oScroll.iBarWidth)),""!==a.oScroll.sY&&a.oScroll.bCollapse){n.style.height=_fnStringToCss(a.oScroll.sY);var w=""!==a.oScroll.sX&&a.nTable.offsetWidth>n.offsetWidth?a.oScroll.iBarWidth:0;a.nTable.offsetHeight<n.offsetHeight&&(n.style.height=_fnStringToCss($(a.nTable).height()+w))}var x=$(a.nTable).outerWidth();m.style.width=_fnStringToCss(x),l.style.width=_fnStringToCss(x),null!==a.nTFoot&&(p.style.width=_fnStringToCss(a.nTable.offsetWidth),q.style.width=_fnStringToCss(a.nTable.offsetWidth)),(a.bSorted||a.bFiltered)&&(n.scrollTop=0)}function _fnApplyToChildren(a,b,c){for(var d=0,e=b.length;e>d;d++)for(var f=0,g=b[d].childNodes.length;g>f;f++)1==b[d].childNodes[f].nodeType&&(c?a(b[d].childNodes[f],c[d].childNodes[f]):a(b[d].childNodes[f]))}function _fnConvertToWidth(a,b){if(!a||null===a||""===a)return 0;b||(b=document.getElementsByTagName("body")[0]);var c,d=document.createElement("div");return d.style.width=_fnStringToCss(a),b.appendChild(d),c=d.offsetWidth,b.removeChild(d),c}function _fnCalculateColumnWidths(a){a.nTable.offsetWidth;var b,c,d,e,f=0,g=0,h=a.aoColumns.length,i=$("th",a.nTHead),j=a.nTable.getAttribute("width");for(c=0;h>c;c++)a.aoColumns[c].bVisible&&(g++,null!==a.aoColumns[c].sWidth&&(b=_fnConvertToWidth(a.aoColumns[c].sWidthOrig,a.nTable.parentNode),null!==b&&(a.aoColumns[c].sWidth=_fnStringToCss(b)),f++));if(h==i.length&&0===f&&g==h&&""===a.oScroll.sX&&""===a.oScroll.sY)for(c=0;c<a.aoColumns.length;c++)b=$(i[c]).width(),null!==b&&(a.aoColumns[c].sWidth=_fnStringToCss(b));else{var k=a.nTable.cloneNode(!1),l=a.nTHead.cloneNode(!0),m=document.createElement("tbody"),n=document.createElement("tr");k.removeAttribute("id"),k.appendChild(l),null!==a.nTFoot&&(k.appendChild(a.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(a){a.style.width=""},k.getElementsByTagName("tr"))),k.appendChild(m),m.appendChild(n);var o=$("thead th",k);0===o.length&&(o=$("tbody tr:eq(0)>td",k));var p=_fnGetUniqueThs(a,l);for(d=0,c=0;h>c;c++){var q=a.aoColumns[c];q.bVisible&&null!==q.sWidthOrig&&""!==q.sWidthOrig?p[c-d].style.width=_fnStringToCss(q.sWidthOrig):q.bVisible?p[c-d].style.width="":d++}for(c=0;h>c;c++)if(a.aoColumns[c].bVisible){var r=_fnGetWidestNode(a,c);null!==r&&(r=r.cloneNode(!0),""!==a.aoColumns[c].sContentPadding&&(r.innerHTML+=a.aoColumns[c].sContentPadding),n.appendChild(r))}var s=a.nTable.parentNode;s.appendChild(k),""!==a.oScroll.sX&&""!==a.oScroll.sXInner?k.style.width=_fnStringToCss(a.oScroll.sXInner):""!==a.oScroll.sX?(k.style.width="",$(k).width()<s.offsetWidth&&(k.style.width=_fnStringToCss(s.offsetWidth))):""!==a.oScroll.sY?k.style.width=_fnStringToCss(s.offsetWidth):j&&(k.style.width=_fnStringToCss(j)),k.style.visibility="hidden",_fnScrollingWidthAdjust(a,k);var t=$("tbody tr:eq(0)",k).children();if(0===t.length&&(t=_fnGetUniqueThs(a,$("thead",k)[0])),""!==a.oScroll.sX){var u=0;for(d=0,c=0;c<a.aoColumns.length;c++)a.aoColumns[c].bVisible&&(u+=null===a.aoColumns[c].sWidthOrig?$(t[d]).outerWidth():parseInt(a.aoColumns[c].sWidth.replace("px",""),10)+($(t[d]).outerWidth()-$(t[d]).width()),d++);k.style.width=_fnStringToCss(u),a.nTable.style.width=_fnStringToCss(u)}for(d=0,c=0;c<a.aoColumns.length;c++)a.aoColumns[c].bVisible&&(e=$(t[d]).width(),null!==e&&e>0&&(a.aoColumns[c].sWidth=_fnStringToCss(e)),d++);var v=$(k).css("width");a.nTable.style.width=-1!==v.indexOf("%")?v:_fnStringToCss($(k).outerWidth()),k.parentNode.removeChild(k)}j&&(a.nTable.style.width=_fnStringToCss(j))}function _fnScrollingWidthAdjust(a,b){""===a.oScroll.sX&&""!==a.oScroll.sY?($(b).width(),b.style.width=_fnStringToCss($(b).outerWidth()-a.oScroll.iBarWidth)):""!==a.oScroll.sX&&(b.style.width=_fnStringToCss($(b).outerWidth()))}function _fnGetWidestNode(a,b){var c=_fnGetMaxLenString(a,b);if(0>c)return null;if(null===a.aoData[c].nTr){var d=document.createElement("td");return d.innerHTML=_fnGetCellData(a,c,b,""),d}return _fnGetTdNodes(a,c)[b]}function _fnGetMaxLenString(a,b){for(var c=-1,d=-1,e=0;e<a.aoData.length;e++){var f=_fnGetCellData(a,e,b,"display")+"";f=f.replace(/<.*?>/g,""),f.length>c&&(c=f.length,d=e)}return d}function _fnStringToCss(a){if(null===a)return"0px";if("number"==typeof a)return 0>a?"0px":a+"px";var b=a.charCodeAt(a.length-1);return 48>b||b>57?a:a+"px"}function _fnScrollBarWidth(){var a=document.createElement("p"),b=a.style;b.width="100%",b.height="200px",b.padding="0px";var c=document.createElement("div");b=c.style,b.position="absolute",b.top="0px",b.left="0px",b.visibility="hidden",b.width="200px",b.height="150px",b.padding="0px",b.overflow="hidden",c.appendChild(a),document.body.appendChild(c);var d=a.offsetWidth;c.style.overflow="scroll";var e=a.offsetWidth;return d==e&&(e=c.clientWidth),document.body.removeChild(c),d-e}function _fnSort(a,b){var c,d,e,f,g,h,i,j,k=[],l=[],m=DataTable.ext.oSort,n=a.aoData,o=a.aoColumns,p=a.oLanguage.oAria;if(!a.oFeatures.bServerSide&&(0!==a.aaSorting.length||null!==a.aaSortingFixed)){for(k=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice(),c=0;c<k.length;c++){var q=k[c][0],r=_fnColumnIndexToVisible(a,q);if(i=a.aoColumns[q].sSortDataType,DataTable.ext.afnSortData[i]){var s=DataTable.ext.afnSortData[i](a,q,r);for(e=0,f=n.length;f>e;e++)_fnSetCellData(a,e,q,s[e])}}for(c=0,d=a.aiDisplayMaster.length;d>c;c++)l[a.aiDisplayMaster[c]]=c;var t,u,v=k.length;for(c=0,d=n.length;d>c;c++)for(e=0;v>e;e++)for(u=o[k[e][0]].aDataSort,g=0,h=u.length;h>g;g++)i=o[u[g]].sType,t=m[(i?i:"string")+"-pre"],n[c]._aSortData[u[g]]=t?t(_fnGetCellData(a,c,u[g],"sort")):_fnGetCellData(a,c,u[g],"sort");var w=!1;a.aiDisplayMaster.sort(function(a,b){var c,d,e,f,g,h;for(c=0;v>c;c++)for(g=o[k[c][0]].aDataSort,d=0,e=g.length;e>d;d++)if(h=o[g[d]].sType,f=m[(h?h:"string")+"-"+k[c][1]](n[a]._aSortData[g[d]],n[b]._aSortData[g[d]]),0!==f)return w=!0,f;return m["numeric-asc"](l[a],l[b])})}for(b!==undefined&&!b||a.oFeatures.bDeferRender||_fnSortingClasses(a),c=0,d=a.aoColumns.length;d>c;c++)if(j=o[c].nTh,j.removeAttribute("aria-sort"),j.removeAttribute("aria-label"),o[c].bSortable)if(k.length>0&&k[0][0]==c){j.setAttribute("aria-sort","asc"==k[0][1]?"ascending":"descending");var x=o[c].asSorting[k[0][2]+1]?o[c].asSorting[k[0][2]+1]:o[c].asSorting[0];j.setAttribute("aria-label",o[c].sTitle+("asc"==x?p.sSortAscending:p.sSortDescending))}else j.setAttribute("aria-label",o[c].sTitle+("asc"==o[c].asSorting[0]?p.sSortAscending:p.sSortDescending));else j.setAttribute("aria-label",o[c].sTitle);w&&(a.bSorted=!0,$(a.oInstance).trigger("sort",a)),a.oFeatures.bFilter?_fnFilterComplete(a,a.oPreviousSearch,1):(a.aiDisplay=a.aiDisplayMaster.slice(),a._iDisplayStart=0,_fnCalculateEnd(a),_fnDraw(a))}function _fnSortAttachListener(a,b,c,d){_fnBindAction(b,{},function(b){if(a.aoColumns[c].bSortable!==!1){var e=function(){var d,e;if(b.shiftKey||b.ctrlKey){for(var f=!1,g=0;g<a.aaSorting.length;g++)if(a.aaSorting[g][0]==c){f=!0,d=a.aaSorting[g][0],e=a.aaSorting[g][2]+1,a.aoColumns[d].asSorting[e]?(a.aaSorting[g][1]=a.aoColumns[d].asSorting[e],a.aaSorting[g][2]=e):a.aaSorting.splice(g,1);break}f===!1&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else 1==a.aaSorting.length&&a.aaSorting[0][0]==c?(d=a.aaSorting[0][0],e=a.aaSorting[0][2]+1,a.aoColumns[d].asSorting[e]||(e=0),a.aaSorting[0][1]=a.aoColumns[d].asSorting[e],a.aaSorting[0][2]=e):(a.aaSorting.splice(0,a.aaSorting.length),a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0]));null==a.fnSortCallback&&_fnSort(a)};a.oFeatures.bProcessing?(_fnProcessingDisplay(a,!0),setTimeout(function(){e(),a.oFeatures.bServerSide||_fnProcessingDisplay(a,!1)},0)):e(),"function"==typeof d&&d(a)}})}function _fnSortingClasses(a){var b,c,d,e,f,g,h=a.aoColumns.length,i=a.oClasses;for(b=0;h>b;b++)a.aoColumns[b].bSortable&&$(a.aoColumns[b].nTh).removeClass(i.sSortAsc+" "+i.sSortDesc+" "+a.aoColumns[b].sSortingClass);for(f=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice(),b=0;b<a.aoColumns.length;b++)if(a.aoColumns[b].bSortable){for(g=a.aoColumns[b].sSortingClass,e=-1,c=0;c<f.length;c++)if(f[c][0]==b){g="asc"==f[c][1]?i.sSortAsc:i.sSortDesc,e=c;break}if($(a.aoColumns[b].nTh).addClass(g),a.bJUI){var j=$("span."+i.sSortIcon,a.aoColumns[b].nTh);j.removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed);var k;k=-1==e?a.aoColumns[b].sSortingClassJUI:"asc"==f[e][1]?i.sSortJUIAsc:i.sSortJUIDesc,j.addClass(k)}}else $(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass);if(g=i.sSortColumn,a.oFeatures.bSort&&a.oFeatures.bSortClasses){var l=_fnGetTdNodes(a);if(a.oFeatures.bDeferRender)$(l).removeClass(g+"1 "+g+"2 "+g+"3");else if(l.length>=h)for(b=0;h>b;b++)if(-1!=l[b].className.indexOf(g+"1"))for(c=0,d=l.length/h;d>c;c++)l[h*c+b].className=$.trim(l[h*c+b].className.replace(g+"1",""));else if(-1!=l[b].className.indexOf(g+"2"))for(c=0,d=l.length/h;d>c;c++)l[h*c+b].className=$.trim(l[h*c+b].className.replace(g+"2",""));else if(-1!=l[b].className.indexOf(g+"3"))for(c=0,d=l.length/h;d>c;c++)l[h*c+b].className=$.trim(l[h*c+b].className.replace(" "+g+"3",""));var m,n=1;for(b=0;b<f.length;b++){for(m=parseInt(f[b][0],10),c=0,d=l.length/h;d>c;c++)l[h*c+m].className+=" "+g+n;3>n&&n++}}}function _fnSaveState(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b,c,d=a.oScroll.bInfinite,e={iCreate:(new Date).getTime(),iStart:d?0:a._iDisplayStart,iEnd:d?a._iDisplayLength:a._iDisplayEnd,iLength:a._iDisplayLength,aaSorting:$.extend(!0,[],a.aaSorting),oSearch:$.extend(!0,{},a.oPreviousSearch),aoSearchCols:$.extend(!0,[],a.aoPreSearchCols),abVisCols:[]};for(b=0,c=a.aoColumns.length;c>b;b++)e.abVisCols.push(a.aoColumns[b].bVisible);_fnCallbackFire(a,"aoStateSaveParams","stateSaveParams",[a,e]),a.fnStateSave.call(a.oInstance,a,e)}}function _fnLoadState(a,b){if(a.oFeatures.bStateSave){var c=a.fnStateLoad.call(a.oInstance,a);if(c){var d=_fnCallbackFire(a,"aoStateLoadParams","stateLoadParams",[a,c]);if(-1===$.inArray(!1,d)){a.oLoadedState=$.extend(!0,{},c),a._iDisplayStart=c.iStart,a.iInitDisplayStart=c.iStart,a._iDisplayEnd=c.iEnd,a._iDisplayLength=c.iLength,a.aaSorting=c.aaSorting.slice(),a.saved_aaSorting=c.aaSorting.slice(),$.extend(a.oPreviousSearch,c.oSearch),$.extend(!0,a.aoPreSearchCols,c.aoSearchCols),b.saved_aoColumns=[];for(var e=0;e<c.abVisCols.length;e++)b.saved_aoColumns[e]={},b.saved_aoColumns[e].bVisible=c.abVisCols[e];_fnCallbackFire(a,"aoStateLoaded","stateLoaded",[a,c])}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+1e3*iSecs);var aParts=window.location.pathname.split("/"),sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase(),sFullCookie,oData;null!==fnCallback?(oData="function"==typeof $.parseJSON?$.parseJSON(sValue):eval("("+sValue+")"),sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")):sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";var sOldName="",iOldTime=9999999999999,iLength=null!==_fnReadCookie(sNameFile)?document.cookie.length:sFullCookie.length+document.cookie.length;if(iLength+10>4096){for(var aCookies=document.cookie.split(";"),i=0,iLen=aCookies.length;iLen>i;i++)if(-1!=aCookies[i].indexOf(sBaseName)){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")")}catch(e){continue}oData.iCreate&&oData.iCreate<iOldTime&&(sOldName=aSplitCookie[0],iOldTime=oData.iCreate)}""!==sOldName&&(document.cookie=sOldName+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/")}document.cookie=sFullCookie}function _fnReadCookie(a){for(var b=window.location.pathname.split("/"),c=a+"_"+b[b.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",d=document.cookie.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(c))return decodeURIComponent(f.substring(c.length,f.length))}return null}function _fnSettingsFromNode(a){for(var b=0;b<DataTable.settings.length;b++)if(DataTable.settings[b].nTable===a)return DataTable.settings[b];return null}function _fnGetTrNodes(a){for(var b=[],c=a.aoData,d=0,e=c.length;e>d;d++)null!==c[d].nTr&&b.push(c[d].nTr);return b}function _fnGetTdNodes(a,b){var c,d,e,f,g,h,i,j=[],k=a.aoData.length,l=0,m=k;for(b!==undefined&&(l=b,m=b+1),e=l;m>e;e++)if(h=a.aoData[e],null!==h.nTr){for(d=[],f=0,g=h.nTr.childNodes.length;g>f;f++)i=h.nTr.childNodes[f].nodeName.toLowerCase(),("td"==i||"th"==i)&&d.push(h.nTr.childNodes[f]);for(c=0,f=0,g=a.aoColumns.length;g>f;f++)a.aoColumns[f].bVisible?j.push(d[f-c]):(j.push(h._anHidden[f]),c++)}return j}function _fnLog(a,b,c){var d=null===a?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(0===b){if("alert"!=DataTable.ext.sErrMode)throw d;return alert(d),void 0}console!==undefined&&console.log&&console.log(d)}function _fnMap(a,b,c,d){d===undefined&&(d=c),b[c]!==undefined&&(a[d]=b[c])}function _fnExtend(a,b){for(var c in a)a.hasOwnProperty(c)&&b[c]!==undefined&&("object"==typeof oInit[c]&&$.isArray(b[c])===!1?$.extend(!0,a[c],b[c]):a[c]=b[c]);return a}function _fnBindAction(a,b,c){$(a).bind("click.DT",b,function(b){c(b),a.blur()}).bind("keypress.DT",b,function(a){13===a.which&&c(a)}).bind("selectstart.DT",function(){return!1})}function _fnCallbackReg(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function _fnCallbackFire(a,b,c,d){for(var e=a[b],f=[],g=e.length-1;g>=0;g--)f.push(e[g].fn.apply(a.oInstance,d));return null!==c&&$(a.oInstance).trigger(c,d),f}function _fnExternApiFunc(a){return function(){var b=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[a].apply(this,b)}}var _fnJsonString=window.JSON?JSON.stringify:function(a){var b=typeof a;if("object"!==b||null===a)return"string"===b&&(a='"'+a+'"'),a+"";var c,d,e=[],f=$.isArray(a);for(c in a)d=a[c],b=typeof d,"string"===b?d='"'+d+'"':"object"===b&&null!==d&&(d=_fnJsonString(d)),e.push((f?"":'"'+c+'":')+d);return(f?"[":"{")+e+(f?"]":"}")};this.$=function(a,b){var c,d,e=[],f=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(b||(b={}),b=$.extend({},{filter:"none",order:"current",page:"all"},b),"current"==b.page)for(c=f._iDisplayStart,d=f.fnDisplayEnd();d>c;c++)e.push(f.aoData[f.aiDisplay[c]].nTr);else if("current"==b.order&&"none"==b.filter)for(c=0,d=f.aiDisplayMaster.length;d>c;c++)e.push(f.aoData[f.aiDisplayMaster[c]].nTr);else if("current"==b.order&&"applied"==b.filter)for(c=0,d=f.aiDisplay.length;d>c;c++)e.push(f.aoData[f.aiDisplay[c]].nTr);else if("original"==b.order&&"none"==b.filter)for(c=0,d=f.aoData.length;d>c;c++)e.push(f.aoData[c].nTr);else if("original"==b.order&&"applied"==b.filter)for(c=0,d=f.aoData.length;d>c;c++)-1!==$.inArray(c,f.aiDisplay)&&e.push(f.aoData[c].nTr);else _fnLog(f,1,"Unknown selection options");var g=$(e),h=g.filter(a),i=g.find(a);return $([].concat($.makeArray(h),$.makeArray(i)))},this._=function(a,b){var c,d,e=[],f=this.$(a,b);for(c=0,d=f.length;d>c;c++)e.push(this.fnGetData(f[c]));return e},this.fnAddData=function(a,b){if(0===a.length)return[];var c,d=[],e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if("object"==typeof a[0]&&null!==a[0])for(var f=0;f<a.length;f++){if(c=_fnAddData(e,a[f]),-1==c)return d;d.push(c)}else{if(c=_fnAddData(e,a),-1==c)return d;d.push(c)}return e.aiDisplay=e.aiDisplayMaster.slice(),(b===undefined||b)&&_fnReDraw(e),d},this.fnAdjustColumnSizing=function(a){var b=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(b),a===undefined||a?this.fnDraw(!1):(""!==b.oScroll.sX||""!==b.oScroll.sY)&&this.oApi._fnScrollDraw(b)},this.fnClearTable=function(a){var b=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(b),(a===undefined||a)&&_fnDraw(b)},this.fnSetSort=function(a){var b=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);b.aaSorting=[];var c=0;for(c=0;c<a.length;c++)b.aaSorting.push([a[c][0],0==a[c][1]?"asc":"desc",a[c][1]]);_fnSortingClasses(b)},this.fnClose=function(a){for(var b=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a){var d=b.aoOpenRows[c].nTr.parentNode;return d&&d.removeChild(b.aoOpenRows[c].nTr),b.aoOpenRows.splice(c,1),0}return 1},this.fnDeleteRow=function(a,b,c){var d,e,f,g=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);f="object"==typeof a?_fnNodeToDataIndex(g,a):a;var h=g.aoData.splice(f,1);for(d=0,e=g.aoData.length;e>d;d++)null!==g.aoData[d].nTr&&(g.aoData[d].nTr._DT_RowIndex=d);var i=$.inArray(f,g.aiDisplay);return g.asDataSearch.splice(i,1),_fnDeleteIndex(g.aiDisplayMaster,f),_fnDeleteIndex(g.aiDisplay,f),"function"==typeof b&&b.call(this,g,h),g._iDisplayStart>=g.aiDisplay.length&&(g._iDisplayStart-=g._iDisplayLength,g._iDisplayStart<0&&(g._iDisplayStart=0)),(c===undefined||c)&&(_fnCalculateEnd(g),_fnDraw(g)),h},this.fnDestroy=function(a){var b,c,d=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),e=d.nTableWrapper.parentNode,f=d.nTBody;for(a=a===undefined?!1:!0,d.bDestroying=!0,b=0,c=d.aoDestroyCallback.length;c>b;b++)d.aoDestroyCallback[b].fn();for(b=0,c=d.aoColumns.length;c>b;b++)d.aoColumns[b].bVisible===!1&&this.fnSetColumnVis(b,!0);for($(d.nTableWrapper).find("*").andSelf().unbind(".DT"),$("tbody>tr>td."+d.oClasses.sRowEmpty,d.nTable).parent().remove(),d.nTable!=d.nTHead.parentNode&&($(d.nTable).children("thead").remove(),d.nTable.appendChild(d.nTHead)),d.nTFoot&&d.nTable!=d.nTFoot.parentNode&&($(d.nTable).children("tfoot").remove(),d.nTable.appendChild(d.nTFoot)),d.nTable.parentNode.removeChild(d.nTable),$(d.nTableWrapper).remove(),d.aaSorting=[],d.aaSortingFixed=[],_fnSortingClasses(d),$(_fnGetTrNodes(d)).removeClass(d.asStripeClasses.join(" ")),$("th, td",d.nTHead).removeClass([d.oClasses.sSortable,d.oClasses.sSortableAsc,d.oClasses.sSortableDesc,d.oClasses.sSortableNone].join(" ")),d.bJUI&&($("th span."+d.oClasses.sSortIcon+", td span."+d.oClasses.sSortIcon,d.nTHead).remove(),$("th, td",d.nTHead).each(function(){var a=$("div."+d.oClasses.sSortJUIWrapper,this),b=a.contents();$(this).append(b),a.remove()})),!a&&d.nTableReinsertBefore?e.insertBefore(d.nTable,d.nTableReinsertBefore):a||e.appendChild(d.nTable),b=0,c=d.aoData.length;c>b;b++)null!==d.aoData[b].nTr&&f.appendChild(d.aoData[b].nTr);for(d.oFeatures.bAutoWidth===!0&&(d.nTable.style.width=_fnStringToCss(d.sDestroyWidth)),$(f).children("tr:even").addClass(d.asDestroyStripes[0]),$(f).children("tr:odd").addClass(d.asDestroyStripes[1]),b=0,c=DataTable.settings.length;c>b;b++)DataTable.settings[b]==d&&DataTable.settings.splice(b,1);d=null},this.fnDraw=function(a){var b=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);a?(_fnCalculateEnd(b),_fnDraw(b)):_fnReDraw(b)},this.fnFilter=function(a,b,c,d,e,f){var g=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(g.oFeatures.bFilter)if((c===undefined||null===c)&&(c=!1),(d===undefined||null===d)&&(d=!0),(e===undefined||null===e)&&(e=!0),(f===undefined||null===f)&&(f=!0),b===undefined||null===b){if(_fnFilterComplete(g,{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:f},1),e&&g.aanFeatures.f)for(var h=g.aanFeatures.f,i=0,j=h.length;j>i;i++)$("input",h[i]).val(a)}else $.extend(g.aoPreSearchCols[b],{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:f}),_fnFilterComplete(g,g.oPreviousSearch,1)},this.fnGetData=function(a,b){var c=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(a!==undefined){var d=a;if("object"==typeof a){var e=a.nodeName.toLowerCase();"tr"===e?d=_fnNodeToDataIndex(c,a):"td"===e&&(d=_fnNodeToDataIndex(c,a.parentNode),b=_fnNodeToColumnIndex(c,d,a))}return b!==undefined?_fnGetCellData(c,d,b,""):c.aoData[d]!==undefined?c.aoData[d]._aData:null}return _fnGetDataMaster(c)},this.fnGetNodes=function(a){var b=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);return a!==undefined?b.aoData[a]!==undefined?b.aoData[a].nTr:null:_fnGetTrNodes(b)},this.fnGetPosition=function(a){var b=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),c=a.nodeName.toUpperCase();if("TR"==c)return _fnNodeToDataIndex(b,a);if("TD"==c||"TH"==c){var d=_fnNodeToDataIndex(b,a.parentNode),e=_fnNodeToColumnIndex(b,d,a);return[d,_fnColumnIndexToVisible(b,e),e]}return null},this.fnIsOpen=function(a){var b=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);b.aoOpenRows;for(var c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return!0;return!1},this.fnOpen=function(a,b,c){var d=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),e=_fnGetTrNodes(d);if(-1!==$.inArray(a,e)){this.fnClose(a);var f=document.createElement("tr"),g=document.createElement("td");f.appendChild(g),g.className=c,g.colSpan=_fnVisbleColumns(d),"string"==typeof b?g.innerHTML=b:$(g).html(b);var h=$("tr",d.nTBody);return-1!=$.inArray(a,h)&&$(f).insertAfter(a),d.aoOpenRows.push({nTr:f,nParent:a}),f}},this.fnPageChange=function(a,b){var c=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(c,a),_fnCalculateEnd(c),(b===undefined||b)&&_fnDraw(c)},this.fnSetColumnVis=function(a,b,c){var d,e,f,g,h,i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),j=i.aoColumns,k=i.aoData;if(j[a].bVisible!=b){if(b){var l=0;for(d=0;a>d;d++)j[d].bVisible&&l++;if(g=l>=_fnVisbleColumns(i),!g)for(d=a;d<j.length;d++)if(j[d].bVisible){h=d;break}for(d=0,e=k.length;e>d;d++)null!==k[d].nTr&&(g?k[d].nTr.appendChild(k[d]._anHidden[a]):k[d].nTr.insertBefore(k[d]._anHidden[a],_fnGetTdNodes(i,d)[h]))}else for(d=0,e=k.length;e>d;d++)null!==k[d].nTr&&(f=_fnGetTdNodes(i,d)[a],k[d]._anHidden[a]=f,f.parentNode.removeChild(f));for(j[a].bVisible=b,_fnDrawHead(i,i.aoHeader),i.nTFoot&&_fnDrawHead(i,i.aoFooter),d=0,e=i.aoOpenRows.length;e>d;d++)i.aoOpenRows[d].nTr.colSpan=_fnVisbleColumns(i);(c===undefined||c)&&(_fnAdjustColumnSizing(i),_fnDraw(i)),_fnSaveState(i)}},this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])},this.fnSort=function(a){var b=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);b.aaSorting=a,_fnSort(b)},this.fnSortListener=function(a,b,c){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),a,b,c)},this.fnUpdate=function(a,b,c,d,e){var f,g,h=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),i="object"==typeof b?_fnNodeToDataIndex(h,b):b;if(h.__fnUpdateDeep===undefined&&$.isArray(a)&&"object"==typeof a){for(h.aoData[i]._aData=a.slice(),h.__fnUpdateDeep=!0,f=0;f<h.aoColumns.length;f++)this.fnUpdate(_fnGetCellData(h,i,f),i,f,!1,!1);h.__fnUpdateDeep=undefined}else if(h.__fnUpdateDeep===undefined&&null!==a&&"object"==typeof a){for(h.aoData[i]._aData=$.extend(!0,{},a),h.__fnUpdateDeep=!0,f=0;f<h.aoColumns.length;f++)this.fnUpdate(_fnGetCellData(h,i,f),i,f,!1,!1);h.__fnUpdateDeep=undefined}else{_fnSetCellData(h,i,c,a),g=_fnGetCellData(h,i,c,"display");var j=h.aoColumns[c];null!==j.fnRender&&(g=_fnRender(h,i,c),j.bUseRendered&&_fnSetCellData(h,i,c,g)),null!==h.aoData[i].nTr&&(_fnGetTdNodes(h,i)[c].innerHTML=g)}var k=$.inArray(i,h.aiDisplay);return h.asDataSearch[k]=_fnBuildSearchRow(h,_fnGetRowData(h,i,"filter")),(e===undefined||e)&&_fnAdjustColumnSizing(h),(d===undefined||d)&&_fnReDraw(h),0},this.fnVersionCheck=DataTable.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:_fnExternApiFunc,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLanguageCompat:_fnLanguageCompat,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAddData:_fnAddData,_fnCreateTr:_fnCreateTr,_fnGatherData:_fnGatherData,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnServerParams:_fnServerParams,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnBuildSearchArray:_fnBuildSearchArray,_fnBuildSearchRow:_fnBuildSearchRow,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnDataToSearch:_fnDataToSearch,_fnSort:_fnSort,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnVisbleColumns:_fnVisbleColumns,_fnCalculateEnd:_fnCalculateEnd,_fnConvertToWidth:_fnConvertToWidth,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnScrollingWidthAdjust:_fnScrollingWidthAdjust,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnDetectType:_fnDetectType,_fnSettingsFromNode:_fnSettingsFromNode,_fnGetDataMaster:_fnGetDataMaster,_fnGetTrNodes:_fnGetTrNodes,_fnGetTdNodes:_fnGetTdNodes,_fnEscapeRegex:_fnEscapeRegex,_fnDeleteIndex:_fnDeleteIndex,_fnReOrderIndex:_fnReOrderIndex,_fnColumnOrdering:_fnColumnOrdering,_fnLog:_fnLog,_fnClearTable:_fnClearTable,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnCreateCookie:_fnCreateCookie,_fnReadCookie:_fnReadCookie,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnScrollBarWidth:_fnScrollBarWidth,_fnApplyToChildren:_fnApplyToChildren,_fnMap:_fnMap,_fnGetRowData:_fnGetRowData,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnBindAction:_fnBindAction,_fnExtend:_fnExtend,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnJsonString:_fnJsonString,_fnRender:_fnRender,_fnNodeToColumnIndex:_fnNodeToColumnIndex},$.extend(DataTable.ext.oApi,this.oApi);for(var sFunc in DataTable.ext.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));var _that=this;return this.each(function(){var a,b,c,d=0,e=this.getAttribute("id"),f=!1,g=!1;if("table"!=this.nodeName.toLowerCase())return _fnLog(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName),void 0;for(d=0,a=DataTable.settings.length;a>d;d++){if(DataTable.settings[d].nTable==this){if(oInit===undefined||oInit.bRetrieve)return DataTable.settings[d].oInstance;if(oInit.bDestroy){DataTable.settings[d].oInstance.fnDestroy();break}return _fnLog(DataTable.settings[d],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy"),void 0}if(DataTable.settings[d].sTableId==this.id){DataTable.settings.splice(d,1);break}}null===e&&(e="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++,this.id=e);var h=$.extend(!0,{},DataTable.models.oSettings,{nTable:this,oApi:_that.oApi,oInit:oInit,sDestroyWidth:$(this).width(),sInstance:e,sTableId:e});
DataTable.settings.push(h),h.oInstance=1===_that.length?_that:$(this).dataTable(),oInit||(oInit={}),oInit.oLanguage&&_fnLanguageCompat(oInit.oLanguage),oInit=_fnExtend($.extend(!0,{},DataTable.defaults),oInit),_fnMap(h.oFeatures,oInit,"bPaginate"),_fnMap(h.oFeatures,oInit,"bLengthChange"),_fnMap(h.oFeatures,oInit,"bFilter"),_fnMap(h.oFeatures,oInit,"bSort"),_fnMap(h.oFeatures,oInit,"bInfo"),_fnMap(h.oFeatures,oInit,"bProcessing"),_fnMap(h.oFeatures,oInit,"bAutoWidth"),_fnMap(h.oFeatures,oInit,"bSortClasses"),_fnMap(h.oFeatures,oInit,"bServerSide"),_fnMap(h.oFeatures,oInit,"bDeferRender"),_fnMap(h.oScroll,oInit,"sScrollX","sX"),_fnMap(h.oScroll,oInit,"sScrollXInner","sXInner"),_fnMap(h.oScroll,oInit,"sScrollY","sY"),_fnMap(h.oScroll,oInit,"bScrollCollapse","bCollapse"),_fnMap(h.oScroll,oInit,"bScrollInfinite","bInfinite"),_fnMap(h.oScroll,oInit,"iScrollLoadGap","iLoadGap"),_fnMap(h.oScroll,oInit,"bScrollAutoCss","bAutoCss"),_fnMap(h,oInit,"asStripClasses","asStripeClasses"),_fnMap(h,oInit,"asStripeClasses"),_fnMap(h,oInit,"fnServerData"),_fnMap(h,oInit,"fnFormatNumber"),_fnMap(h,oInit,"sServerMethod"),_fnMap(h,oInit,"aaSorting"),_fnMap(h,oInit,"aaSortingFixed"),_fnMap(h,oInit,"aLengthMenu"),_fnMap(h,oInit,"sPaginationType"),_fnMap(h,oInit,"sAjaxSource"),_fnMap(h,oInit,"sAjaxDataProp"),_fnMap(h,oInit,"iCookieDuration"),_fnMap(h,oInit,"sCookiePrefix"),_fnMap(h,oInit,"sDom"),_fnMap(h,oInit,"bSortCellsTop"),_fnMap(h,oInit,"iTabIndex"),_fnMap(h,oInit,"oSearch","oPreviousSearch"),_fnMap(h,oInit,"aoSearchCols","aoPreSearchCols"),_fnMap(h,oInit,"iDisplayLength","_iDisplayLength"),_fnMap(h,oInit,"bJQueryUI","bJUI"),_fnMap(h,oInit,"fnCookieCallback"),_fnMap(h,oInit,"fnStateLoad"),_fnMap(h,oInit,"fnStateSave"),_fnMap(h.oLanguage,oInit,"fnInfoCallback"),_fnMap(h,oInit,"fnSortCallback"),_fnCallbackReg(h,"aoDrawCallback",oInit.fnDrawCallback,"user"),_fnCallbackReg(h,"aoServerParams",oInit.fnServerParams,"user"),_fnCallbackReg(h,"aoStateSaveParams",oInit.fnStateSaveParams,"user"),_fnCallbackReg(h,"aoStateLoadParams",oInit.fnStateLoadParams,"user"),_fnCallbackReg(h,"aoStateLoaded",oInit.fnStateLoaded,"user"),_fnCallbackReg(h,"aoRowCallback",oInit.fnRowCallback,"user"),_fnCallbackReg(h,"aoRowCreatedCallback",oInit.fnCreatedRow,"user"),_fnCallbackReg(h,"aoHeaderCallback",oInit.fnHeaderCallback,"user"),_fnCallbackReg(h,"aoFooterCallback",oInit.fnFooterCallback,"user"),_fnCallbackReg(h,"aoInitComplete",oInit.fnInitComplete,"user"),_fnCallbackReg(h,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user"),h.oFeatures.bServerSide&&h.oFeatures.bSort&&h.oFeatures.bSortClasses?_fnCallbackReg(h,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes"):h.oFeatures.bDeferRender&&_fnCallbackReg(h,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes"),oInit.bJQueryUI?($.extend(h.oClasses,DataTable.ext.oJUIClasses),oInit.sDom===DataTable.defaults.sDom&&"lfrtip"===DataTable.defaults.sDom&&(h.sDom='<"H"lfr>t<"F"ip>')):$.extend(h.oClasses,DataTable.ext.oStdClasses),$(this).addClass(h.oClasses.sTable),(""!==h.oScroll.sX||""!==h.oScroll.sY)&&(h.oScroll.iBarWidth=_fnScrollBarWidth()),h.iInitDisplayStart===undefined&&(h.iInitDisplayStart=oInit.iDisplayStart,h._iDisplayStart=oInit.iDisplayStart),oInit.bStateSave&&(h.oFeatures.bStateSave=!0,_fnLoadState(h,oInit),_fnCallbackReg(h,"aoDrawCallback",_fnSaveState,"state_save")),null!==oInit.iDeferLoading&&(h.bDeferLoading=!0,h._iRecordsTotal=oInit.iDeferLoading,h._iRecordsDisplay=oInit.iDeferLoading),null!==oInit.aaData&&(g=!0),""!==oInit.oLanguage.sUrl?(h.oLanguage.sUrl=oInit.oLanguage.sUrl,$.getJSON(h.oLanguage.sUrl,null,function(a){_fnLanguageCompat(a),$.extend(!0,h.oLanguage,oInit.oLanguage,a),_fnInitialise(h)}),f=!0):$.extend(!0,h.oLanguage,oInit.oLanguage);var i=!1,j=$(this).children("tbody").children("tr");for(d=0,a=h.asStripeClasses.length;a>d;d++)if(j.filter(":lt(2)").hasClass(h.asStripeClasses[d])){i=!0;break}i&&(h.asDestroyStripes=["",""],$(j[0]).hasClass(h.oClasses.sStripeOdd)&&(h.asDestroyStripes[0]+=h.oClasses.sStripeOdd+" "),$(j[0]).hasClass(h.oClasses.sStripeEven)&&(h.asDestroyStripes[0]+=h.oClasses.sStripeEven),$(j[1]).hasClass(h.oClasses.sStripeOdd)&&(h.asDestroyStripes[1]+=h.oClasses.sStripeOdd+" "),$(j[1]).hasClass(h.oClasses.sStripeEven)&&(h.asDestroyStripes[1]+=h.oClasses.sStripeEven),j.removeClass(h.asStripeClasses.join(" ")));var k,l=[],m=this.getElementsByTagName("thead");if(0!==m.length&&(_fnDetectHeader(h.aoHeader,m[0]),l=_fnGetUniqueThs(h)),null===oInit.aoColumns)for(k=[],d=0,a=l.length;a>d;d++)k.push(null);else k=oInit.aoColumns;for(d=0,a=k.length;a>d;d++)oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==a&&(null===k[d]&&(k[d]={}),k[d].bVisible=oInit.saved_aoColumns[d].bVisible),_fnAddColumn(h,l?l[d]:null);for(_fnApplyColumnDefs(h,oInit.aoColumnDefs,k,function(a,b){_fnColumnOptions(h,a,b)}),d=0,a=h.aaSorting.length;a>d;d++){h.aaSorting[d][0]>=h.aoColumns.length&&(h.aaSorting[d][0]=0);var n=h.aoColumns[h.aaSorting[d][0]];for(h.aaSorting[d][2]===undefined&&(h.aaSorting[d][2]=0),oInit.aaSorting===undefined&&h.saved_aaSorting===undefined&&(h.aaSorting[d][1]=n.asSorting[0]),b=0,c=n.asSorting.length;c>b;b++)if(h.aaSorting[d][1]==n.asSorting[b]){h.aaSorting[d][2]=b;break}}_fnSortingClasses(h);var o=$(this).children("thead");0===o.length&&(o=[document.createElement("thead")],this.appendChild(o[0])),h.nTHead=o[0];var p=$(this).children("tbody");0===p.length&&(p=[document.createElement("tbody")],this.appendChild(p[0])),h.nTBody=p[0],h.nTBody.setAttribute("role","alert"),h.nTBody.setAttribute("aria-live","polite"),h.nTBody.setAttribute("aria-relevant","all");var q=$(this).children("tfoot");if(q.length>0&&(h.nTFoot=q[0],_fnDetectHeader(h.aoFooter,h.nTFoot)),g)for(d=0;d<oInit.aaData.length;d++)_fnAddData(h,oInit.aaData[d]);else _fnGatherData(h);h.aiDisplay=h.aiDisplayMaster.slice(),h.bInitialised=!0,f===!1&&_fnInitialise(h)})};DataTable.version="1.9.0",DataTable.settings=[],DataTable.models={},DataTable.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:function(a){for(var b=function(a,b){for(;a.length<b;)a+="0";return a},c=DataTable.ext.sVersion.split("."),d=a.split("."),e="",f="",g=0,h=d.length;h>g;g++)e+=b(c[g],3),f+=b(d[g],3);return parseInt(e,10)>=parseInt(f,10)},iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:DataTable.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},DataTable.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},DataTable.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mDataProp:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:["odd","even"],bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){if(1e3>a)return a;for(var b=a+"",c=b.split(""),d="",e=b.length,f=0;e>f;f++)0===f%3&&0!==f&&(d=this.oLanguage.sInfoThousands+d),d=c[e-f-1]+d;return d},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(a,b,c,d){d.jqXHR=$.ajax({url:a,data:b,success:function(a){$(d.oInstance).trigger("xhr",d),c(a)},dataType:"json",cache:!1,type:d.sServerMethod,error:function(a,b){"parsererror"==b&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance),oData;try{oData="function"==typeof $.parseJSON?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(a,b){this.oApi._fnCreateCookie(a.sCookiePrefix+a.sInstance,this.oApi._fnJsonString(b),a.iCookieDuration,a.sCookiePrefix,a.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching entries found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",fnSortCallback:null},DataTable.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mDataProp:null,sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0},DataTable.ext=$.extend(!0,{},DataTable.models.ext),$.extend(DataTable.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""}),$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default"}),$.extend(DataTable.ext.oPagination,{two_button:{fnInit:function(a,b,c){var d=a.oLanguage.oPaginate;a.oClasses;var e=function(b){a.oApi._fnPageChange(a,b.data.action)&&c(a)},f=a.bJUI?'<a class="'+a.oClasses.sPagePrevDisabled+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+a.oClasses.sPageJUIPrev+'"></span></a>'+'<a class="'+a.oClasses.sPageNextDisabled+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+a.oClasses.sPageJUINext+'"></span></a>':'<a class="'+a.oClasses.sPagePrevDisabled+'" tabindex="'+a.iTabIndex+'" role="button">'+d.sPrevious+"</a>"+'<a class="'+a.oClasses.sPageNextDisabled+'" tabindex="'+a.iTabIndex+'" role="button">'+d.sNext+"</a>";$(b).append(f);var g=$("a",b),h=g[0],i=g[1];a.oApi._fnBindAction(h,{action:"previous"},e),a.oApi._fnBindAction(i,{action:"next"},e),a.aanFeatures.p||(b.id=a.sTableId+"_paginate",h.id=a.sTableId+"_previous",i.id=a.sTableId+"_next",h.setAttribute("aria-controls",a.sTableId),i.setAttribute("aria-controls",a.sTableId))},fnUpdate:function(a){if(a.aanFeatures.p)for(var b=a.oClasses,c=a.aanFeatures.p,d=0,e=c.length;e>d;d++)0!==c[d].childNodes.length&&(c[d].childNodes[0].className=0===a._iDisplayStart?b.sPagePrevDisabled:b.sPagePrevEnabled,c[d].childNodes[1].className=a.fnDisplayEnd()==a.fnRecordsDisplay()?b.sPageNextDisabled:b.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(a,b,c){var d=a.oLanguage.oPaginate,e=a.oClasses,f=function(b){a.oApi._fnPageChange(a,b.data.action)&&c(a)};$(b).append('<a  tabindex="'+a.iTabIndex+'" class="'+e.sPageButton+" "+e.sPageFirst+'">'+d.sFirst+"</a>"+'<a  tabindex="'+a.iTabIndex+'" class="'+e.sPageButton+" "+e.sPagePrevious+'">'+d.sPrevious+"</a>"+"<span></span>"+'<a tabindex="'+a.iTabIndex+'" class="'+e.sPageButton+" "+e.sPageNext+'">'+d.sNext+"</a>"+'<a tabindex="'+a.iTabIndex+'" class="'+e.sPageButton+" "+e.sPageLast+'">'+d.sLast+"</a>");var g=$("a",b),h=g[0],i=g[1],j=g[2],k=g[3];a.oApi._fnBindAction(h,{action:"first"},f),a.oApi._fnBindAction(i,{action:"previous"},f),a.oApi._fnBindAction(j,{action:"next"},f),a.oApi._fnBindAction(k,{action:"last"},f),a.aanFeatures.p||(b.id=a.sTableId+"_paginate",h.id=a.sTableId+"_first",i.id=a.sTableId+"_previous",j.id=a.sTableId+"_next",k.id=a.sTableId+"_last")},fnUpdate:function(a,b){if(a.aanFeatures.p){var c,d,e,f,g,h,i=DataTable.ext.oPagination.iFullNumbersShowPages,j=Math.floor(i/2),k=Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength),l=Math.ceil(a._iDisplayStart/a._iDisplayLength)+1,m="",n=a.oClasses,o=a.aanFeatures.p,p=function(d){a.oApi._fnBindAction(this,{page:d+c-1},function(c){a.oApi._fnPageChange(a,c.data.page),b(a),c.preventDefault()})};for(i>k?(c=1,d=k):j>=l?(c=1,d=i):l>=k-j?(c=k-i+1,d=k):(c=l-Math.ceil(i/2)+1,d=c+i-1),e=c;d>=e;e++)m+=l!==e?'<a tabindex="'+a.iTabIndex+'" class="'+n.sPageButton+'">'+a.fnFormatNumber(e)+"</a>":'<a tabindex="'+a.iTabIndex+'" class="'+n.sPageButtonActive+'">'+a.fnFormatNumber(e)+"</a>";for(e=0,f=o.length;f>e;e++)0!==o[e].childNodes.length&&($("span:eq(0)",$(o[e])).html(m).children("a").each(p),g=o[e].getElementsByTagName("a"),h=[g[0],g[1],g[g.length-2],g[g.length-1]],$(h).removeClass(n.sPageButton+" "+n.sPageButtonActive+" "+n.sPageButtonStaticDisabled),$([h[0],h[1]]).addClass(1==l?n.sPageButtonStaticDisabled:n.sPageButton),$([h[2],h[3]]).addClass(0===k||l===k||-1===a._iDisplayLength?n.sPageButtonStaticDisabled:n.sPageButton))}}}}),$.extend(DataTable.ext.oSort,{"string-pre":function(a){return"string"!=typeof a&&(a=""),a.toLowerCase()},"string-asc":function(a,b){return b>a?-1:a>b?1:0},"string-desc":function(a,b){return b>a?1:a>b?-1:0},"html-pre":function(a){return a.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(a,b){return b>a?-1:a>b?1:0},"html-desc":function(a,b){return b>a?1:a>b?-1:0},"date-pre":function(a){var b=Date.parse(a);return(isNaN(b)||""===b)&&(b=Date.parse("01/01/1970 00:00:00")),b},"date-asc":function(a,b){return a-b},"date-desc":function(a,b){return b-a},"numeric-pre":function(a){return"-"==a||""===a?0:1*a},"numeric-asc":function(a,b){return a-b},"numeric-desc":function(a,b){return b-a}}),$.extend(DataTable.ext.aTypes,[function(a){if("number"==typeof a)return"numeric";if("string"!=typeof a)return null;var b,c="0123456789-",d="0123456789.",e=!1;if(b=a.charAt(0),-1==c.indexOf(b))return null;for(var f=1;f<a.length;f++){if(b=a.charAt(f),-1==d.indexOf(b))return null;if("."==b){if(e)return null;e=!0}}return"numeric"},function(a){var b=Date.parse(a);return null!==b&&!isNaN(b)||"string"==typeof a&&0===a.length?"date":null},function(a){return"string"==typeof a&&-1!=a.indexOf("<")&&-1!=a.indexOf(">")?"html":null}]),$.fn.DataTable=DataTable,$.fn.dataTable=DataTable,$.fn.dataTableSettings=DataTable.settings,$.fn.dataTableExt=DataTable.ext}(jQuery,window,document,void 0),function(a,b,c){function d(a){for(var b=[],c=0,d=a.length;d>c;c++)b[a[c]]=c;return b}function e(a,b,c){var d=a.splice(b,1)[0];a.splice(c,0,d)}function f(a,b,c){for(var d=[],e=0,f=a.childNodes.length;f>e;e++)1==a.childNodes[e].nodeType&&d.push(a.childNodes[e]);var g=d[b];null!==c?a.insertBefore(g,d[c]):a.appendChild(g)}a.fn.dataTableExt.oApi.fnColReorder=function(b,c,g){var h,i,j,k,l=b.aoColumns.length;if(c!=g){if(0>c||c>=l)return this.oApi._fnLog(b,1,"ColReorder 'from' index is out of bounds: "+c),void 0;if(0>g||g>=l)return this.oApi._fnLog(b,1,"ColReorder 'to' index is out of bounds: "+g),void 0;var m=[];for(h=0,i=l;i>h;h++)m[h]=h;e(m,c,g);var n=d(m);for(h=0,i=b.aaSorting.length;i>h;h++)b.aaSorting[h][0]=n[b.aaSorting[h][0]];if(null!==b.aaSortingFixed)for(h=0,i=b.aaSortingFixed.length;i>h;h++)b.aaSortingFixed[h][0]=n[b.aaSortingFixed[h][0]];for(h=0,i=l;i>h;h++)b.aoColumns[h].iDataSort=n[b.aoColumns[h].iDataSort];for(h=0,i=l;i>h;h++)k=b.aoColumns[h],"number"==typeof k.mDataProp&&(k.mDataProp=n[k.mDataProp],k.fnGetData=b.oApi._fnGetObjectDataFn(k.mDataProp),k.fnSetData=b.oApi._fnSetObjectDataFn(k.mDataProp));if(b.aoColumns[c].bVisible){var o=this.oApi._fnColumnIndexToVisible(b,c),p=null;for(h=c>g?g:g+1;null===p&&l>h;)p=this.oApi._fnColumnIndexToVisible(b,h),h++;for(j=b.nTHead.getElementsByTagName("tr"),h=0,i=j.length;i>h;h++)f(j[h],o,p);if(null!==b.nTFoot)for(j=b.nTFoot.getElementsByTagName("tr"),h=0,i=j.length;i>h;h++)f(j[h],o,p);for(h=0,i=b.aoData.length;i>h;h++)f(b.aoData[h].nTr,o,p)}for(e(b.aoColumns,c,g),e(b.aoPreSearchCols,c,g),h=0,i=b.aoData.length;i>h;h++)a.isArray(b.aoData[h]._aData)&&e(b.aoData[h]._aData,c,g),e(b.aoData[h]._anHidden,c,g);for(h=0,i=b.aoHeader.length;i>h;h++)e(b.aoHeader[h],c,g);if(null!==b.aoFooter)for(h=0,i=b.aoFooter.length;i>h;h++)e(b.aoFooter[h],c,g);"undefined"!=typeof ColVis&&ColVis.fnRebuild(b.oInstance),"undefined"!=typeof b.oInstance._oPluginFixedHeader&&b.oInstance._oPluginFixedHeader.fnUpdate()}},ColReorder=function(a,b){return this.CLASS&&"ColReorder"==this.CLASS||alert("Warning: ColReorder must be initialised with the keyword 'new'"),"undefined"==typeof b&&(b={}),this.s={dt:null,init:b,fixed:0,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]},this.dom={drag:null,resize:null,pointer:null},this.s.dt=a.fnSettings(),this._fnConstruct(),ColReorder.aoInstances.push(this),this},ColReorder.prototype={fnReset:function(){for(var a=[],b=0,c=this.s.dt.aoColumns.length;c>b;b++)a.push(this.s.dt.aoColumns[b]._ColReorder_iOrigCol);this._fnOrderColumns(a)},_fnConstruct:function(){var a,b,c=this;for("undefined"!=typeof this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns),a=0,b=this.s.dt.aoColumns.length;b>a;a++)a>this.s.fixed-1&&this._fnMouseListener(a,this.s.dt.aoColumns[a].nTh),this.s.dt.aoColumns[a]._ColReorder_iOrigCol=a;this.s.dt.aoStateSave.push({fn:function(a,b){return c._fnStateSave.call(c,b)},sName:"ColReorder_State"});var e=null;if("undefined"!=typeof this.s.init.aiOrder&&(e=this.s.init.aiOrder.slice()),this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(e=this.s.dt.oLoadedState.ColReorder),e)if(c.s.dt._bInitComplete){var f=d(e);c._fnOrderColumns.call(c,f)}else{var g=!1;this.s.dt.aoDrawCallback.push({fn:function(){if(!c.s.dt._bInitComplete&&!g){g=!0;var a=d(e);c._fnOrderColumns.call(c,a)}},sName:"ColReorder_Pre"})}},_fnOrderColumns:function(b){if(b.length!=this.s.dt.aoColumns.length)return this.s.dt.oInstance.oApi._fnLog(oDTSettings,1,"ColReorder - array reorder does not match known number of columns. Skipping."),void 0;for(var c=0,d=b.length;d>c;c++){var f=a.inArray(c,b);c!=f&&(e(b,f,c),this.s.dt.oInstance.fnColReorder(f,c))}(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt)},_fnStateSave:function(a){var b,c,d=a.split('"aaSorting"')[0],e=[],f=this.s.dt;for(d+='"aaSorting":[ ',b=0;b<f.aaSorting.length;b++)d+="["+f.aoColumns[f.aaSorting[b][0]]._ColReorder_iOrigCol+',"'+f.aaSorting[b][1]+'"],';for(d=d.substring(0,d.length-1),d+="],",b=0,c=f.aoColumns.length;c>b;b++)e[f.aoColumns[b]._ColReorder_iOrigCol]={sSearch:encodeURIComponent(f.aoPreSearchCols[b].sSearch),bRegex:!f.aoPreSearchCols[b].bRegex};for(d+='"aaSearchCols":[ ',b=0;b<e.length;b++)d+='["'+e[b].sSearch+'",'+e[b].bRegex+"],";for(d=d.substring(0,d.length-1),d+="],",e=[],b=0,c=f.aoColumns.length;c>b;b++)e[f.aoColumns[b]._ColReorder_iOrigCol]=f.aoColumns[b].bVisible;for(d+='"abVisCols":[ ',b=0;b<e.length;b++)d+=e[b]+",";for(d=d.substring(0,d.length-1),d+="],",e=[],b=0,c=f.aoColumns.length;c>b;b++)e.push(f.aoColumns[b]._ColReorder_iOrigCol);return d+='"ColReorder":['+e.join(",")+"]"},_fnMouseListener:function(b,c){var d=this;a(c).bind("mousemove.ColReorder",function(b){if(null===d.dom.drag&&null===d.dom.resize){var e="TH"==b.target.nodeName?b.target:a(b.target).parents("TH")[0],f=a(e).offset(),g=a(e).innerWidth();b.pageX==Math.round(f.left+g)?a(e).css({cursor:"col-resize"}):a(e).css({cursor:"pointer"})}a(c).bind("mousedown.ColReorder",function(a){return d._fnMouseDown.call(d,a,c),!1})})},_fnMouseDown:function(b,d){var e=this,f=this.s.dt.aoColumns;if("col-resize"==a(d).css("cursor")){this.s.mouse.startX=b.pageX,this.s.mouse.startWidth=a(d).width(),this.s.mouse.resizeElem=a(d);var g=a(d).next();this.s.mouse.nextStartWidth=a(g).width(),e.dom.resize=!0}else{e.dom.resize=null;var h="TH"==b.target.nodeName?b.target:a(b.target).parents("TH")[0],i=a(h).offset();this.s.mouse.startX=b.pageX,this.s.mouse.startY=b.pageY,this.s.mouse.offsetX=b.pageX-i.left,this.s.mouse.offsetY=b.pageY-i.top,this.s.mouse.target=d,this.s.mouse.targetIndex=a("th",d.parentNode).index(d),this.s.mouse.fromIndex=this.s.dt.oInstance.oApi._fnVisibleToColumnIndex(this.s.dt,this.s.mouse.targetIndex),this.s.aoTargets.splice(0,this.s.aoTargets.length),this.s.aoTargets.push({x:a(this.s.dt.nTable).offset().left,to:0});for(var j=0,k=0,l=f.length;l>k;k++)k!=this.s.mouse.fromIndex&&j++,f[k].bVisible&&this.s.aoTargets.push({x:a(f[k].nTh).offset().left+a(f[k].nTh).outerWidth(),to:j});0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed)}a(c).bind("mousemove.ColReorder",function(a){e._fnMouseMove.call(e,a)}),a(c).bind("mouseup.ColReorder",function(a){e._fnMouseUp.call(e,a)})},_fnMouseMove:function(b){if(this.dom.resize){var c=this.s.mouse.resizeElem,d=a(c).next(),e=b.pageX-this.s.mouse.startX;return 0!=e&&a(d).width(this.s.mouse.nextStartWidth-e),a(c).width(this.s.mouse.startWidth+e),void 0}if(null===this.dom.drag){if(Math.pow(Math.pow(b.pageX-this.s.mouse.startX,2)+Math.pow(b.pageY-this.s.mouse.startY,2),.5)<5)return;this._fnCreateDragNode()}this.dom.drag.style.left=b.pageX-this.s.mouse.offsetX+"px",this.dom.drag.style.top=b.pageY-this.s.mouse.offsetY+"px";for(var f=!1,g=1,h=this.s.aoTargets.length;h>g;g++)if(b.pageX<this.s.aoTargets[g-1].x+(this.s.aoTargets[g].x-this.s.aoTargets[g-1].x)/2){this.dom.pointer.style.left=this.s.aoTargets[g-1].x+"px",this.s.mouse.toIndex=this.s.aoTargets[g-1].to,f=!0;break}f||(this.dom.pointer.style.left=this.s.aoTargets[this.s.aoTargets.length-1].x+"px",this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to)},_fnMouseUp:function(){a(c).unbind("mousemove.ColReorder"),a(c).unbind("mouseup.ColReorder"),this.dom.resize=null,null!==this.dom.drag&&(c.body.removeChild(this.dom.drag),c.body.removeChild(this.dom.pointer),this.dom.drag=null,this.dom.pointer=null,this.s.init.fnColReorderCallback&&this.s.init.fnColReorderCallback(this.s.mouse.fromIndex,this.s.mouse.toIndex))},_fnCreateDragNode:function(){var b=this;for(this.dom.drag=a(this.s.dt.nTHead.parentNode).clone(!0)[0],this.dom.drag.className+=" DTCR_clonedTable";this.dom.drag.getElementsByTagName("tbody").length>0;)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("tbody")[0]);for(;this.dom.drag.getElementsByTagName("tfoot").length>0;)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("tfoot")[0]);a("thead tr:eq(0)",this.dom.drag).each(function(){a("th:not(:eq("+b.s.mouse.targetIndex+"))",this).remove()}),a("tr",this.dom.drag).height(a("tr:eq(0)",b.s.dt.nTHead).height()),a("thead tr:gt(0)",this.dom.drag).remove(),a("thead th:eq(0)",this.dom.drag).each(function(){this.style.width=a("th:eq("+b.s.mouse.targetIndex+")",b.s.dt.nTHead).width()+"px"}),this.dom.drag.style.position="absolute",this.dom.drag.style.zIndex=1200,this.dom.drag.style.top="0px",this.dom.drag.style.left="0px",this.dom.drag.style.width=a("th:eq("+b.s.mouse.targetIndex+")",b.s.dt.nTHead).outerWidth()+"px",this.dom.pointer=c.createElement("div"),this.dom.pointer.className="DTCR_pointer",this.dom.pointer.style.position="absolute",""===this.s.dt.oScroll.sX&&""===this.s.dt.oScroll.sY?(this.dom.pointer.style.top=a(this.s.dt.nTable).offset().top+"px",this.dom.pointer.style.height=a(this.s.dt.nTable).height()+"px"):(this.dom.pointer.style.top=a("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top+"px",this.dom.pointer.style.height=a("div.dataTables_scroll",this.s.dt.nTableWrapper).height()+"px"),c.body.appendChild(this.dom.pointer),c.body.appendChild(this.dom.drag)}},ColReorder.aoInstances=[],ColReorder.fnReset=function(a){for(var b=0,c=ColReorder.aoInstances.length;c>b;b++)ColReorder.aoInstances[b].s.dt.oInstance==a&&ColReorder.aoInstances[b].fnReset()},ColReorder.prototype.CLASS="ColReorder",ColReorder.VERSION="1.0.3",ColReorder.prototype.VERSION=ColReorder.VERSION,"function"==typeof a.fn.dataTable&&"function"==typeof a.fn.dataTableExt.fnVersionCheck&&a.fn.dataTableExt.fnVersionCheck("1.8.0")?a.fn.dataTableExt.aoFeatures.push({fnInit:function(a){var b=a.oInstance;if("undefined"==typeof b._oPluginColReorder){var c="undefined"!=typeof a.oInit.oColReorder?a.oInit.oColReorder:{};b._oPluginColReorder=new ColReorder(a.oInstance,c)}else b.oApi._fnLog(a,1,"ColReorder attempted to initialise twice. Ignoring second");return null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.8.0 or greater - www.datatables.net/download")}(jQuery,window,document);var hasTouch="ontouchstart"in document.documentElement,startEvent=hasTouch?"touchstart":"mousedown",moveEvent=hasTouch?"touchmove":"mousemove",endEvent=hasTouch?"touchend":"mouseup";hasTouch&&$.each("touchstart touchmove touchend".split(" "),function(a,b){jQuery.event.fixHooks[b]=jQuery.event.mouseHooks}),jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldY:0,build:function(a){return this.each(function(){this.tableDnDConfig=jQuery.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,scrollAmount:5,serializeRegexp:/[^\-]*$/,serializeParamName:null,dragHandle:null},a||{}),jQuery.tableDnD.makeDraggable(this)}),this},makeDraggable:function(a){var b=a.tableDnDConfig;if(b.dragHandle){var c=jQuery(a.tableDnDConfig.dragHandle,a);c.each(function(){jQuery(this).bind(startEvent,function(c){return jQuery.tableDnD.initialiseDrag(jQuery(this).parents("tr")[0],a,this,c,b),!1})})}else{var d=jQuery("tr",a);d.each(function(){var c=jQuery(this);c.hasClass("nodrag")||c.bind(startEvent,function(c){return"TD"==c.target.tagName?(jQuery.tableDnD.initialiseDrag(this,a,this,c,b),!1):void 0}).css("cursor","move")})}},initialiseDrag:function(a,b,c,d,e){jQuery.tableDnD.dragObject=a,jQuery.tableDnD.currentTable=b,jQuery.tableDnD.mouseOffset=jQuery.tableDnD.getMouseOffset(c,d),jQuery.tableDnD.originalOrder=jQuery.tableDnD.serialize(),jQuery(document).bind(moveEvent,jQuery.tableDnD.mousemove).bind(endEvent,jQuery.tableDnD.mouseup),e.onDragStart&&e.onDragStart(b,c)},updateTables:function(){this.each(function(){this.tableDnDConfig&&jQuery.tableDnD.makeDraggable(this)})},mouseCoords:function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}},getMouseOffset:function(a,b){b=b||window.event;var c=this.getPosition(a),d=this.mouseCoords(b);return{x:d.x-c.x,y:d.y-c.y}},getPosition:function(a){var b=0,c=0;for(0==a.offsetHeight&&(a=a.firstChild);a.offsetParent;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return b+=a.offsetLeft,c+=a.offsetTop,{x:b,y:c}},mousemove:function(a){if(null!=jQuery.tableDnD.dragObject){"touchmove"==a.type&&event.preventDefault();var b=jQuery(jQuery.tableDnD.dragObject),c=jQuery.tableDnD.currentTable.tableDnDConfig,d=jQuery.tableDnD.mouseCoords(a),e=d.y-jQuery.tableDnD.mouseOffset.y,f=window.pageYOffset;if(document.all&&("undefined"!=typeof document.compatMode&&"BackCompat"!=document.compatMode?f=document.documentElement.scrollTop:"undefined"!=typeof document.body&&(f=document.body.scrollTop)),d.y-f<c.scrollAmount)window.scrollBy(0,-c.scrollAmount);
else{var g=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;g-(d.y-f)<c.scrollAmount&&window.scrollBy(0,c.scrollAmount)}if(e!=jQuery.tableDnD.oldY){var h=e>jQuery.tableDnD.oldY;jQuery.tableDnD.oldY=e,c.onDragClass?b.addClass(c.onDragClass):b.css(c.onDragStyle);var i=jQuery.tableDnD.findDropTargetRow(b,e);i&&(h&&jQuery.tableDnD.dragObject!=i?jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,i.nextSibling):h||jQuery.tableDnD.dragObject==i||jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,i))}return!1}},findDropTargetRow:function(a,b){for(var c=jQuery.tableDnD.currentTable.rows,d=0;d<c.length;d++){var e=c[d],f=this.getPosition(e).y,g=parseInt(e.offsetHeight)/2;if(0==e.offsetHeight&&(f=this.getPosition(e.firstChild).y,g=parseInt(e.firstChild.offsetHeight)/2),b>f-g&&f+g>b){if(e==a)return null;var h=jQuery.tableDnD.currentTable.tableDnDConfig;if(h.onAllowDrop)return h.onAllowDrop(a,e)?e:null;var i=jQuery(e).hasClass("nodrop");return i?null:e}}return null},mouseup:function(){if(jQuery.tableDnD.currentTable&&jQuery.tableDnD.dragObject){jQuery(document).unbind(moveEvent,jQuery.tableDnD.mousemove).unbind(endEvent,jQuery.tableDnD.mouseup);var a=jQuery.tableDnD.dragObject,b=jQuery.tableDnD.currentTable.tableDnDConfig;b.onDragClass?jQuery(a).removeClass(b.onDragClass):jQuery(a).css(b.onDropStyle),jQuery.tableDnD.dragObject=null;var c=jQuery.tableDnD.serialize();b.onDrop&&jQuery.tableDnD.originalOrder!=c&&b.onDrop(jQuery.tableDnD.currentTable,a),jQuery.tableDnD.currentTable=null}},serialize:function(){return jQuery.tableDnD.currentTable?jQuery.tableDnD.serializeTable(jQuery.tableDnD.currentTable):"Error: No Table id set, you need to set an id on your table and every row"},serializeTable:function(a){for(var b="",c=a.id,d=a.rows,e=0;e<d.length;e++){b.length>0&&(b+="&");var f=d[e].id;f&&f&&a.tableDnDConfig&&a.tableDnDConfig.serializeRegexp&&(f=f.match(a.tableDnDConfig.serializeRegexp)[0]),b+=c+"[]="+f}return b},serializeTables:function(){var a="";return this.each(function(){a+=jQuery.tableDnD.serializeTable(this)}),a}},jQuery.fn.extend({tableDnD:jQuery.tableDnD.build,tableDnDUpdate:jQuery.tableDnD.updateTables,tableDnDSerialize:jQuery.tableDnD.serializeTables}),function(a){a.fn.hoverIntent=function(b,c){var d={sensitivity:7,interval:100,timeout:0};d=a.extend(d,c?{over:b,out:c}:b);var e,f,g,h,i=function(a){e=a.pageX,f=a.pageY},j=function(b,c){return c.hoverIntent_t=clearTimeout(c.hoverIntent_t),Math.abs(g-e)+Math.abs(h-f)<d.sensitivity?(a(c).unbind("mousemove",i),c.hoverIntent_s=1,d.over.apply(c,[b])):(g=e,h=f,c.hoverIntent_t=setTimeout(function(){j(b,c)},d.interval),void 0)},k=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=0,d.out.apply(b,[a])},l=function(b){var c=jQuery.extend({},b),e=this;e.hoverIntent_t&&(e.hoverIntent_t=clearTimeout(e.hoverIntent_t)),"mouseenter"==b.type?(g=c.pageX,h=c.pageY,a(e).bind("mousemove",i),1!=e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){j(c,e)},d.interval))):(a(e).unbind("mousemove",i),1==e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){k(c,e)},d.timeout)))};return this.bind("mouseenter",l).bind("mouseleave",l)}}(jQuery),function(a,b,c){function d(a){return a}function e(a){return decodeURIComponent(a.replace(f," "))}var f=/\+/g,g=a.cookie=function(f,h,i){if(h!==c){if(i=a.extend({},g.defaults,i),null===h&&(i.expires=-1),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return h=g.json?JSON.stringify(h):String(h),b.cookie=[encodeURIComponent(f),"=",g.raw?h:encodeURIComponent(h),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=g.raw?d:e,m=b.cookie.split("; "),n=0,o=m.length;o>n;n++){var p=m[n].split("=");if(l(p.shift())===f){var q=l(p.join("="));return g.json?JSON.parse(q):q}}return null};g.defaults={},a.removeCookie=function(b,c){return null!==a.cookie(b)?(a.cookie(b,null,c),!0):!1}}(jQuery,document),function(a){function b(){var a=!1,b=!1;this.stopPropagation=function(){a=!0},this.isPropagationStopped=function(){return a},this.stopImmediatePropagation=function(){b=!0},this.isImmediatePropagationStopped=function(){return b}}function c(){var a=[];this.subscribe=function(b){a.push(b)},this.unsubscribe=function(b){for(var c=a.length-1;c>=0;c--)a[c]===b&&a.splice(c,1)},this.notify=function(c,d,e){d=d||new b,e=e||this;for(var f,g=0;g<a.length&&!d.isPropagationStopped()&&!d.isImmediatePropagationStopped();g++)f=a[g].call(e,d,c);return f}}function d(){var a=[];this.subscribe=function(b,c){a.push({event:b,handler:c}),b.subscribe(c)},this.unsubscribe=function(b,c){for(var d=a.length;d--;)if(a[d].event===b&&a[d].handler===c)return a.splice(d,1),b.unsubscribe(c),void 0},this.unsubscribeAll=function(){for(var b=a.length;b--;)a[b].event.unsubscribe(a[b].handler);a=[]}}function e(a,c,d){return d=d||new b,c=c||{},c.caller=self,a.notify(c,d,self)}a.extend(!0,window,{Gemini:{Event:c,EventData:b,EventHandler:d,Trigger:e}})}(jQuery),function(a){var b=(a.browser.msie?"paste":"input")+".mask",c=void 0!=window.orientation;a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn"},a.fn.extend({caret:function(a,b){if(0!=this.length){if("number"==typeof a)return b="number"==typeof b?b:a,this.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}});if(this[0].setSelectionRange)a=this[0].selectionStart,b=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length}return{begin:a,end:b}}},unmask:function(){return this.trigger("unmask")},mask:function(d,e){if(!d&&this.length>0){var f=a(this[0]);return f.data(a.mask.dataName)()}e=a.extend({placeholder:"_",completed:null},e);var g=a.mask.definitions,h=[],i=d.length,j=null,k=d.length;return a.each(d.split(""),function(a,b){"?"==b?(k--,i=a):g[b]?(h.push(new RegExp(g[b])),null==j&&(j=h.length-1)):h.push(null)}),this.trigger("unmask").each(function(){function f(a){for(;++a<=k&&!h[a];);return a}function l(a){for(;--a>=0&&!h[a];);return a}function m(a,b){if(!(0>a)){for(var c=a,d=f(b);k>c;c++)if(h[c]){if(!(k>d&&h[c].test(u[d])))break;u[c]=u[d],u[d]=e.placeholder,d=f(d)}r(),t.caret(Math.max(j,a))}}function n(a){for(var b=a,c=e.placeholder;k>b;b++)if(h[b]){var d=f(b),g=u[b];if(u[b]=c,!(k>d&&h[d].test(g)))break;c=g}}function o(a){var b=a.which;if(8==b||46==b||c&&127==b){var d=t.caret(),e=d.begin,g=d.end;return 0==g-e&&(e=46!=b?l(e):g=f(e-1),g=46==b?f(g):g),q(e,g),m(e,g-1),!1}return 27==b?(t.val(v),t.caret(0,s()),!1):void 0}function p(a){var b=a.which,c=t.caret();if(a.ctrlKey||a.altKey||a.metaKey||32>b)return!0;if(b){0!=c.end-c.begin&&(q(c.begin,c.end),m(c.begin,c.end-1));var d=f(c.begin-1);if(k>d){var g=String.fromCharCode(b);if(h[d].test(g)){n(d),u[d]=g,r();var i=f(d);t.caret(i),e.completed&&i>=k&&e.completed.call(t)}}return!1}}function q(a,b){for(var c=a;b>c&&k>c;c++)h[c]&&(u[c]=e.placeholder)}function r(){return t.val(u.join("")).val()}function s(a){for(var b=t.val(),c=-1,d=0,f=0;k>d;d++)if(h[d]){for(u[d]=e.placeholder;f++<b.length;){var g=b.charAt(f-1);if(h[d].test(g)){u[d]=g,c=d;break}}if(f>b.length)break}else u[d]==b.charAt(f)&&d!=i&&(f++,c=d);return!a&&i>c+1?(t.val(""),q(0,k)):(a||c+1>=i)&&(r(),a||t.val(t.val().substring(0,c+1))),i?d:j}var t=a(this),u=a.map(d.split(""),function(a){return"?"!=a?g[a]?e.placeholder:a:void 0}),v=t.val();t.data(a.mask.dataName,function(){return a.map(u,function(a,b){return h[b]&&a!=e.placeholder?a:null}).join("")}),t.attr("readonly")||t.one("unmask",function(){t.unbind(".mask").removeData(a.mask.dataName)}).bind("focus.mask",function(){v=t.val();var b=s();r();var c=function(){b==d.length?t.caret(0,b):t.caret(b)};(a.browser.msie?c:function(){setTimeout(c,0)})()}).bind("blur.mask",function(){s(),t.val()!=v&&t.change()}).bind("keydown.mask",o).bind("keypress.mask",p).bind(b,function(){setTimeout(function(){t.caret(s(!0))},0)}),s()})}})}(jQuery),function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};c.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1,limit:!0},c.window=function(){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||-1!=a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},c.defaults,f),e=e||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=b(f.offset),f.over=b(f.over),this._scrollable().each(function(){function g(a){j.animate(l,e,f.easing,a&&function(){a.call(this,k,f)})}if(null!=d){var h,i=this,j=a(i),k=d,l={},m=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(k)){k=b(k);break}if(k=a(k,this),!k.length)return;case"object":(k.is||k.style)&&(h=(k=a(k)).offset())}a.each(f.axis.split(""),function(a,b){var d="x"==b?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=i[n],p=c.max(i,b);if(h)l[n]=h[e]+(m?0:o-j.offset()[e]),f.margin&&(l[n]-=parseInt(k.css("margin"+d))||0,l[n]-=parseInt(k.css("border"+d+"Width"))||0),l[n]+=f.offset[e]||0,f.over[e]&&(l[n]+=k["x"==b?"width":"height"]()*f.over[e]);else{var q=k[e];l[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}f.limit&&/^\d+$/.test(l[n])&&(l[n]=l[n]<=0?0:Math.min(l[n],p)),!a&&f.queue&&(o!=l[n]&&g(f.onAfterFirst),delete l[n])}),g(f.onAfter)}}).end()},c.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=100===c.offsetHeight,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),function(){var b=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];a.ui.ie=b.length?!0:!1,a.ui.ie6=6===parseFloat(b[1],10)}(),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},contains:a.contains,hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&b+c>a},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i=b.split(".")[0];b=b.split(".")[1],e=i+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[i]=a[i]||{},f=a[i][b],g=a[i][b]=function(a,b){return this._createWidget?(arguments.length&&this._createWidget(a,b),void 0):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,e){a.isFunction(e)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=d,b=e.apply(this,arguments),this._super=c,this._superApply=f,b}}())}),g.prototype=a.widget.extend(h,{widgetEventPrefix:h.widgetEventPrefix||b},d,{constructor:g,namespace:i,widgetName:b,widgetBaseClass:e,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; "+"attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():new e(g,this)}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetName,this),a.data(d,this.widgetFullName,this),this._on(this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c){var d,e=this;c?(b=d=a(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element,d=this.widget()),a.each(c,function(c,f){function g(){return e.options.disabled===!0||a(this).hasClass("ui-state-disabled")?void 0:("string"==typeof f?e[f]:f).apply(e,arguments)}"string"!=typeof f&&(g.guid=f.guid=f.guid||g.guid||a.guid++);var h=c.match(/^(\w+)\s*(.*)$/),i=h[1]+e.eventNamespace,j=h[2];j?d.delegate(j,i,g):b.bind(i,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&(a.effects.effect[h]||a.uiBackCompat!==!1&&a.effects[h])?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.uiBackCompat!==!1&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return!a.ui.ie||document.documentMode>=9||b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseInt(a[0],10)*(m.test(a[0])?b/100:1),parseInt(a[1],10)*(m.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}a.ui=a.ui||{};var e,f=Math.max,g=Math.abs,h=Math.round,i=/left|center|right/,j=/top|center|bottom/,k=/[\+\-]\d+%?/,l=/^\w+/,m=/%$/,n=a.fn.position;a.position={scrollbarWidth:function(){if(e!==b)return e;var c,d,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),c=g.offsetWidth,f.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=f[0].clientWidth),f.remove(),e=c-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:e?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return n.apply(this,arguments);b=a.extend({},b);var e,m,o,p,q,r=a(b.of),s=a.position.getWithinInfo(b.within),t=a.position.getScrollInfo(s),u=r[0],v=(b.collision||"flip").split(" "),w={};return 9===u.nodeType?(m=r.width(),o=r.height(),p={top:0,left:0}):a.isWindow(u)?(m=r.width(),o=r.height(),p={top:r.scrollTop(),left:r.scrollLeft()}):u.preventDefault?(b.at="left top",m=o=0,p={top:u.pageY,left:u.pageX}):(m=r.outerWidth(),o=r.outerHeight(),p=r.offset()),q=a.extend({},p),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=i.test(d[0])?d.concat(["center"]):j.test(d[0])?["center"].concat(d):["center","center"]),d[0]=i.test(d[0])?d[0]:"center",d[1]=j.test(d[1])?d[1]:"center",a=k.exec(d[0]),c=k.exec(d[1]),w[this]=[a?a[0]:0,c?c[0]:0],b[this]=[l.exec(d[0])[0],l.exec(d[1])[0]]}),1===v.length&&(v[1]=v[0]),"right"===b.at[0]?q.left+=m:"center"===b.at[0]&&(q.left+=m/2),"bottom"===b.at[1]?q.top+=o:"center"===b.at[1]&&(q.top+=o/2),e=c(w.at,m,o),q.left+=e[0],q.top+=e[1],this.each(function(){var i,j,k=a(this),l=k.outerWidth(),n=k.outerHeight(),u=d(this,"marginLeft"),x=d(this,"marginTop"),y=l+u+d(this,"marginRight")+t.width,z=n+x+d(this,"marginBottom")+t.height,A=a.extend({},q),B=c(w.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=n:"center"===b.my[1]&&(A.top-=n/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=h(A.left),A.top=h(A.top)),i={marginLeft:u,marginTop:x},a.each(["left","top"],function(c,d){a.ui.position[v[c]]&&a.ui.position[v[c]][d](A,{targetWidth:m,targetHeight:o,elemWidth:l,elemHeight:n,collisionPosition:i,collisionWidth:y,collisionHeight:z,offset:[e[0]+B[0],e[1]+B[1]],my:b.my,at:b.at,within:s,elem:k})}),a.fn.bgiframe&&k.bgiframe(),b.using&&(j=function(a){var c=p.left-A.left,d=c+m-l,e=p.top-A.top,h=e+o-n,i={target:{element:r,left:p.left,top:p.top,width:m,height:o},element:{element:k,left:A.left,top:A.top,width:l,height:n},horizontal:0>d?"left":c>0?"right":"center",vertical:0>h?"top":e>0?"bottom":"middle"};l>m&&g(c+d)<m&&(i.horizontal="center"),n>o&&g(e+h)<o&&(i.vertical="middle"),i.important=f(g(c),g(d))>f(g(e),g(h))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,g=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-g-e;b.collisionWidth>g?i>0&&0>=j?(c=a.left+i+b.collisionWidth-g-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+g-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=f(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-g-e;b.collisionHeight>g?i>0&&0>=j?(c=a.top+i+b.collisionHeight-g-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+g-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=f(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,h=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-h-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-h-f,(0>c||c<g(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||g(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,h=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-h-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-h-f,a.top+n+o+p>k&&(0>d||d<g(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||g(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}(),a.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(d){if(!d||!d.offset)return c.call(this,d);var e=d.offset.split(" "),f=d.at.split(" ");return 1===e.length&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),1===f.length&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),c.call(this,a.extend(d,{at:f[0]+e[0]+" "+f[1]+e[1],offset:b}))}}(jQuery)}(jQuery),function(a){var b=0,c={},d={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="show",a.widget("ui.accordion",{version:"1.9.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var c=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b),d=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(d.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),d.collapsible||d.active!==!1&&null!=d.active||(d.active=0),d.active<0&&(d.active+=this.headers.length),this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(b){var d=a(this),e=d.attr("id"),f=d.next(),g=f.attr("id");e||(e=c+"-header-"+b,d.attr("id",e)),g||(g=c+"-panel-"+b,f.attr("id",g)),d.attr("aria-controls",g),f.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(d.event)
},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?(this._activate(b),void 0):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b),void 0)},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b,c,d=this.options.heightStyle,e=this.element.parent();"fill"===d?(a.support.minHeight||(c=e.css("overflow"),e.css("overflow","hidden")),b=e.height(),this.element.siblings(":visible").each(function(){var c=a(this),d=c.css("position");"absolute"!==d&&"fixed"!==d&&(b-=c.outerHeight(!0))}),c&&e.css("overflow",c),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).height("").height())}).height(b))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={};b&&(a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._on(this.headers,c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e[0]===d[0],g=f&&c.collapsible,h=g?a():e.next(),i=d.next(),j={oldHeader:d,oldPanel:i,newHeader:g?a():e,newPanel:h};b.preventDefault(),f&&!c.collapsible||this._trigger("beforeActivate",b,j)===!1||(c.active=g?!1:this.headers.index(e),this.active=f?a():e,this._toggle(j),d.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),f||(e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),c.icons&&e.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),e.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-expanded":"false","aria-hidden":"true"}),d.prev().attr("aria-selected","false"),c.length&&d.length?d.prev().attr("tabIndex",-1):c.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),c.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,b,e){var f,g,h,i=this,j=0,k=a.length&&(!b.length||a.index()<b.index()),l=this.options.animate||{},m=k&&l.down||l,n=function(){i._toggleComplete(e)};return"number"==typeof m&&(h=m),"string"==typeof m&&(g=m),g=g||m.easing||l.easing,h=h||m.duration||l.duration,b.length?a.length?(f=a.show().outerHeight(),b.animate(c,{duration:h,easing:g,step:function(a,b){b.now=Math.round(a)}}),a.hide().animate(d,{duration:h,easing:g,complete:n,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?j+=c.now:"content"!==i.options.heightStyle&&(c.now=Math.round(f-b.outerHeight()-j),j=0)}}),void 0):b.animate(c,h,g,n):a.animate(d,h,g,n)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),a.uiBackCompat!==!1&&(function(a,b){a.extend(b.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var c=b._create;b._create=function(){if(this.options.navigation){var b=this,d=this.element.find(this.options.header),e=d.next(),f=d.add(e).find("a").filter(this.options.navigationFilter)[0];f&&d.add(e).each(function(c){return a.contains(this,f)?(b.options.active=Math.floor(c/2),!1):void 0})}c.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(a,b){a.extend(b.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var c=b._create,d=b._setOption;a.extend(b,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),c.call(this)},_setOption:function(a){("autoHeight"===a||"clearStyle"===a||"fillSpace"===a)&&(this.options.heightStyle=this._mergeHeightStyle()),d.apply(this,arguments)},_mergeHeightStyle:function(){var a=this.options;return a.fillSpace?"fill":a.clearStyle?"content":a.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(a,b){a.extend(b.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var c=b._createIcons;b._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),c.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(a,b){b.activate=b._activate;var c=b._findActive;b._findActive=function(a){return-1===a&&(a=!1),a&&"number"!=typeof a&&(a=this.headers.index(this.headers.filter(a)),-1===a&&(a=!1)),c.call(this,a)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(a,b){a.extend(b.options,{change:null,changestart:null});var c=b._trigger;b._trigger=function(a,b,d){var e=c.apply(this,arguments);return e?("beforeActivate"===a?e=c.call(this,"changestart",b,{oldHeader:d.oldHeader,oldContent:d.oldPanel,newHeader:d.newHeader,newContent:d.newPanel}):"activate"===a&&(e=c.call(this,"change",b,{oldHeader:d.oldHeader,oldContent:d.oldPanel,newHeader:d.newHeader,newContent:d.newPanel})),e):!1}}(jQuery,jQuery.ui.accordion.prototype),function(a,b){a.extend(b.options,{animate:null,animated:"slide"});var c=b._create;b._create=function(){var a=this.options;null===a.animate&&(a.animate=a.animated?"slide"===a.animated?300:"bounceslide"===a.animated?{duration:200,down:{easing:"easeOutBounce",duration:1e3}}:a.animated:!1),c.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(a){var b=0;a.widget("ui.autocomplete",{version:"1.9.1",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,c,d;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,c=!0,void 0;b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,d.preventDefault(),void 0;if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:a(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)}),void 0;var d=c.item.data("ui-autocomplete-item")||c.item.data("item.autocomplete");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item")||b.item.data("item.autocomplete"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),a.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this.document.find(b||"body")[0]),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=this,c=++b;return function(d){c===b&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[a](b),void 0):(this.search(null,b),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"",results:function(){return""}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}(jQuery),function(a){var b,c,d,e,f="ui-button ui-widget ui-state-default ui-corner-all",g="ui-state-hover ui-state-active ",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",i=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},j=function(b){var c=b.name,d=b.form,e=a([]);return c&&(e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.9.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,i),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var g=this,h=this.options,k="checkbox"===this.type||"radio"===this.type,l="ui-state-hover"+(k?"":" ui-state-active"),m="ui-state-focus";null===h.label&&(h.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){h.disabled||(a(this).addClass("ui-state-hover"),this===b&&a(this).addClass("ui-state-active"))}).bind("mouseleave"+this.eventNamespace,function(){h.disabled||a(this).removeClass(l)}).bind("click"+this.eventNamespace,function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){g.buttonElement.addClass(m)}).bind("blur"+this.eventNamespace,function(){g.buttonElement.removeClass(m)}),k&&(this.element.bind("change"+this.eventNamespace,function(){e||g.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){h.disabled||(e=!1,c=a.pageX,d=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){h.disabled||(c!==a.pageX||d!==a.pageY)&&(e=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return h.disabled||e?!1:(a(this).toggleClass("ui-state-active"),g.buttonElement.attr("aria-pressed",g.element[0].checked),void 0)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled||e)return!1;a(this).addClass("ui-state-active"),g.buttonElement.attr("aria-pressed","true");var b=g.element[0];j(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return h.disabled?!1:(a(this).addClass("ui-state-active"),b=this,g.document.one("mouseup",function(){b=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return h.disabled?!1:(a(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(b){return h.disabled?!1:((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" "+g+" "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(b?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var b=this.element.is(":disabled")||this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?j(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var b=this.buttonElement.removeClass(h),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{version:"1.9.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(b,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(b,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(a,b){$.extend(a,b);for(var c in b)(null==b[c]||b[c]==undefined)&&(a[c]=b[c]);return a}$.extend($.ui,{datepicker:{version:"1.9.1"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");if(("focus"==e||"both"==e)&&a.focus(this._showDatepicker),"button"==e||"both"==e){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==g?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}if(extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),"input"==d?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==d||"span"==d)&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;
for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(2==arguments.length&&"string"==typeof b)return"defaults"==b?$.extend({},$.datepicker._defaults):d?"all"==b?$.extend({},d.settings):this._get(d,b):null;var e=b||{};if("string"==typeof b&&(e={},e[b]=c),d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),null!==g&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),null!==h&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");if(b._keyEvent=!0,$.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else 36==a.keyCode&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">d||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!=a.nodeName.toLowerCase()&&(a=$("input",a.parentNode)[0]),!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d!==!1){extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|="fixed"==$(this).css("position"),!e});var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[g]||$.effects[g])?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),g&&h||i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}}}},_updateDatepicker:function(a){this.maxRows=4;var b=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var c=a.dpDiv.find("iframe.ui-datepicker-cover");c.length&&c.css({left:-b[0],top:-b[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d=this._getNumberOfMonths(a),e=d[1],f=17;if(a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",f*e+"em"),a.dpDiv[(1!=d[0]||1!=d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus(),a.yearshtml){var g=a.yearshtml;setTimeout(function(){g===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),g=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+(c?0:$(document).scrollLeft()),i=document.documentElement.clientHeight+(c?0:$(document).scrollTop());return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){for(var b=this._getInst(a),c=this._get(b,"isRTL");a&&("hidden"==a.type||1!=a.nodeType||$.expr.filters.hidden(a));)a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(b&&(!a||b==$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b)};$.effects&&($.effects.effect[c]||$.effects[c])?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv["slideDown"==c?"slideUp":"fadeIn"==c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if($.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&0==b.parents("#"+$.datepicker._mainDivId).length&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+("M"==c?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+("M"==c?"Month":"Year")]=e["draw"+("M"==c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){var b=$(a);this._getInst(b[0]),this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=null!=b?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!=typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";if(b="object"==typeof b?b.toString():b+"",""==b)return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10);for(var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d="@"==a?14:"!"==a?20:"y"==a&&c?4:"o"==a?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;if($.each(e,function(a,c){var d=c[1];return b.substr(r,d.length).toLowerCase()==d.toLowerCase()?(f=c[0],r+=d.length,!1):void 0}),-1!=f)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0,s=0;s<a.length;s++)if(m)"'"!=a.charAt(s)||n("'")?q():m=!1;else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length){var u=b.substr(r);if(!/^\s+/.test(u))throw"Extra/unparsed characters found in date: "+u}if(-1==i?i=(new Date).getFullYear():100>i&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=i?0:-100)),l>-1)for(j=1,k=l;;){var v=this._getDaysInMonth(i,j-1);if(v>=k)break;j++,k-=v}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))for(;d.length<c;)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)"'"!=a.charAt(m)||h("'")?k+=a.charAt(m):l=!1;else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=1e4*b.getTime()+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){for(var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c},e=0;e<a.length;e++)if(c)"'"!=a.charAt(e)||d("'")?b+=a.charAt(e):c=!1;else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c,d,e=this._get(a,"dateFormat"),f=a.lastVal=a.input?a.input.val():null;c=d=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{c=this.parseDate(e,f,g)||d}catch(h){this.log(h),f=b?"":f}a.selectedDay=c.getDate(),a.drawMonth=a.selectedMonth=c.getMonth(),a.drawYear=a.selectedYear=c.getFullYear(),a.currentDay=f?c.getDate():0,a.currentMonth=f?c.getMonth():0,a.currentYear=f?c.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}for(var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);i;){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=7*parseInt(i[1],10);break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=null==b||""===b?c:"string"==typeof b?e(b):"number"==typeof b?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&"Invalid Date"==f.toString()?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e==a.selectedMonth&&f==a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,-b,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,+b,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(c)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=1!=g[0]||1!=g[1],k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;if(0>n&&(n+=12,o--),m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));for(p=l&&l>p?l:p;this._daylightSavingAdjust(new Date(o,n,1))>p;)n--,0>n&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames");this._get(a,"dayNamesShort");var B=this._get(a,"dayNamesMin"),C=this._get(a,"monthNames"),D=this._get(a,"monthNamesShort"),E=this._get(a,"beforeShowDay"),F=this._get(a,"showOtherMonths"),G=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek")||this.iso8601Week;for(var H=this._getDefaultDate(a),I="",J=0;J<g[0];J++){var K="";this.maxRows=4;for(var L=0;L<g[1];L++){var M=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),N=" ui-corner-all",O="";if(j){if(O+='<div class="ui-datepicker-group',g[1]>1)switch(L){case 0:O+=" ui-datepicker-group-first",N=" ui-corner-"+(c?"right":"left");break;case g[1]-1:O+=" ui-datepicker-group-last",N=" ui-corner-"+(c?"left":"right");break;default:O+=" ui-datepicker-group-middle",N=""}O+='">'}O+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+N+'">'+(/all|left/.test(N)&&0==J?c?t:r:"")+(/all|right/.test(N)&&0==J?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,J>0||L>0,C,D)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var P=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"",Q=0;7>Q;Q++){var R=(Q+y)%7;P+="<th"+((Q+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[R]+'">'+B[R]+"</span></th>"}O+=P+"</tr></thead><tbody>";var S=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,S));var T=(this._getFirstDayOfMonth(o,n)-y+7)%7,U=Math.ceil((T+S)/7),V=j?this.maxRows>U?this.maxRows:U:U;this.maxRows=V;for(var W=this._daylightSavingAdjust(new Date(o,n,1-T)),X=0;V>X;X++){O+="<tr>";for(var Y=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(W)+"</td>":"",Q=0;7>Q;Q++){var Z=E?E.apply(a.input?a.input[0]:null,[W]):[!0,""],_=W.getMonth()!=n,ab=_&&!G||!Z[0]||l&&l>W||m&&W>m;Y+='<td class="'+((Q+y+6)%7>=5?" ui-datepicker-week-end":"")+(_?" ui-datepicker-other-month":"")+(W.getTime()==M.getTime()&&n==a.selectedMonth&&a._keyEvent||H.getTime()==W.getTime()&&H.getTime()==M.getTime()?" "+this._dayOverClass:"")+(ab?" "+this._unselectableClass+" ui-state-disabled":"")+(_&&!F?"":" "+Z[1]+(W.getTime()==k.getTime()?" "+this._currentClass:"")+(W.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+(_&&!F||!Z[2]?"":' title="'+Z[2]+'"')+(ab?"":' data-handler="selectDay" data-event="click" data-month="'+W.getMonth()+'" data-year="'+W.getFullYear()+'"')+">"+(_&&!F?"&#xa0;":ab?'<span class="ui-state-default">'+W.getDate()+"</span>":'<a class="ui-state-default'+(W.getTime()==b.getTime()?" ui-state-highlight":"")+(W.getTime()==k.getTime()?" ui-state-active":"")+(_?" ui-priority-secondary":"")+'" href="#">'+W.getDate()+"</a>")+"</td>",W.setDate(W.getDate()+1),W=this._daylightSavingAdjust(W)}O+=Y+"</tr>"}n++,n>11&&(n=0,o++),O+="</tbody></table>"+(j?"</div>"+(g[0]>0&&L==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),K+=O}I+=K}return I+=x+($.ui.ie6&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,I},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var p=0;12>p;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}if(k||(l+=m+(!f&&i&&j?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));for(t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';u>=t;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}return l+=this._get(a,"yearSuffix"),k&&(l+=(!f&&i&&j?"":"&#xa0;")+m),l+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"==c?b:0),e=a.drawMonth+("M"==c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"==c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"==c||"Y"==c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return e=d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!=a&&"getDate"!=a&&"widget"!=a?"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){"string"==typeof a?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.1",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.9.1",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var b,d,e,f,g,h=this,i=this.options,j=i.title||"&#160;";b=(this.uiDialog=a("<div>")).addClass(c+i.dialogClass).css({display:"none",outline:0,zIndex:i.zIndex}).attr("tabIndex",-1).keydown(function(b){i.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE&&(h.close(b),b.preventDefault())}).mousedown(function(a){h.moveToTop(!1,a)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(b),d=(this.uiDialogTitlebar=a("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){b.focus()}).prependTo(b),e=a("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(a){a.preventDefault(),h.close(a)}).appendTo(d),(this.uiDialogTitlebarCloseText=a("<span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(e),f=a("<span>").uniqueId().addClass("ui-dialog-title").html(j).prependTo(d),g=(this.uiDialogButtonPane=a("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=a("<div>")).addClass("ui-dialog-buttonset").appendTo(g),b.attr({role:"dialog","aria-labelledby":f.attr("id")}),d.find("*").add(d).disableSelection(),this._hoverable(e),this._focusable(e),i.draggable&&a.fn.draggable&&this._makeDraggable(),i.resizable&&a.fn.resizable&&this._makeResizable(),this._createButtons(i.buttons),this._isOpen=!1,a.fn.bgiframe&&b.bgiframe(),this._on(b,{keydown:function(c){if(i.modal&&c.keyCode===a.ui.keyCode.TAB){var d=a(":tabbable",b),e=d.filter(":first"),f=d.filter(":last");return c.target!==f[0]||c.shiftKey?c.target===e[0]&&c.shiftKey?(f.focus(1),!1):void 0:(e.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var a,b=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(b){var c,d,e=this;if(this._isOpen&&!1!==this._trigger("beforeClose",b))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",b)}):(this.uiDialog.hide(),this._trigger("close",b)),a.ui.dialog.overlay.resize(),this.options.modal&&(c=0,a(".ui-dialog").each(function(){this!==e.uiDialog[0]&&(d=a(this).css("z-index"),isNaN(d)||(c=Math.max(c,d)))}),a.ui.dialog.maxZ=c),this},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d,e=this.options;return e.modal&&!b||!e.stack&&!e.modal?this._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),this.overlay&&(a.ui.dialog.maxZ+=1,a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ,this.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ)),d={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},a.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",a.ui.dialog.maxZ),this.element.attr(d),this._trigger("focus",c),this)
},open:function(){if(!this._isOpen){var b,c=this.options,d=this.uiDialog;return this._size(),this._position(c.position),d.show(c.show),this.overlay=c.modal?new a.ui.dialog.overlay(this):null,this.moveToTop(!0),b=this.element.find(":tabbable"),b.length||(b=this.uiDialogButtonPane.find(":tabbable"),b.length||(b=d)),b.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(b){var c=this,d=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof b&&null!==b&&a.each(b,function(){return!(d=!0)}),d?(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a("<button type='button'></button>").attr(d,!0).unbind("click").click(function(){d.click.apply(c.element[0],arguments)}).appendTo(c.uiButtonSet);a.fn.button&&e.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){d.position=[f.position.left-c.document.scrollLeft(),f.position.top-c.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),c._trigger("dragStop",e,b(f)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function d(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var e=this,f=this.options,g=this.uiDialog.css("position"),h="string"==typeof c?c:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:this._minHeight(),handles:h,start:function(b,c){a(this).addClass("ui-dialog-resizing"),e._trigger("resizeStart",b,d(c))},resize:function(a,b){e._trigger("resize",a,d(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),f.height=a(this).height(),f.width=a(this).width(),e._trigger("resizeStop",b,d(c)),a.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c,d=[],e=[0,0];b?(("string"==typeof b||"object"==typeof b&&"0"in b)&&(d=b.split?b.split(" "):[b[0],b[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),b={my:d[0]+(e[0]<0?e[0]:"+"+e[0])+" "+d[1]+(e[1]<0?e[1]:"+"+e[1]),at:d.join(" ")}),b=a.extend({},a.ui.dialog.prototype.options.position,b)):b=a.ui.dialog.prototype.options.position,c=this.uiDialog.is(":visible"),c||this.uiDialog.show(),this.uiDialog.position(b),c||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e,f,g=this.uiDialog;switch(b){case"buttons":this._createButtons(d);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":g.removeClass(this.options.dialogClass).addClass(c+d);break;case"disabled":d?g.addClass("ui-dialog-disabled"):g.removeClass("ui-dialog-disabled");break;case"draggable":e=g.is(":data(draggable)"),e&&!d&&g.draggable("destroy"),!e&&d&&this._makeDraggable();break;case"position":this._position(d);break;case"resizable":f=g.is(":data(resizable)"),f&&!d&&g.resizable("destroy"),f&&"string"==typeof d&&g.resizable("option","handles",d),f||d===!1||this._makeResizable(d);break;case"title":a(".ui-dialog-title",this.uiDialogTitlebar).html(""+(d||"&#160;"))}this._super(b,d)},_size:function(){var b,c,d,e=this.options,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),e.minWidth>e.width&&(e.width=e.minWidth),b=this.uiDialog.css({height:"auto",width:e.width}).outerHeight(),c=Math.max(0,e.minHeight-b),"auto"===e.height?a.support.minHeight?this.element.css({minHeight:c,height:"auto"}):(this.uiDialog.show(),d=this.element.css("height","auto").height(),f||this.uiDialog.hide(),this.element.height(Math.max(d,c))):this.element.height(Math.max(e.height-b,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){0===this.instances.length&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){return a(b.target).zIndex()<a.ui.dialog.overlay.maxZ?!1:void 0})},1),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=this.oldInstances.pop()||a("<div>").addClass("ui-widget-overlay");return a(document).bind("keydown.dialog-overlay",function(d){var e=a.ui.dialog.overlay.instances;0!==e.length&&e[e.length-1]===c&&b.options.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}),c.appendTo(document.body).css({width:this.width(),height:this.height()}),a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances),d=0;-1!==c&&this.oldInstances.push(this.instances.splice(c,1)[0]),0===this.instances.length&&a([document,window]).unbind(".dialog-overlay"),b.height(0).width(0).remove(),a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.ui.ie?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),c>b?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.ui.ie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),c>b?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");var a=this.options.addClasses?"ui-draggable":"";a+=this.options.disabled?" ui-draggable-disabled":"",a.length&&this.element.addClass(a),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);for(var d=this.element[0],e=!1;d&&(d=d.parentNode);)d==document&&(e=!0);if(!e&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==!1&&f._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),d[0]==this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),("document"==b.containment||"window"==b.containment)&&(this.containment=["document"==b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(b.containment)||b.containment.constructor==Array)b.containment.constructor==Array&&(this.containment=b.containment);else{var c=a(b.containment),d=c[0];if(!d)return;c.offset();var e="hidden"!=a(d).css("overflow");this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!=g&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("draggable"),d=c.options,e=!1;c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName?(d.axis&&"x"==d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"==d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"==d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"==d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height,k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(g>l-f&&m+f>g&&i>n-f&&o+f>i||g>l-f&&m+f>g&&j>n-f&&o+f>j||h>l-f&&m+f>h&&i>n-f&&o+f>i||h>l-f&&m+f>h&&j>n-f&&o+f>j){if("inner"!=e.snapMode){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if("outer"!=e.snapMode){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}else d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1}}}),a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options,c=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(c.length){var d=parseInt(c[0].style.zIndex)||0;a(c).each(function(a){this.style.zIndex=d+a}),this[0].style.zIndex=d+c.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a){a.widget("ui.droppable",{version:"1.9.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"==b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return e>=i&&j>=f&&g>=k&&l>=h;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l)&&(e>=i&&j>=e||f>=i&&j>=f||i>e&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();a:for(var g=0;g<d.length;g++)if(!(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))){for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue a}d[g].visible="none"!=d[g].element.css("display"),d[g].visible&&("mousedown"==e&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=a.ui.intersect(b,this,this.options.tolerance),e=d||1!=this.isover?d&&0==this.isover?"isover":null:"isout";if(e){var f;if(this.options.greedy){var g=this.options.scope,h=this.element.parents(":data(droppable)").filter(function(){return a.data(this,"droppable").options.scope===g});h.length&&(f=a.data(h[0],"droppable"),f.greedyChild="isover"==e?1:0)}f&&"isover"==e&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,c),f&&"isout"==e&&(f.isout=0,f.isover=1,f._over.call(f,c))}}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),jQuery.effects||function(a,b){var c=a.uiBackCompat!==!1,d="ui-effects-";a.effects={effect:{}},function(b,c){function d(a,b,c){var d=m[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function e(a){var c=k(),d=c._rgba=[];return a=a.toLowerCase(),p(j,function(b,e){var f,g=e.re.exec(a),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[l[i].cache]=f[l[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&b.extend(d,g.transparent),c):g[a]}function f(a,b,c){return c=(c+1)%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var g,h="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),i=/^([\-+])=\s*(\d+\.?\d*)/,j=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]
}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],k=b.Color=function(a,c,d,e){return new b.Color.fn.parse(a,c,d,e)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},n=k.support={},o=b("<p>")[0],p=b.each;o.style.cssText="background-color:rgba(1,1,1,.5)",n.rgba=o.style.backgroundColor.indexOf("rgba")>-1,p(l,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),k.fn=b.extend(k.prototype,{parse:function(f,h,i,j){if(f===c)return this._rgba=[null,null,null,null],this;(f.jquery||f.nodeType)&&(f=b(f).css(h),h=c);var m=this,n=b.type(f),o=this._rgba=[];return h!==c&&(f=[f,h,i,j],n="array"),"string"===n?this.parse(e(f)||g._default):"array"===n?(p(l.rgba.props,function(a,b){o[b.idx]=d(f[b.idx],b)}),this):"object"===n?(f instanceof k?p(l,function(a,b){f[b.cache]&&(m[b.cache]=f[b.cache].slice())}):p(l,function(b,c){var e=c.cache;p(c.props,function(a,b){if(!m[e]&&c.to){if("alpha"===a||null==f[a])return;m[e]=c.to(m._rgba)}m[e][b.idx]=d(f[a],b,!0)}),m[e]&&a.inArray(null,m[e].slice(0,3))<0&&(m[e][3]=1,c.from&&(m._rgba=c.from(m[e])))}),this):void 0},is:function(a){var b=k(a),c=!0,d=this;return p(l,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],p(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return p(l,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var c=k(a),e=c._space(),f=l[e],g=0===this.alpha()?k("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return c=c[f.cache],p(f.props,function(a,e){var f=e.idx,g=h[f],j=c[f],k=m[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=d((j-g)*b+g,e)))}),this[e](i)},blend:function(a){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=k(a)._rgba;return k(b.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var a="rgba(",c=b.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),a="rgb("),a+c.join()+")"},toHslaString:function(){var a="hsla(",c=b.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),a="hsl("),a+c.join()+")"},toHexString:function(a){var c=this._rgba.slice(),d=c.pop();return a&&c.push(~~(255*d)),"#"+b.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),k.fn.parse.prototype=k.fn,l.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===l||1===l?l:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},l.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],e=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*f(h,g,b+1/3)),Math.round(255*f(h,g,b)),Math.round(255*f(h,g,b-1/3)),e]},p(l,function(a,e){var f=e.props,g=e.cache,h=e.to,j=e.from;k.fn[a]=function(a){if(h&&!this[g]&&(this[g]=h(this._rgba)),a===c)return this[g].slice();var e,i=b.type(a),l="array"===i||"object"===i?a:arguments,m=this[g].slice();return p(f,function(a,b){var c=l["object"===i?a:b.idx];null==c&&(c=m[b.idx]),m[b.idx]=d(c,b)}),j?(e=k(j(m)),e[g]=m,e):k(m)},p(f,function(c,d){k.fn[c]||(k.fn[c]=function(e){var f,g=b.type(e),h="alpha"===c?this._hsla?"hsla":"rgba":a,j=this[h](),k=j[d.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=b.type(e)),null==e&&d.empty?this:("string"===g&&(f=i.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[d.idx]=e,this[h](j)))})})}),p(h,function(a,c){b.cssHooks[c]={set:function(a,d){var f,g,h="";if("string"!==b.type(d)||(f=e(d))){if(d=k(f||d),!n.rgba&&1!==d._rgba[3]){for(g="backgroundColor"===c?a.parentNode:a;(""===h||"transparent"===h)&&g&&g.style;)try{h=b.css(g,"backgroundColor"),g=g.parentNode}catch(i){}d=d.blend(h&&"transparent"!==h?h:"_default")}d=d.toRgbaString()}try{a.style[c]=d}catch(j){}}},b.fx.step[c]=function(a){a.colorInit||(a.start=k(a.elem,c),a.end=k(a.end),a.colorInit=!0),b.cssHooks[c].set(a.elem,a.start.transition(a.end,a.pos))}}),b.cssHooks.borderColor={expand:function(a){var b={};return p(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},g=b.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function c(){var b,c,d=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,e={};if(d&&d.length&&d[0]&&d[d[0]])for(c=d.length;c--;)b=d[c],"string"==typeof d[b]&&(e[a.camelCase(b)]=d[b]);else for(b in d)"string"==typeof d[b]&&(e[b]=d[b]);return e}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&(f[d]||(a.fx.step[d]||!isNaN(parseFloat(e)))&&(g[d]=e));return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}}),a.effects.animateClass=function(b,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").andSelf():g;j=j.map(function(){var b=a(this);return{el:b,start:c.call(this)}}),f=function(){a.each(e,function(a,c){b[c]&&g[c+"Class"](b[c])})},f(),j=j.map(function(){return this.end=c.call(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=jQuery.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.call(this,{add:b},c,d,e):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.call(this,{remove:b},c,d,e):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return"boolean"==typeof d||d===b?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):this._toggleClass(c,d):a.effects.animateClass.call(this,{toggle:c},d,e,f)},switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function e(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function f(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?!1:c&&a.effects[b]?!1:!0}a.extend(a.effects,{version:"1.9.1",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data(d+b[c],a[0].style[b[c]])},restore:function(a,c){var e,f;for(f=0;f<c.length;f++)null!==c[f]&&(e=a.data(d+c[f]),e===b&&(e=""),a.css(c[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function c(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=d.complete,g=d.mode;(e.is(":hidden")?"hide"===g:"show"===g)?c():h.call(e[0],d,c)}var d=e.apply(this,arguments),f=d.mode,g=d.queue,h=a.effects.effect[d.effect],i=!h&&c&&a.effects[d.effect];return a.fx.off||!h&&!i?f?this[f](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):h?g===!1?this.each(b):this.queue(g||"fx",b):i.call(this,{options:d,duration:d.duration,callback:d.complete,mode:d.mode})},_show:a.fn.show,show:function(a){if(f(a))return this._show.apply(this,arguments);var b=e.apply(this,arguments);return b.mode="show",this.effect.call(this,b)},_hide:a.fn.hide,hide:function(a){if(f(a))return this._hide.apply(this,arguments);var b=e.apply(this,arguments);return b.mode="hide",this.effect.call(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(f(b)||"boolean"==typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=e.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}()}(jQuery),function(a){var b=/up|down|vertical/,c=/up|left|vertical|horizontal/;a.effects.effect.blind=function(d,e){var f,g,h,i=a(this),j=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(i,d.mode||"hide"),l=d.direction||"up",m=b.test(l),n=m?"height":"width",o=m?"top":"left",p=c.test(l),q={},r="show"===k;i.parent().is(".ui-effects-wrapper")?a.effects.save(i.parent(),j):a.effects.save(i,j),i.show(),f=a.effects.createWrapper(i).css({overflow:"hidden"}),g=f[n](),h=parseFloat(f.css(o))||0,q[n]=r?g:0,p||(i.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),q[o]=r?h:g+h),r&&(f.css(n,0),p||f.css(o,h+g)),f.animate(q,{duration:d.duration,easing:d.easing,queue:!1,complete:function(){"hide"===k&&i.hide(),a.effects.restore(i,j),a.effects.removeWrapper(i),e()}})}}(jQuery),function(a){a.effects.effect.bounce=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"effect"),j="hide"===i,k="show"===i,l=b.direction||"up",m=b.distance,n=b.times||5,o=2*n+(k||j?1:0),p=b.duration/o,q=b.easing,r="up"===l||"down"===l?"top":"left",s="up"===l||"left"===l,t=g.queue(),u=t.length;for((k||j)&&h.push("opacity"),a.effects.save(g,h),g.show(),a.effects.createWrapper(g),m||(m=g["top"===r?"outerHeight":"outerWidth"]()/3),k&&(f={opacity:1},f[r]=0,g.css("opacity",0).css(r,s?2*-m:2*m).animate(f,p,q)),j&&(m/=Math.pow(2,n-1)),f={},f[r]=0,d=0;n>d;d++)e={},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q).animate(f,p,q),m=j?2*m:m/2;j&&(e={opacity:0},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q)),g.queue(function(){j&&g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}),u>1&&t.splice.apply(t,[1,0].concat(t.splice(u,o+1))),g.dequeue()}}(jQuery),function(a){a.effects.effect.clip=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"hide"),j="show"===i,k=b.direction||"vertical",l="vertical"===k,m=l?"height":"width",n=l?"top":"left",o={};a.effects.save(g,h),g.show(),d=a.effects.createWrapper(g).css({overflow:"hidden"}),e="IMG"===g[0].tagName?d:g,f=e[m](),j&&(e.css(m,0),e.css(n,f/2)),o[m]=j?f:0,o[n]=j?0:f/2,e.animate(o,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){j||g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.drop=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","opacity","height","width"],g=a.effects.setMode(e,b.mode||"hide"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i?"pos":"neg",l={opacity:h?1:0};a.effects.save(e,f),e.show(),a.effects.createWrapper(e),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0)/2,h&&e.css("opacity",0).css(j,"pos"===k?-d:d),l[j]=(h?"pos"===k?"+=":"-=":"pos"===k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.explode=function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),p||n.hide(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=a.effects.setMode(n,b.mode||"hide"),p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;l>f;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;m>g;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)}}(jQuery),function(a){a.effects.effect.fade=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}}(jQuery),function(a){a.effects.effect.fold=function(b,c){var d,e,f=a(this),g=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(f,b.mode||"hide"),i="show"===h,j="hide"===h,k=b.size||15,l=/([0-9]+)%/.exec(k),m=!!b.horizFirst,n=i!==m,o=n?["width","height"]:["height","width"],p=b.duration/2,q={},r={};a.effects.save(f,g),f.show(),d=a.effects.createWrapper(f).css({overflow:"hidden"}),e=n?[d.width(),d.height()]:[d.height(),d.width()],l&&(k=parseInt(l[1],10)/100*e[j?0:1]),i&&d.css(m?{height:0,width:k}:{height:k,width:0}),q[o[0]]=i?e[0]:k,r[o[1]]=i?e[1]:0,d.animate(q,p,b.easing).animate(r,p,b.easing,function(){j&&f.hide(),a.effects.restore(f,g),a.effects.removeWrapper(f),c()})}}(jQuery),function(a){a.effects.effect.highlight=function(b,c){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,b.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===f&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===f&&d.hide(),a.effects.restore(d,e),c()}})}}(jQuery),function(a){a.effects.effect.pulsate=function(b,c){var d,e=a(this),f=a.effects.setMode(e,b.mode||"show"),g="show"===f,h="hide"===f,i=g||"hide"===f,j=2*(b.times||5)+(i?1:0),k=b.duration/j,l=0,m=e.queue(),n=m.length;for((g||!e.is(":visible"))&&(e.css("opacity",0).show(),l=1),d=1;j>d;d++)e.animate({opacity:l},k,b.easing),l=1-l;e.animate({opacity:l},k,b.easing),e.queue(function(){h&&e.hide(),c()}),n>1&&m.splice.apply(m,[1,0].concat(m.splice(n,j+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.puff=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"hide"),f="hide"===e,g=parseInt(b.percent,10)||150,h=g/100,i={height:d.height(),width:d.width()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:c,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h}}),d.effect(b)},a.effects.effect.scale=function(b,c){var d=a(this),e=a.extend(!0,{},b),f=a.effects.setMode(d,b.mode||"effect"),g=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===f?0:100),h=b.direction||"both",i=b.origin,j={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:"horizontal"!==h?g/100:1,x:"vertical"!==h?g/100:1};e.effect="size",e.queue=!1,e.complete=c,"effect"!==f&&(e.origin=i||["middle","center"],e.restore=!0),e.from=b.from||("show"===f?{height:0,width:0}:j),e.to={height:j.height*k.y,width:j.width*k.x,outerHeight:j.outerHeight*k.y,outerWidth:j.outerWidth*k.x},e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0)),d.effect(e)},a.effects.effect.size=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=a.effects.setMode(g,b.mode||"effect"),o=b.restore||"effect"!==n,p=b.scale||"both",q=b.origin||["middle","center"],r=g.css("position"),s=o?h:i,t={height:0,width:0};"show"===n&&g.show(),d={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},"toggle"===b.mode&&"show"===n?(g.from=b.to||t,g.to=b.from||d):(g.from=b.from||("show"===n?t:d),g.to=b.to||("hide"===n?t:d)),f={from:{y:g.from.height/d.height,x:g.from.width/d.width},to:{y:g.to.height/d.height,x:g.to.width/d.width}},("box"===p||"both"===p)&&(f.from.y!==f.to.y&&(s=s.concat(l),g.from=a.effects.setTransition(g,l,f.from.y,g.from),g.to=a.effects.setTransition(g,l,f.to.y,g.to)),f.from.x!==f.to.x&&(s=s.concat(m),g.from=a.effects.setTransition(g,m,f.from.x,g.from),g.to=a.effects.setTransition(g,m,f.to.x,g.to))),("content"===p||"both"===p)&&f.from.y!==f.to.y&&(s=s.concat(k).concat(j),g.from=a.effects.setTransition(g,k,f.from.y,g.from),g.to=a.effects.setTransition(g,k,f.to.y,g.to)),a.effects.save(g,s),g.show(),a.effects.createWrapper(g),g.css("overflow","hidden").css(g.from),q&&(e=a.effects.getBaseline(q,d),g.from.top=(d.outerHeight-g.outerHeight())*e.y,g.from.left=(d.outerWidth-g.outerWidth())*e.x,g.to.top=(d.outerHeight-g.to.outerHeight)*e.y,g.to.left=(d.outerWidth-g.to.outerWidth)*e.x),g.css(g.from),("content"===p||"both"===p)&&(l=l.concat(["marginTop","marginBottom"]).concat(k),m=m.concat(["marginLeft","marginRight"]),j=h.concat(l).concat(m),g.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width()};o&&a.effects.save(c,j),c.from={height:d.height*f.from.y,width:d.width*f.from.x},c.to={height:d.height*f.to.y,width:d.width*f.to.x},f.from.y!==f.to.y&&(c.from=a.effects.setTransition(c,l,f.from.y,c.from),c.to=a.effects.setTransition(c,l,f.to.y,c.to)),f.from.x!==f.to.x&&(c.from=a.effects.setTransition(c,m,f.from.x,c.from),c.to=a.effects.setTransition(c,m,f.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.easing,function(){o&&a.effects.restore(c,j)})})),g.animate(g.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===g.to.opacity&&g.css("opacity",g.from.opacity),"hide"===n&&g.hide(),a.effects.restore(g,s),o||("static"===r?g.css({position:"relative",top:g.to.top,left:g.to.left}):a.each(["top","left"],function(a,b){g.css(b,function(b,c){var d=parseInt(c,10),e=a?g.to.left:g.to.top;return"auto"===c?e+"px":d+e+"px"})})),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.shake=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(e,b.mode||"effect"),h=b.direction||"left",i=b.distance||20,j=b.times||3,k=2*j+1,l=Math.round(b.duration/k),m="up"===h||"down"===h?"top":"left",n="up"===h||"left"===h,o={},p={},q={},r=e.queue(),s=r.length;for(a.effects.save(e,f),e.show(),a.effects.createWrapper(e),o[m]=(n?"-=":"+=")+i,p[m]=(n?"+=":"-=")+2*i,q[m]=(n?"-=":"+=")+2*i,e.animate(o,l,b.easing),d=1;j>d;d++)e.animate(p,l,b.easing).animate(q,l,b.easing);e.animate(p,l,b.easing).animate(o,l/2,b.easing).queue(function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}),s>1&&r.splice.apply(r,[1,0].concat(r.splice(s,k+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.slide=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","width","height"],g=a.effects.setMode(e,b.mode||"show"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l={};a.effects.save(e,f),e.show(),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(e).css({overflow:"hidden"}),h&&e.css(j,k?isNaN(d)?"-"+d:-d:d),l[j]=(h?k?"+=":"-=":k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.transfer=function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),c()})}}(jQuery),function(a){var b=!1;a.widget("ui.menu",{version:"1.9.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target).closest(".ui-menu-item");!b&&d.not(".ui-state-disabled").length&&(b=!0,this.select(c),d.has(".ui-menu").length?this.expand(c):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(c){a(c.target).closest(".ui-menu").length||this.collapseAll(c),b=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var d,e,f,g,h,i=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:i=!1,e=this.previousFilter||"",f=String.fromCharCode(b.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())}),d=g&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(f=String.fromCharCode(b.keyCode),h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())})),d.length?(this.focus(b,d),d.length>1?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}i&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-��\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),d.each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(b),void 0)},previousPage:function(b){var c,d,e;return this.active?(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(b),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)
}})}(jQuery),function(a,b){a.widget("ui.progressbar",{version:"1.9.1",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(a,b){"value"===a&&(this.options.value=b,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(a,b)},_value:function(){var a=this.options.value;return"number"!=typeof a&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}})}(jQuery),function(a){a.widget("ui.resizable",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');h.css({zIndex:c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){if(this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}a(this.handles[c]).length}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())}).mouseleave(function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c),c.remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(c){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),this._renderProxy();var g=b(this.helper.css("left")),h=b(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof d.aspectRatio?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor","auto"==i?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(a){var b=this.helper,c=(this.options,this.originalMousePosition),d=this.axis,e=a.pageX-c.left||0,f=a.pageY-c.top||0,g=this._change[d];if(!g)return!1;var h=g.apply(this,[a,e,f]);return this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(h=this._updateRatio(h,a)),h=this._respectSize(h,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(h),this._trigger("resize",a,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,d,e,f,g,h=this.options;g={minWidth:c(h.minWidth)?h.minWidth:0,maxWidth:c(h.maxWidth)?h.maxWidth:1/0,minHeight:c(h.minHeight)?h.minHeight:0,maxHeight:c(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),d<g.maxWidth&&(g.maxWidth=d),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.options,this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=(this.options,this.position),d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"==e&&(a.left=b.left+(d.width-a.width),a.top=null),"nw"==e&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a,b){var d=(this.helper,this._vBoundaries),e=(this._aspectRatio||b.shiftKey,this.axis),f=c(a.width)&&d.maxWidth&&d.maxWidth<a.width,g=c(a.height)&&d.maxHeight&&d.maxHeight<a.height,h=c(a.width)&&d.minWidth&&d.minWidth>a.width,i=c(a.height)&&d.minHeight&&d.minHeight>a.height;h&&(a.width=d.minWidth),i&&(a.height=d.minHeight),f&&(a.width=d.maxWidth),g&&(a.height=d.maxHeight);var j=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,l=/sw|nw|w/.test(e),m=/nw|ne|n/.test(e);h&&l&&(a.left=j-d.minWidth),f&&l&&(a.left=j-d.maxWidth),i&&m&&(a.top=k-d.minHeight),g&&m&&(a.top=k-d.maxHeight);var n=!a.width&&!a.height;return n&&!a.left&&a.top?a.top=null:n&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var d=this._proportionallyResizeElements[c];if(!this.borderDif){var e=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],f=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];this.borderDif=a.map(e,function(a,b){var c=parseInt(a,10)||0,d=parseInt(f[b],10)||0;return c+d})}d.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.element,c=this.options;if(this.elementOffset=b.offset(),this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.ui.ie6?1:0,e=a.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+e,height:this.element.outerHeight()+e,position:"absolute",left:this.elementOffset.left-d+"px",top:this.elementOffset.top-d+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=(this.options,this.originalSize),d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=(this.options,this.originalSize),e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!=b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c=a(this).data("resizable"),d=c.options,e=c.element,f=d.containment,g=f instanceof a?f.get(0):/parent/.test(f)?e.parent().get(0):f;if(g)if(c.containerElement=a(g),/document/.test(f)||f==document)c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var h=a(g),i=[];a(["Top","Right","Left","Bottom"]).each(function(a,c){i[a]=b(h.css("padding"+c))}),c.containerOffset=h.offset(),c.containerPosition=h.position(),c.containerSize={height:h.innerHeight()-i[3],width:h.innerWidth()-i[1]};var j=c.containerOffset,k=c.containerSize.height,l=c.containerSize.width,m=a.ui.hasScroll(g,"left")?g.scrollWidth:l,n=a.ui.hasScroll(g)?g.scrollHeight:k;c.parentData={element:g,left:j.left,top:j.top,width:m,height:n}}},resize:function(b){var c=a(this).data("resizable"),d=c.options,e=(c.containerSize,c.containerOffset),f=(c.size,c.position),g=c._aspectRatio||b.shiftKey,h={top:0,left:0},i=c.containerElement;i[0]!=document&&/static/.test(i.css("position"))&&(h=e),f.left<(c._helper?e.left:0)&&(c.size.width=c.size.width+(c._helper?c.position.left-e.left:c.position.left-h.left),g&&(c.size.height=c.size.width/c.aspectRatio),c.position.left=d.helper?e.left:0),f.top<(c._helper?e.top:0)&&(c.size.height=c.size.height+(c._helper?c.position.top-e.top:c.position.top),g&&(c.size.width=c.size.height*c.aspectRatio),c.position.top=c._helper?e.top:0),c.offset.left=c.parentData.left+c.position.left,c.offset.top=c.parentData.top+c.position.top;var j=Math.abs((c._helper?c.offset.left-h.left:c.offset.left-h.left)+c.sizeDiff.width),k=Math.abs((c._helper?c.offset.top-h.top:c.offset.top-e.top)+c.sizeDiff.height),l=c.containerElement.get(0)==c.element.parent().get(0),m=/relative|absolute/.test(c.containerElement.css("position"));l&&m&&(j-=c.parentData.left),j+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-j,g&&(c.size.height=c.size.width/c.aspectRatio)),k+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-k,g&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var b=a(this).data("resizable"),c=b.options,d=(b.position,b.containerOffset),e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("resizable");b.options,b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("resizable");b.options,b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b){var c=a(this).data("resizable"),d=c.options,e=c.size,f=c.originalSize,g=c.originalPosition,h=c.axis;d._aspectRatio||b.shiftKey,d.grid="number"==typeof d.grid?[d.grid,d.grid]:d.grid;var i=Math.round((e.width-f.width)/(d.grid[0]||1))*(d.grid[0]||1),j=Math.round((e.height-f.height)/(d.grid[1]||1))*(d.grid[1]||1);/^(se|s|e)$/.test(h)?(c.size.width=f.width+i,c.size.height=f.height+j):/^(ne)$/.test(h)?(c.size.width=f.width+i,c.size.height=f.height+j,c.position.top=g.top-j):/^(sw)$/.test(h)?(c.size.width=f.width+i,c.size.height=f.height+j,c.position.left=g.left-i):(c.size.width=f.width+i,c.size.height=f.height+j,c.position.top=g.top-j,c.position.left=g.left-i)}});var b=function(a){return parseInt(a,10)||0},c=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.9.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(b){var c=this;if(this.opos=[b.pageX,b.pageY],!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})}},_mouseDrag:function(b){var c=this;if(this.dragged=!0,!this.options.disabled){var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(i&&i.element!=c.element[0]){var j=!1;"touch"==d.tolerance?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):"fit"==d.tolerance&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&(b.metaKey||b.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element}))))}}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,this.options,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}})}(jQuery),function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var c,d,e=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(e.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),e.range&&(e.range===!0&&(e.values||(e.values=[this._valueMin(),this._valueMin()]),e.values.length&&2!==e.values.length&&(e.values=[e.values[0],e.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))),d=e.values&&e.values.length||1,c=f.length;d>c;c++)h.push(g);this.handles=f.add(a(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).mouseenter(function(){e.disabled||a(this).addClass("ui-state-hover")}).mouseleave(function(){a(this).removeClass("ui-state-hover")}).focus(function(){e.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)}),this._on(this.handles,{keydown:function(c){var d,e,f,g,h=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),c.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(c,h,f)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));e>c&&(e=c,f=a(this),g=b)}),l.range===!0&&this.values(1)===l.min&&(g+=1,f=a(this.handles[g])),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b),void 0;if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch(a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=100*((i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())),k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?100*((d-e)/(f-e)):0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))
}})}(jQuery),function(a){a.widget("ui.sortable",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(b);var e=null;if(a(b.target).parents().each(function(){return a.data(this,d.widgetName+"-item")==d?(e=a(this),!1):void 0}),a.data(b.target,d.widgetName+"-item")==d&&(e=a(b.target)),!e)return!1;if(this.options.handle&&!c){var f=!1;if(a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(f=!0)}),!f)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(var f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(h&&f.instance===this.currentContainer&&g!=this.currentItem[0]&&this.placeholder[1==h?"next":"prev"]()[0]!=g&&!a.contains(this.placeholder[0],g)&&("semi-dynamic"==this.options.type?!a.contains(this.element[0],g):!0)){if(this.direction=1==h?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(b,f),this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset();this.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&i>d+j&&b+k>f&&g>b+k;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c="x"===this.options.axis||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d="y"===this.options.axis||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"==g||"down"==f?2:1:f&&("down"==f?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"==f&&d||"left"==f&&!d:e&&("down"==e&&c||"up"==e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],d=[],e=this._connectWith();if(e&&b)for(var f=e.length-1;f>=0;f--)for(var g=a(e[f]),h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&d.push([a.isFunction(i.options.items)?i.options.items.call(i.element):a(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i])}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=d.length-1;f>=0;f--)d[f][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]==a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(var f=e.length-1;f>=0;f--)for(var g=a(e[f]),h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&(d.push([a.isFunction(i.options.items)?i.options.items.call(i.element[0],b,{item:this.currentItem}):a(i.options.items,i.element),i]),this.containers.push(i))}for(var f=d.length-1;f>=0;f--)for(var j=d[f][1],k=d[f][0],h=0,l=k.length;l>h;h++){var m=a(k[h]);m.data(this.widgetName+"-item",j),c.push({item:m,instance:j,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance==this.currentContainer||!this.currentContainer||d.item[0]==this.currentItem[0]){var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){b=b||this;var c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var d=c.placeholder;c.placeholder={element:function(){var c=a(document.createElement(b.currentItem[0].nodeName)).addClass(d||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return d||(c.style.visibility="hidden"),c},update:function(a,e){(!d||c.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}}b.placeholder=a(c.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),c.placeholder.update(b,b.placeholder)},_contactContainers:function(b){for(var c=null,d=null,e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else{for(var f=1e4,g=null,h=this.containers[d].floating?"left":"top",i=this.containers[d].floating?"width":"height",j=this.positionAbs[h]+this.offset.click[h],k=this.items.length-1;k>=0;k--)if(a.contains(this.containers[d].element[0],this.items[k].item[0])&&this.items[k].item[0]!=this.currentItem[0]){var l=this.items[k].item.offset()[h],m=!1;Math.abs(l-j)>Math.abs(l+this.items[k][i]-j)&&(m=!0,l+=this.items[k][i]),Math.abs(l-j)<f&&(f=Math.abs(l-j),g=this.items[k],this.direction=m?"up":"down")}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!=c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(""==d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),("document"==b.containment||"window"==b.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e="hidden"!=a(c).css("overflow");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid)){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e==this.counter&&this.refreshPositions(!d)})},_clear:function(b,c){this.reverting=!1;var d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)("auto"==this._storedCSS[e]||"static"==this._storedCSS[e])&&(this._storedCSS[e]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||c||d.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(c||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(var e=this.containers.length-1;e>=0;e--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);if(this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}if(c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!c){for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a){function b(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.9.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a),void 0)},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){return a(b.currentTarget).hasClass("ui-state-active")?this._start(b)===!1?!1:(this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,this.element.val(this._format(c)),void 0}("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(a){this._stepUp(a)}),_stepUp:function(a){this._spin((a||1)*this.options.step)},stepDown:b(function(a){this._stepDown(a)}),_stepDown:function(a){this._spin((a||1)*-this.options.step)},pageUp:b(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:b(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?(b(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(a,b){function c(){return++e}function d(a){return a.hash.length>1&&a.href.replace(f,"")===location.href.replace(f,"")}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"1.9.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options,d=c.active,e=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===d&&(e&&this.tabs.each(function(b,c){return a(c).attr("aria-controls")===e?(d=b,!1):void 0}),null===d&&(d=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===d||-1===d)&&(d=this.tabs.length?0:!1)),d!==!1&&(d=this.tabs.index(this.tabs.eq(d)),-1===d&&(d=c.collapsible?!1:0)),c.active=d,!c.collapsible&&c.active===!1&&this.anchors.length&&(c.active=0),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(this.options.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),this._activate(d),void 0;case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),this._activate(d===this.options.active?!1:d),void 0;
default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?(this._activate(b),void 0):"disabled"===a?(this._setupDisabled(b),void 0):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b),void 0)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d,e=this.element.parent();"fill"===b?(a.support.minHeight||(d=e.css("overflow"),e.css("overflow","hidden")),c=e.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),d&&e.css("overflow",d),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c):b.removeAttr("aria-controls")}),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),a.uiBackCompat!==!1&&(a.ui.tabs.prototype._ui=function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},a.widget("ui.tabs",a.ui.tabs,{url:function(a,b){this.anchors.eq(a).attr("href",b)}}),a.widget("ui.tabs",a.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var b=this;this._on({tabsbeforeload:function(c,d){return a.data(d.tab[0],"cache.tabs")?(c.preventDefault(),void 0):(d.jqXHR.success(function(){b.options.cache&&a.data(d.tab[0],"cache.tabs",!0)}),void 0)}})},_ajaxSettings:function(b,c,d){var e=this.options.ajaxOptions;return a.extend({},e,{error:function(a,b){try{e.error(a,b,d.tab.closest("li").index(),d.tab[0])}catch(c){}}},this._superApply(arguments))},_setOption:function(a,b){"cache"===a&&b===!1&&this.anchors.removeData("cache.tabs"),this._super(a,b)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(a){this.anchors.eq(a).removeData("cache.tabs"),this._superApply(arguments)}}),a.widget("ui.tabs",a.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),a.widget("ui.tabs",a.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(a,b){if(a.target===this.element[0]&&this.options.spinner){var c=b.tab.find("span"),d=c.html();c.html(this.options.spinner),b.jqXHR.complete(function(){c.html(d)})}}})}}),a.widget("ui.tabs",a.ui.tabs,{options:{enable:null,disable:null},enable:function(b){var c,d=this.options;(b&&d.disabled===!0||a.isArray(d.disabled)&&-1!==a.inArray(b,d.disabled))&&(c=!0),this._superApply(arguments),c&&this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]))},disable:function(b){var c,d=this.options;(b&&d.disabled===!1||a.isArray(d.disabled)&&-1===a.inArray(b,d.disabled))&&(c=!0),this._superApply(arguments),c&&this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b]))}}),a.widget("ui.tabs",a.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(c,d,e){e===b&&(e=this.anchors.length);var f,g,h=this.options,i=a(h.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),j=c.indexOf("#")?this._tabId(i):c.replace("#","");return i.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),i.attr("aria-controls",j),f=e>=this.tabs.length,g=this.element.find("#"+j),g.length||(g=this._createPanel(j),f?e>0?g.insertAfter(this.panels.eq(-1)):g.appendTo(this.element):g.insertBefore(this.panels[e])),g.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),f?i.appendTo(this.tablist):i.insertBefore(this.tabs[e]),h.disabled=a.map(h.disabled,function(a){return a>=e?++a:a}),this.refresh(),1===this.tabs.length&&h.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.tabs.eq(b).remove(),e=this._getPanelForTab(d).remove();return d.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a){return a!==b}),function(a){return a>=b?--a:a}),this.refresh(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this}}),a.widget("ui.tabs",a.ui.tabs,{length:function(){return this.anchors.length}}),a.widget("ui.tabs",a.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(b){var d=b.is("li")?b.find("a[href]"):b;return d=d[0],a(d).closest("li").attr("aria-controls")||d.title&&d.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+c()}}),a.widget("ui.tabs",a.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(b){return a(this.options.panelTemplate).attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),a.widget("ui.tabs",a.ui.tabs,{_create:function(){var a=this.options;null===a.active&&a.selected!==b&&(a.active=-1===a.selected?!1:a.selected),this._super(),a.selected=a.active,a.selected===!1&&(a.selected=-1)},_setOption:function(a,b){if("selected"!==a)return this._super(a,b);var c=this.options;this._super("active",-1===b?!1:b),c.selected=c.active,c.selected===!1&&(c.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),a.widget("ui.tabs",a.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(a,b,c){var d=this._superApply(arguments);return d?("beforeActivate"===a&&c.newTab.length?d=this._super("select",b,{tab:c.newTab.find(".ui-tabs-anchor")[0],panel:c.newPanel[0],index:c.newTab.closest("li").index()}):"activate"===a&&c.newTab.length&&(d=this._super("show",b,{tab:c.newTab.find(".ui-tabs-anchor")[0],panel:c.newPanel[0],index:c.newTab.closest("li").index()})),d):!1}}),a.widget("ui.tabs",a.ui.tabs,{select:function(a){if(a=this._getIndex(a),-1===a){if(!this.options.collapsible||-1===this.options.selected)return;a=this.options.selected}this.anchors.eq(a).trigger(this.options.event+this.eventNamespace)}}),function(){var b=0;a.widget("ui.tabs",a.ui.tabs,{options:{cookie:null},_create:function(){var a,b=this.options;null==b.active&&b.cookie&&(a=parseInt(this._cookie(),10),-1===a&&(a=!1),b.active=a),this._super()},_cookie:function(c){var d=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++b)];return arguments.length&&(d.push(c===!1?-1:c),d.push(this.options.cookie)),a.cookie.apply(null,d)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),a.widget("ui.tabs",a.ui.tabs,{_trigger:function(b,c,d){var e=a.extend({},d);return"load"===b&&(e.panel=e.panel[0],e.tab=e.tab.find(".ui-tabs-anchor")[0]),this._super(b,c,e)}}),a.widget("ui.tabs",a.ui.tabs,{options:{fx:null},_getFx:function(){var b,c,d=this.options.fx;return d&&(a.isArray(d)?(b=d[0],c=d[1]):b=c=d),d?{show:c,hide:b}:null},_toggle:function(a,b){function c(){e.running=!1,e._trigger("activate",a,b)}function d(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),f.length&&h.show?f.animate(h.show,h.show.duration,function(){c()}):(f.show(),c())}var e=this,f=b.newPanel,g=b.oldPanel,h=this._getFx();return h?(e.running=!0,g.length&&h.hide?g.animate(h.hide,h.hide.duration,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),g.hide(),d()),void 0):this._super(a,b)}}))}(jQuery),function(a){function b(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))}function c(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);-1!==e&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")}var d=0;a.widget("ui.tooltip",{version:"1.9.1",options:{content:function(){return a(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flipfit"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(b,c){var d=this;return"disabled"===b?(this[c?"_disable":"_enable"](),this.options[b]=c,void 0):(this._super(b,c),"content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b)}),void 0)},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0)}),this.element.find(this.options.items).andSelf().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);if(d.length){if(this.options.track&&d.data("ui-tooltip-id"))return this._find(d).position(a.extend({of:d},this.options.position)),this._off(this.document,"mousemove"),void 0;d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b;a(this).data("tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),this.title&&(a(this).uniqueId(),c.parents[this.id]={element:this,title:this.title},this.title="")}),this._updateContent(d,b)}},_updateContent:function(a,b){var c,d=this.options.content,e=this;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){a.data("tooltip-open")&&e._delay(function(){this._open(b,a,c)})}),c&&this._open(b,a,c),void 0)},_open:function(c,d,e){function f(a){j.of=a,g.is(":hidden")||g.position(j)}var g,h,i,j=a.extend({},this.options.position);if(e){if(g=this._find(d),g.length)return g.find(".ui-tooltip-content").html(e),void 0;d.is("[title]")&&(c&&"mouseover"===c.type?d.attr("title",""):d.removeAttr("title")),g=this._tooltip(d),b(d,g.attr("id")),g.find(".ui-tooltip-content").html(e),this.options.track&&c&&/^mouse/.test(c.originalEvent.type)?(this._on(this.document,{mousemove:f}),f(c)):g.position(a.extend({of:d},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(i=setInterval(function(){g.is(":visible")&&(f(j.of),clearInterval(i))},a.fx.interval)),this._trigger("open",c,{tooltip:g}),h={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var c=a.Event(b);c.currentTarget=d[0],this.close(c,!0)}},remove:function(){this._removeTooltip(g)}},c&&"mouseover"!==c.type||(h.mouseleave="close"),c&&"focusin"!==c.type||(h.focusout="close"),this._on(d,h)}},close:function(b){var d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);this.closing||(e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),c(e),f.stop(!0),this._hide(f,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(a,b){b.element.title=b.title,delete d.parents[a]}),this.closing=!0,this._trigger("close",b,{tooltip:f}),this.closing=!1)},_tooltip:function(b){var c="ui-tooltip-"+d++,e=a("<div>").attr({id:c,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),a.fn.bgiframe&&e.bgiframe(),this.tooltips[c]=b,e},_find:function(b){var c=b.data("ui-tooltip-id");return c?a("#"+c):a()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0),a("#"+c).remove(),d.data("ui-tooltip-title")&&(d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))})}})}(jQuery),function(a){var b,c,d="0.3.4",e="hasOwnProperty",f=/[\.\/]/,g="*",h=function(){},i=function(a,b){return a-b},j={n:{}},k=function(a,d){var e,f=c,g=Array.prototype.slice.call(arguments,2),h=k.listeners(a),j=0,l=[],m={},n=[],o=b;b=a,c=0;for(var p=0,q=h.length;q>p;p++)"zIndex"in h[p]&&(l.push(h[p].zIndex),h[p].zIndex<0&&(m[h[p].zIndex]=h[p]));for(l.sort(i);l[j]<0;)if(e=m[l[j++]],n.push(e.apply(d,g)),c)return c=f,n;for(p=0;q>p;p++)if(e=h[p],"zIndex"in e)if(e.zIndex==l[j]){if(n.push(e.apply(d,g)),c)break;do if(j++,e=m[l[j]],e&&n.push(e.apply(d,g)),c)break;while(e)}else m[e.zIndex]=e;else if(n.push(e.apply(d,g)),c)break;return c=f,b=o,n.length?n:null};k.listeners=function(a){var b,c,d,e,h,i,k,l,m=a.split(f),n=j,o=[n],p=[];for(e=0,h=m.length;h>e;e++){for(l=[],i=0,k=o.length;k>i;i++)for(n=o[i].n,c=[n[m[e]],n[g]],d=2;d--;)b=c[d],b&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},k.on=function(a,b){for(var c=a.split(f),d=j,e=0,g=c.length;g>e;e++)d=d.n,!d[c[e]]&&(d[c[e]]={n:{}}),d=d[c[e]];for(d.f=d.f||[],e=0,g=d.f.length;g>e;e++)if(d.f[e]==b)return h;return d.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){c=1},k.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},k.off=k.unbind=function(a,b){var c,d,h,i,k,l,m,n=a.split(f),o=[j];for(i=0,k=n.length;k>i;i++)for(l=0;l<o.length;l+=h.length-2){if(h=[l,1],c=o[l].n,n[i]!=g)c[n[i]]&&h.push(c[n[i]]);else for(d in c)c[e](d)&&h.push(c[d]);o.splice.apply(o,h)}for(i=0,k=o.length;k>i;i++)for(c=o[i];c.n;){if(b){if(c.f){for(l=0,m=c.f.length;m>l;l++)if(c.f[l]==b){c.f.splice(l,1);break}!c.f.length&&delete c.f}for(d in c.n)if(c.n[e](d)&&c.n[d].f){var p=c.n[d].f;for(l=0,m=p.length;m>l;l++)if(p[l]==b){p.splice(l,1);break}!p.length&&delete c.n[d].f}}else{delete c.f;for(d in c.n)c.n[e](d)&&c.n[d].f&&delete c.n[d].f}c=c.n}},k.once=function(a,b){var c=function(){var d=b.apply(this,arguments);return k.unbind(a,c),d};return k.on(a,c)},k.version=d,k.toString=function(){return"You are running Eve "+d},"undefined"!=typeof module&&module.exports?module.exports=k:"undefined"!=typeof define?define("eve",[],function(){return k}):a.eve=k}(this),function(){function a(a,b,d,f,g,h){d=R(d);var i,k,l,n,o,q,r=a.ms,s={},t={},v={};if(f)for(x=0,A=Yb.length;A>x;x++){var w=Yb[x];if(w.el.id==b.id&&w.anim==a){w.percent!=d?(Yb.splice(x,1),l=1):k=w,b.attr(w.totalOrigin);break}}else f=+t;for(var x=0,A=a.percents.length;A>x;x++){if(a.percents[x]==d||a.percents[x]>f*a.top){d=a.percents[x],o=a.percents[x-1]||0,r=r/a.top*(d-o),n=a.percents[x+1],i=a.anim[d];break}f&&b.attr(a.anim[a.percents[x]])}if(i){if(k)k.initstatus=f,k.start=new Date-k.ms*f;else{for(var B in i)if(i[p](B)&&(V[p](B)||b.paper.customAttributes[p](B)))switch(s[B]=b.attr(B),null==s[B]&&(s[B]=U[B]),t[B]=i[B],V[B]){case J:v[B]=(t[B]-s[B])/r;break;case"colour":s[B]=j.getRGB(s[B]);var C=j.getRGB(t[B]);v[B]={r:(C.r-s[B].r)/r,g:(C.g-s[B].g)/r,b:(C.b-s[B].b)/r};break;case"path":var D=zb(s[B],t[B]),E=D[1];for(s[B]=D[0],v[B]=[],x=0,A=s[B].length;A>x;x++){v[B][x]=[0];for(var F=1,G=s[B][x].length;G>F;F++)v[B][x][F]=(E[x][F]-s[B][x][F])/r}break;case"transform":var H=b._,I=Db(H[B],t[B]);if(I)for(s[B]=I.from,t[B]=I.to,v[B]=[],v[B].real=!0,x=0,A=s[B].length;A>x;x++)for(v[B][x]=[s[B][x][0]],F=1,G=s[B][x].length;G>F;F++)v[B][x][F]=(t[B][x][F]-s[B][x][F])/r;else{var K=b.matrix||new e,L={_:{transform:H.transform},getBBox:function(){return b.getBBox(1)}};s[B]=[K.a,K.b,K.c,K.d,K.e,K.f],Bb(L,t[B]),t[B]=L._.transform,v[B]=[(L.matrix.a-K.a)/r,(L.matrix.b-K.b)/r,(L.matrix.c-K.c)/r,(L.matrix.d-K.d)/r,(L.matrix.e-K.e)/r,(L.matrix.e-K.f)/r]}break;case"csv":var M=y(i[B])[z](m),N=y(s[B])[z](m);if("clip-rect"==B)for(s[B]=N,v[B]=[],x=N.length;x--;)v[B][x]=(M[x]-s[B][x])/r;t[B]=M;break;default:for(M=[][u](i[B]),N=[][u](s[B]),v[B]=[],x=b.paper.customAttributes[B].length;x--;)v[B][x]=((M[x]||0)-(N[x]||0))/r}var O=i.easing,Q=j.easing_formulas[O];if(!Q)if(Q=y(O).match(P),Q&&5==Q.length){var S=Q;Q=function(a){return c(a,+S[1],+S[2],+S[3],+S[4],r)}}else Q=db;if(q=i.start||a.start||+new Date,w={anim:a,percent:d,timestamp:q,start:q+(a.del||0),status:0,initstatus:f||0,stop:!1,ms:r,easing:Q,from:s,diff:v,to:t,el:b,callback:i.callback,prev:o,next:n,repeat:h||a.times,origin:b.attr(),totalOrigin:g},Yb.push(w),f&&!k&&!l&&(w.stop=!0,w.start=new Date-r*f,1==Yb.length))return $b();l&&(w.start=new Date-w.ms*f),1==Yb.length&&Zb($b)}eve("anim.start."+b.id,b,a)}}function b(a,b){var c=[],d={};if(this.ms=b,this.times=1,a){for(var e in a)a[p](e)&&(d[R(e)]=a[e],c.push(R(e)));c.sort(bb)}this.anim=d,this.top=c[c.length-1],this.percents=c}function c(a,b,c,d,e,f){function g(a,b){var c,d,e,f,g,h;for(e=a,h=0;8>h;h++){if(f=i(e)-a,G(f)<b)return e;if(g=(3*l*e+2*k)*e+j,G(g)<1e-6)break;e-=f/g}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=i(e),G(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}function h(a,b){var c=g(a,b);return((o*c+n)*c+m)*c}function i(a){return((l*a+k)*a+j)*a}var j=3*b,k=3*(d-b)-j,l=1-j-k,m=3*c,n=3*(e-c)-m,o=1-m-n;return h(a,1/(200*f))}function d(){return this.x+x+this.y+x+this.width+" × "+this.height}function e(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function f(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}function g(){return this.hex}function h(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("␀"),g=d.cache=d.cache||{},h=d.count=d.count||[];return g[p](f)?(i(h,f),c?c(g[f]):g[f]):(h.length>=1e3&&delete g[h.shift()],h.push(f),g[f]=a[t](b,e),c?c(g[f]):g[f])}return d}function i(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function j(a){if(j.is(a,"function"))return k?a():eve.on("DOMload",a);if(j.is(a,L))return j._engine.create[t](j,a.splice(0,3+j.is(a[0],J))).add(a);var b=Array.prototype.slice.call(arguments,0);if(j.is(b[b.length-1],"function")){var c=b.pop();return k?c.call(j._engine.create[t](j,b)):eve.on("DOMload",function(){c.call(j._engine.create[t](j,b))})}return j._engine.create[t](j,arguments)}j.version="2.0.2",j.eve=eve;var k,l,m=/[, ]+/,n={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},o=/\{(\d+)\}/g,p="hasOwnProperty",q={doc:document,win:window},r={was:Object.prototype[p].call(q.win,"Raphael"),is:q.win.Raphael},s=function(){this.ca=this.customAttributes={}},t="apply",u="concat",v="createTouch"in q.doc,w="",x=" ",y=String,z="split",A="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[z](x),B={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},C=y.prototype.toLowerCase,D=Math,E=D.max,F=D.min,G=D.abs,H=D.pow,I=D.PI,J="number",K="string",L="array",M=Object.prototype.toString,N=(j._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),O={NaN:1,Infinity:1,"-Infinity":1},P=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=D.round,R=parseFloat,S=parseInt,T=y.prototype.toUpperCase,U=j._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},V=j._availableAnimAttrs={blur:J,"clip-rect":"csv",cx:J,cy:J,fill:"colour","fill-opacity":J,"font-size":J,height:J,opacity:J,path:"path",r:J,rx:J,ry:J,stroke:"colour","stroke-opacity":J,"stroke-width":J,transform:"transform",width:J,x:J,y:J},W=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,X={hs:1,rg:1},Y=/,?([achlmqrstvxz]),?/gi,Z=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,$=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,_=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ab=(j._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),bb=function(a,b){return R(a)-R(b)},cb=function(){},db=function(a){return a},eb=j._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},fb=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},gb=j._getPath={path:function(a){return a.attr("path")},circle:function(a){var b=a.attrs;return fb(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return fb(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return eb(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return eb(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return eb(b.x,b.y,b.width,b.height)}},hb=j.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=zb(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;
return a};if(j._g=q,j.type=q.win.SVGAngle||q.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==j.type){var ib,jb=q.doc.createElement("div");if(jb.innerHTML='<v:shape adj="1"/>',ib=jb.firstChild,ib.style.behavior="url(#default#VML)",!ib||"object"!=typeof ib.adj)return j.type=w;jb=null}j.svg=!(j.vml="VML"==j.type),j._Paper=s,j.fn=l=s.prototype=j.prototype,j._id=0,j._oid=0,j.is=function(a,b){return b=C.call(b),"finite"==b?!O[p](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||M.call(a).slice(8,-1).toLowerCase()==b},j.angle=function(a,b,c,d,e,f){if(null==e){var g=a-c,h=b-d;return g||h?(180+180*D.atan2(-h,-g)/I+360)%360:0}return j.angle(a,b,e,f)-j.angle(c,d,e,f)},j.rad=function(a){return a%360*I/180},j.deg=function(a){return 180*a/I%360},j.snapTo=function(a,b,c){if(c=j.is(c,"finite")?c:10,j.is(a,L)){for(var d=a.length;d--;)if(G(a[d]-b)<=c)return a[d]}else{a=+a;var e=b%a;if(c>e)return b-e;if(e>a-c)return b-e+a}return b},j.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=0|16*D.random(),c="x"==a?b:8|3&b;return c.toString(16)}),j.setWindow=function(a){eve("setWindow",j,q.win,a),q.win=a,q.doc=q.win.document,j._engine.initWin&&j._engine.initWin(q.win)};var kb=function(a){if(j.vml){var b,c=/^\s+|\s+$/g;try{var d=new ActiveXObject("htmlfile");d.write("<body>"),d.close(),b=d.body}catch(e){b=createPopup().document.body}var f=b.createTextRange();kb=h(function(a){try{b.style.color=y(a).replace(c,w);var d=f.queryCommandValue("ForeColor");return d=(255&d)<<16|65280&d|(16711680&d)>>>16,"#"+("000000"+d.toString(16)).slice(-6)}catch(e){return"none"}})}else{var g=q.doc.createElement("i");g.title="Raphaël Colour Picker",g.style.display="none",q.doc.body.appendChild(g),kb=h(function(a){return g.style.color=a,q.doc.defaultView.getComputedStyle(g,w).getPropertyValue("color")})}return kb(a)},lb=function(){return"hsb("+[this.h,this.s,this.b]+")"},mb=function(){return"hsl("+[this.h,this.s,this.l]+")"},nb=function(){return this.hex},ob=function(a,b,c){if(null==b&&j.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(c=a.b,b=a.g,a=a.r),null==b&&j.is(a,K)){var d=j.getRGB(a);a=d.r,b=d.g,c=d.b}return(a>1||b>1||c>1)&&(a/=255,b/=255,c/=255),[a,b,c]},pb=function(a,b,c,d){a*=255,b*=255,c*=255;var e={r:a,g:b,b:c,hex:j.rgb(a,b,c),toString:nb};return j.is(d,"finite")&&(e.opacity=d),e};j.color=function(a){var b;return j.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=j.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):j.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(b=j.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):(j.is(a,"string")&&(a=j.getRGB(a)),j.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(b=j.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=j.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1)),a.toString=nb,a},j.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-G(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],pb(e,f,g,d)},j.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,f,g,h,i;return a=a%360/60,i=2*b*(.5>c?c:1-c),h=i*(1-G(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],pb(e,f,g,d)},j.rgb2hsb=function(a,b,c){c=ob(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=E(a,b,c),g=f-F(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=60*((d+360)%6)/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:lb}},j.rgb2hsl=function(a,b,c){c=ob(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=E(a,b,c),h=F(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=60*((d+360)%6)/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:mb}},j._path2string=function(){return this.join(",").replace(Y,"$1")},j._preload=function(a,b){var c=q.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em",c.onload=function(){b.call(this),this.onload=null,q.doc.body.removeChild(this)},c.onerror=function(){q.doc.body.removeChild(this)},q.doc.body.appendChild(c),c.src=a},j.getRGB=h(function(a){if(!a||(a=y(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:g};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:g};!X[p](a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=kb(a));var b,c,d,e,f,h,i=a.match(N);return i?(i[2]&&(d=S(i[2].substring(5),16),c=S(i[2].substring(3,5),16),b=S(i[2].substring(1,3),16)),i[3]&&(d=S((f=i[3].charAt(3))+f,16),c=S((f=i[3].charAt(2))+f,16),b=S((f=i[3].charAt(1))+f,16)),i[4]&&(h=i[4][z](W),b=R(h[0]),"%"==h[0].slice(-1)&&(b*=2.55),c=R(h[1]),"%"==h[1].slice(-1)&&(c*=2.55),d=R(h[2]),"%"==h[2].slice(-1)&&(d*=2.55),"rgba"==i[1].toLowerCase().slice(0,4)&&(e=R(h[3])),h[3]&&"%"==h[3].slice(-1)&&(e/=100)),i[5]?(h=i[5][z](W),b=R(h[0]),"%"==h[0].slice(-1)&&(b*=2.55),c=R(h[1]),"%"==h[1].slice(-1)&&(c*=2.55),d=R(h[2]),"%"==h[2].slice(-1)&&(d*=2.55),("deg"==h[0].slice(-3)||"°"==h[0].slice(-1))&&(b/=360),"hsba"==i[1].toLowerCase().slice(0,4)&&(e=R(h[3])),h[3]&&"%"==h[3].slice(-1)&&(e/=100),j.hsb2rgb(b,c,d,e)):i[6]?(h=i[6][z](W),b=R(h[0]),"%"==h[0].slice(-1)&&(b*=2.55),c=R(h[1]),"%"==h[1].slice(-1)&&(c*=2.55),d=R(h[2]),"%"==h[2].slice(-1)&&(d*=2.55),("deg"==h[0].slice(-3)||"°"==h[0].slice(-1))&&(b/=360),"hsla"==i[1].toLowerCase().slice(0,4)&&(e=R(h[3])),h[3]&&"%"==h[3].slice(-1)&&(e/=100),j.hsl2rgb(b,c,d,e)):(i={r:b,g:c,b:d,toString:g},i.hex="#"+(16777216|d|c<<8|b<<16).toString(16).slice(1),j.is(e,"finite")&&(i.opacity=e),i)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:g}},j),j.hsb=h(function(a,b,c){return j.hsb2rgb(a,b,c).hex}),j.hsl=h(function(a,b,c){return j.hsl2rgb(a,b,c).hex}),j.rgb=h(function(a,b,c){return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)}),j.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b})),c.hex},j.getColor.reset=function(){delete this.start},j.parsePathString=h(function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},c=[];return j.is(a,L)&&j.is(a[0],L)&&(c=rb(a)),c.length||y(a).replace(Z,function(a,d,e){var f=[],g=d.toLowerCase();if(e.replace(_,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(c.push([d][u](f.splice(0,2))),g="l",d="m"==d?"l":"L"),"r"==g)c.push([d][u](f));else for(;f.length>=b[g]&&(c.push([d][u](f.splice(0,b[g]))),b[g]););}),c.toString=j._path2string,c}),j.parseTransformString=h(function(a){if(!a)return null;var b=[];return j.is(a,L)&&j.is(a[0],L)&&(b=rb(a)),b.length||y(a).replace($,function(a,c,d){var e=[];C.call(c),d.replace(_,function(a,b){b&&e.push(+b)}),b.push([c][u](e))}),b.toString=j._path2string,b}),j.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=H(j,3),l=H(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*D.atan2(q-s,r-t)/I;return(q>s||t>r)&&(y+=180),{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}},j._removedFactory=function(a){return function(){throw new Error("Raphaël: you are calling to method “"+a+"” of removed object")}};var qb=h(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=zb(a);for(var b,c=0,d=0,e=[],f=[],g=0,h=a.length;h>g;g++)if(b=a[g],"M"==b[0])c=b[1],d=b[2],e.push(c),f.push(d);else{var i=yb(c,d,b[1],b[2],b[3],b[4],b[5],b[6]);e=e[u](i.min.x,i.max.x),f=f[u](i.min.y,i.max.y),c=b[5],d=b[6]}var j=F[t](0,e),k=F[t](0,f);return{x:j,y:k,width:E[t](0,e)-j,height:E[t](0,f)-k}},null,function(a){return{x:a.x,y:a.y,width:a.width,height:a.height}}),rb=function(a){var b=[];j.is(a,L)&&j.is(a&&a[0],L)||(a=j.parsePathString(a));for(var c=0,d=a.length;d>c;c++){b[c]=[];for(var e=0,f=a[c].length;f>e;e++)b[c][e]=a[c][e]}return b.toString=j._path2string,b},sb=j._pathToRelative=h(function(a){j.is(a,L)&&j.is(a&&a[0],L)||(a=j.parsePathString(a));var b=[],c=0,d=0,e=0,f=0,g=0;"M"==a[0][0]&&(c=a[0][1],d=a[0][2],e=c,f=d,g++,b.push(["M",c,d]));for(var h=g,i=a.length;i>h;h++){var k=b[h]=[],l=a[h];if(l[0]!=C.call(l[0]))switch(k[0]=C.call(l[0]),k[0]){case"a":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]-c).toFixed(3),k[7]=+(l[7]-d).toFixed(3);break;case"v":k[1]=+(l[1]-d).toFixed(3);break;case"m":e=l[1],f=l[2];default:for(var m=1,n=l.length;n>m;m++)k[m]=+(l[m]-(m%2?c:d)).toFixed(3)}else{k=b[h]=[],"m"==l[0]&&(e=l[1]+c,f=l[2]+d);for(var o=0,p=l.length;p>o;o++)b[h][o]=l[o]}var q=b[h].length;switch(b[h][0]){case"z":c=e,d=f;break;case"h":c+=+b[h][q-1];break;case"v":d+=+b[h][q-1];break;default:c+=+b[h][q-2],d+=+b[h][q-1]}}return b.toString=j._path2string,b},0,rb),tb=j._pathToAbsolute=h(function(a){if(j.is(a,L)&&j.is(a&&a[0],L)||(a=j.parsePathString(a)),!a||!a.length)return[["M",0,0]];var b=[],c=0,d=0,e=0,g=0,h=0;"M"==a[0][0]&&(c=+a[0][1],d=+a[0][2],e=c,g=d,h++,b[0]=["M",c,d]);for(var i,k,l=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),m=h,n=a.length;n>m;m++){if(b.push(i=[]),k=a[m],k[0]!=T.call(k[0]))switch(i[0]=T.call(k[0]),i[0]){case"A":i[1]=k[1],i[2]=k[2],i[3]=k[3],i[4]=k[4],i[5]=k[5],i[6]=+(k[6]+c),i[7]=+(k[7]+d);break;case"V":i[1]=+k[1]+d;break;case"H":i[1]=+k[1]+c;break;case"R":for(var o=[c,d][u](k.slice(1)),p=2,q=o.length;q>p;p++)o[p]=+o[p]+c,o[++p]=+o[p]+d;b.pop(),b=b[u](f(o,l));break;case"M":e=+k[1]+c,g=+k[2]+d;default:for(p=1,q=k.length;q>p;p++)i[p]=+k[p]+(p%2?c:d)}else if("R"==k[0])o=[c,d][u](k.slice(1)),b.pop(),b=b[u](f(o,l)),i=["R"][u](k.slice(-2));else for(var r=0,s=k.length;s>r;r++)i[r]=k[r];switch(i[0]){case"Z":c=e,d=g;break;case"H":c=i[1];break;case"V":d=i[1];break;case"M":e=i[i.length-2],g=i[i.length-1];default:c=i[i.length-2],d=i[i.length-1]}}return b.toString=j._path2string,b},null,rb),ub=function(a,b,c,d){return[a,b,c,d,c,d]},vb=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},wb=function(a,b,c,d,e,f,g,i,j,k){var l,m=120*I/180,n=I/180*(+e||0),o=[],p=h(function(a,b,c){var d=a*D.cos(c)-b*D.sin(c),e=a*D.sin(c)+b*D.cos(c);return{x:d,y:e}});if(k)A=k[0],B=k[1],x=k[2],y=k[3];else{l=p(a,b,-n),a=l.x,b=l.y,l=p(i,j,-n),i=l.x,j=l.y;var q=(D.cos(I/180*e),D.sin(I/180*e),(a-i)/2),r=(b-j)/2,s=q*q/(c*c)+r*r/(d*d);s>1&&(s=D.sqrt(s),c=s*c,d=s*d);var t=c*c,v=d*d,w=(f==g?-1:1)*D.sqrt(G((t*v-t*r*r-v*q*q)/(t*r*r+v*q*q))),x=w*c*r/d+(a+i)/2,y=w*-d*q/c+(b+j)/2,A=D.asin(((b-y)/d).toFixed(9)),B=D.asin(((j-y)/d).toFixed(9));A=x>a?I-A:A,B=x>i?I-B:B,0>A&&(A=2*I+A),0>B&&(B=2*I+B),g&&A>B&&(A-=2*I),!g&&B>A&&(B-=2*I)}var C=B-A;if(G(C)>m){var E=B,F=i,H=j;B=A+m*(g&&B>A?1:-1),i=x+c*D.cos(B),j=y+d*D.sin(B),o=wb(i,j,c,d,e,0,g,F,H,[B,E,x,y])}C=B-A;var J=D.cos(A),K=D.sin(A),L=D.cos(B),M=D.sin(B),N=D.tan(C/4),O=4/3*c*N,P=4/3*d*N,Q=[a,b],R=[a+O*K,b-P*J],S=[i+O*M,j-P*L],T=[i,j];if(R[0]=2*Q[0]-R[0],R[1]=2*Q[1]-R[1],k)return[R,S,T][u](o);o=[R,S,T][u](o).join()[z](",");for(var U=[],V=0,W=o.length;W>V;V++)U[V]=V%2?p(o[V-1],o[V],n).y:p(o[V],o[V+1],n).x;return U},xb=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:H(j,3)*a+3*H(j,2)*i*c+3*j*i*i*e+H(i,3)*g,y:H(j,3)*b+3*H(j,2)*i*d+3*j*i*i*f+H(i,3)*h}},yb=h(function(a,b,c,d,e,f,g,h){var i,j=e-2*c+a-(g-2*e+c),k=2*(c-a)-2*(e-c),l=a-c,m=(-k+D.sqrt(k*k-4*j*l))/2/j,n=(-k-D.sqrt(k*k-4*j*l))/2/j,o=[b,h],p=[a,g];return G(m)>"1e12"&&(m=.5),G(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=xb(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=xb(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),j=f-2*d+b-(h-2*f+d),k=2*(d-b)-2*(f-d),l=b-d,m=(-k+D.sqrt(k*k-4*j*l))/2/j,n=(-k-D.sqrt(k*k-4*j*l))/2/j,G(m)>"1e12"&&(m=.5),G(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=xb(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=xb(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),{min:{x:F[t](0,p),y:F[t](0,o)},max:{x:E[t](0,p),y:E[t](0,o)}}}),zb=j._path2curve=h(function(a,b){for(var c=tb(a),d=b&&tb(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=(function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][u](wb[t](0,[b.x,b.y][u](a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d][u](a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"][u](vb(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][u](vb(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][u](ub(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][u](ub(b.x,b.y,a[1],b.y));break;case"V":a=["C"][u](ub(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][u](ub(b.x,b.y,b.X,b.Y))}return a}),h=function(a,b){if(a[b].length>7){a[b].shift();for(var e=a[b];e.length;)a.splice(b++,0,["C"][u](e.splice(0,6)));a.splice(b,1),k=E(c.length,d&&d.length||0)}},i=function(a,b,e,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),e.bx=0,e.by=0,e.x=a[g][1],e.y=a[g][2],k=E(c.length,d&&d.length||0))},j=0,k=E(c.length,d&&d.length||0);k>j;j++){c[j]=g(c[j],e),h(c,j),d&&(d[j]=g(d[j],f)),d&&h(d,j),i(c,d,e,f,j),i(d,c,f,e,j);var l=c[j],m=d&&d[j],n=l.length,o=d&&m.length;e.x=l[n-2],e.y=l[n-1],e.bx=R(l[n-4])||e.x,e.by=R(l[n-3])||e.y,f.bx=d&&(R(m[o-4])||f.x),f.by=d&&(R(m[o-3])||f.y),f.x=d&&m[o-2],f.y=d&&m[o-1]}return d?[c,d]:c},null,rb),Ab=(j._parseDots=h(function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e={},f=a[c].match(/^([^:]*):?([\d\.]*)/);if(e.color=j.getRGB(f[1]),e.color.error)return null;e.color=e.color.hex,f[2]&&(e.offset=f[2]+"%"),b.push(e)}for(c=1,d=b.length-1;d>c;c++)if(!b[c].offset){for(var g=R(b[c-1].offset||0),h=0,i=c+1;d>i;i++)if(b[i].offset){h=b[i].offset;break}h||(h=100,i=d),h=R(h);for(var k=(h-g)/(i-c+1);i>c;c++)g+=k,b[c].offset=g+"%"}return b}),j._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)}),Bb=(j._tofront=function(a,b){b.top!==a&&(Ab(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},j._toback=function(a,b){b.bottom!==a&&(Ab(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},j._insertafter=function(a,b,c){Ab(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},j._insertbefore=function(a,b,c){Ab(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},j._extractTransform=function(a,b){if(null==b)return a._.transform;b=y(b).replace(/\.{3}|\u2026/g,a._.transform||w);var c=j.parseTransformString(b),d=0,f=0,g=0,h=1,i=1,k=a._,l=new e;if(k.transform=c||[],c)for(var m=0,n=c.length;n>m;m++){var o,p,q,r,s,t=c[m],u=t.length,v=y(t[0]).toLowerCase(),x=t[0]!=v,z=x?l.invert():0;"t"==v&&3==u?x?(o=z.x(0,0),p=z.y(0,0),q=z.x(t[1],t[2]),r=z.y(t[1],t[2]),l.translate(q-o,r-p)):l.translate(t[1],t[2]):"r"==v?2==u?(s=s||a.getBBox(1),l.rotate(t[1],s.x+s.width/2,s.y+s.height/2),d+=t[1]):4==u&&(x?(q=z.x(t[2],t[3]),r=z.y(t[2],t[3]),l.rotate(t[1],q,r)):l.rotate(t[1],t[2],t[3]),d+=t[1]):"s"==v?2==u||3==u?(s=s||a.getBBox(1),l.scale(t[1],t[u-1],s.x+s.width/2,s.y+s.height/2),h*=t[1],i*=t[u-1]):5==u&&(x?(q=z.x(t[3],t[4]),r=z.y(t[3],t[4]),l.scale(t[1],t[2],q,r)):l.scale(t[1],t[2],t[3],t[4]),h*=t[1],i*=t[2]):"m"==v&&7==u&&l.add(t[1],t[2],t[3],t[4],t[5],t[6]),k.dirtyT=1,a.matrix=l}a.matrix=l,k.sx=h,k.sy=i,k.deg=d,k.dx=f=l.e,k.dy=g=l.f,1==h&&1==i&&!d&&k.bbox?(k.bbox.x+=+f,k.bbox.y+=+g):k.dirtyT=1}),Cb=function(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},Db=j._equaliseTransform=function(a,b){b=y(b).replace(/\.{3}|\u2026/g,a),a=j.parseTransformString(a)||[],b=j.parseTransformString(b)||[];for(var c,d,e,f,g=E(a.length,b.length),h=[],i=[],k=0;g>k;k++){if(e=a[k]||Cb(b[k]),f=b[k]||Cb(e),e[0]!=f[0]||"r"==e[0].toLowerCase()&&(e[2]!=f[2]||e[3]!=f[3])||"s"==e[0].toLowerCase()&&(e[3]!=f[3]||e[4]!=f[4]))return;for(h[k]=[],i[k]=[],c=0,d=E(e.length,f.length);d>c;c++)c in e&&(h[k][c]=e[c]),c in f&&(i[k][c]=f[c])}return{from:h,to:i}};j._getContainer=function(a,b,c,d){var e;return e=null!=d||j.is(a,"object")?a:q.doc.getElementById(a),null!=e?e.tagName?null==b?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:b,height:c}:{container:1,x:a,y:b,width:c,height:d}:void 0},j.pathToRelative=sb,j._engine={},j.path2curve=zb,j.matrix=function(a,b,c,d,f,g){return new e(a,b,c,d,f,g)},function(a){function b(a){var b=D.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}function c(a){return a[0]*a[0]+a[1]*a[1]}a.add=function(a,b,c,d,f,g){var h,i,j,k,l=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[a,c,f],[b,d,g],[0,0,1]];for(a&&a instanceof e&&(n=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),h=0;3>h;h++)for(i=0;3>i;i++){for(k=0,j=0;3>j;j++)k+=m[h][j]*n[j][i];l[h][i]=k}this.a=l[0][0],this.b=l[1][0],this.c=l[0][1],this.d=l[1][1],this.e=l[0][2],this.f=l[1][2]},a.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new e(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},a.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},a.translate=function(a,b){this.add(1,0,0,1,a,b)},a.scale=function(a,b,c,d){null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},a.rotate=function(a,b,c){a=j.rad(a),b=b||0,c=c||0;var d=+D.cos(a).toFixed(9),e=+D.sin(a).toFixed(9);this.add(d,e,-e,d,b,c),this.add(1,0,0,1,-b,-c)},a.x=function(a,b){return a*this.a+b*this.c+this.e},a.y=function(a,b){return a*this.b+b*this.d+this.f},a.get=function(a){return+this[y.fromCharCode(97+a)].toFixed(4)},a.toString=function(){return j.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},a.split=function(){var a={};a.dx=this.e,a.dy=this.f;var d=[[this.a,this.c],[this.b,this.d]];a.scalex=D.sqrt(c(d[0])),b(d[0]),a.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1],d[1]=[d[1][0]-d[0][0]*a.shear,d[1][1]-d[0][1]*a.shear],a.scaley=D.sqrt(c(d[1])),b(d[1]),a.shear/=a.scaley;var e=-d[0][1],f=d[1][1];return 0>f?(a.rotate=j.deg(D.acos(f)),0>e&&(a.rotate=360-a.rotate)):a.rotate=j.deg(D.asin(e)),a.isSimple=!(+a.shear.toFixed(9)||a.scalex.toFixed(9)!=a.scaley.toFixed(9)&&a.rotate),a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate,a.noRotation=!+a.shear.toFixed(9)&&!a.rotate,a},a.toTransformString=function(a){var b=a||this[z]();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[b.dx,b.dy]:w)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:w)+(b.rotate?"r"+[b.rotate,0,0]:w)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(e.prototype);var Eb=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);l.safari="Apple Computer, Inc."==navigator.vendor&&(Eb&&Eb[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Eb&&Eb[1]<8?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:cb;for(var Fb=function(){this.returnValue=!1},Gb=function(){return this.originalEvent.preventDefault()},Hb=function(){this.cancelBubble=!0},Ib=function(){return this.originalEvent.stopPropagation()},Jb=function(){return q.doc.addEventListener?function(a,b,c,d){var e=v&&B[b]?B[b]:b,f=function(e){var f=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,g=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft,h=e.clientX+g,i=e.clientY+f;if(v&&B[p](b))for(var j=0,k=e.targetTouches&&e.targetTouches.length;k>j;j++)if(e.targetTouches[j].target==a){var l=e;e=e.targetTouches[j],e.originalEvent=l,e.preventDefault=Gb,e.stopPropagation=Ib;break}return c.call(d,e,h,i)};return a.addEventListener(e,f,!1),function(){return a.removeEventListener(e,f,!1),!0}}:q.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||q.win.event;var b=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,e=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||Fb,a.stopPropagation=a.stopPropagation||Hb,c.call(d,a,f,g)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}:void 0}(),Kb=[],Lb=function(a){for(var b,c=a.clientX,d=a.clientY,e=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,f=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft,g=Kb.length;g--;){if(b=Kb[g],v){for(var h,i=a.touches.length;i--;)if(h=a.touches[i],h.identifier==b.el._drag.id){c=h.clientX,d=h.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var j,k=b.el.node,l=k.nextSibling,m=k.parentNode,n=k.style.display;q.win.opera&&m.removeChild(k),k.style.display="none",j=b.el.paper.getElementByPoint(c,d),k.style.display=n,q.win.opera&&(l?m.insertBefore(k,l):m.appendChild(k)),j&&eve("drag.over."+b.el.id,b.el,j),c+=f,d+=e,eve("drag.move."+b.el.id,b.move_scope||b.el,c-b.el._drag.x,d-b.el._drag.y,c,d,a)}},Mb=function(a){j.unmousemove(Lb).unmouseup(Mb);for(var b,c=Kb.length;c--;)b=Kb[c],b.el._drag={},eve("drag.end."+b.el.id,b.end_scope||b.start_scope||b.move_scope||b.el,a);Kb=[]},Nb=j.el={},Ob=A.length;Ob--;)!function(a){j[a]=Nb[a]=function(b,c){return j.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,f:b,unbind:Jb(this.shape||this.node||q.doc,a,b,c||this)})),this},j["un"+a]=Nb["un"+a]=function(b){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==a&&c[d].f==b)return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}}(A[Ob]);Nb.data=function(a,b){var c=ab[this.id]=ab[this.id]||{};if(1==arguments.length){if(j.is(a,"object")){for(var d in a)a[p](d)&&this.data(d,a[d]);return this}return eve("data.get."+this.id,this,c[a],a),c[a]}return c[a]=b,eve("data.set."+this.id,this,b,a),this},Nb.removeData=function(a){return null==a?ab[this.id]={}:ab[this.id]&&delete ab[this.id][a],this},Nb.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},Nb.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var Pb=[];Nb.drag=function(a,b,c,d,e,f){function g(g){(g.originalEvent||g).preventDefault();var h=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,i=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft;this._drag.x=g.clientX+i,this._drag.y=g.clientY+h,this._drag.id=g.identifier,!Kb.length&&j.mousemove(Lb).mouseup(Mb),Kb.push({el:this,move_scope:d,start_scope:e,end_scope:f}),b&&eve.on("drag.start."+this.id,b),a&&eve.on("drag.move."+this.id,a),c&&eve.on("drag.end."+this.id,c),eve("drag.start."+this.id,e||d||this,g.clientX+i,g.clientY+h,g)}return this._drag={},Pb.push({el:this,start:g}),this.mousedown(g),this},Nb.onDragOver=function(a){a?eve.on("drag.over."+this.id,a):eve.unbind("drag.over."+this.id)},Nb.undrag=function(){for(var a=Pb.length;a--;)Pb[a].el==this&&(this.unmousedown(Pb[a].start),Pb.splice(a,1),eve.unbind("drag.*."+this.id));!Pb.length&&j.unmousemove(Lb).unmouseup(Mb)},l.circle=function(a,b,c){var d=j._engine.circle(this,a||0,b||0,c||0);return this.__set__&&this.__set__.push(d),d},l.rect=function(a,b,c,d,e){var f=j._engine.rect(this,a||0,b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},l.ellipse=function(a,b,c,d){var e=j._engine.ellipse(this,a||0,b||0,c||0,d||0);return this.__set__&&this.__set__.push(e),e},l.path=function(a){a&&!j.is(a,K)&&!j.is(a[0],L)&&(a+=w);var b=j._engine.path(j.format[t](j,arguments),this);return this.__set__&&this.__set__.push(b),b},l.image=function(a,b,c,d,e){var f=j._engine.image(this,a||"about:blank",b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},l.text=function(a,b,c){var d=j._engine.text(this,a||0,b||0,y(c));return this.__set__&&this.__set__.push(d),d},l.set=function(a){!j.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var b=new ac(a);return this.__set__&&this.__set__.push(b),b},l.setStart=function(a){this.__set__=a||this.set()},l.setFinish=function(){var a=this.__set__;return delete this.__set__,a},l.setSize=function(a,b){return j._engine.setSize.call(this,a,b)},l.setViewBox=function(a,b,c,d,e){return j._engine.setViewBox.call(this,a,b,c,d,e)},l.top=l.bottom=null,l.raphael=j;var Qb=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,h=b.top+(q.win.pageYOffset||e.scrollTop||d.scrollTop)-f,i=b.left+(q.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g;return{y:h,x:i}};l.getElementByPoint=function(a,b){var c=this,d=c.canvas,e=q.doc.elementFromPoint(a,b);if(q.win.opera&&"svg"==e.tagName){var f=Qb(d),g=d.createSVGRect();g.x=a-f.x,g.y=b-f.y,g.width=g.height=1;var h=d.getIntersectionList(g,null);h.length&&(e=h[h.length-1])}if(!e)return null;for(;e.parentNode&&e!=d.parentNode&&!e.raphael;)e=e.parentNode;return e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null},l.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null},l.forEach=function(a,b){for(var c=this.bottom;c;){if(a.call(b,c)===!1)return this;c=c.next}return this},Nb.getBBox=function(a){if(this.removed)return{};var b=this._;return a?((b.dirty||!b.bboxwt)&&(this.realPath=gb[this.type](this),b.bboxwt=qb(this.realPath),b.bboxwt.toString=d,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=gb[this.type](this)),b.bbox=qb(hb(this.realPath,this.matrix)),b.bbox.toString=d,b.dirty=b.dirtyT=0),b.bbox)},Nb.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a},Nb.glow=function(a){if("text"==this.type)return null;a=a||{};var b={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||!1,opacity:a.opacity||.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||gb[this.type](this);f=this.matrix?hb(f,this.matrix):f;for(var g=1;c+1>g;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)};var Rb={},Sb=function(a,b,c,d,e,f,g,h,i){var k,l,m=0,n=100,o=[a,b,c,d,e,f,g,h].join(),p=Rb[o];if(!p&&(Rb[o]=p={data:[]}),p.timer&&clearTimeout(p.timer),p.timer=setTimeout(function(){delete Rb[o]},2e3),null!=i&&!p.precision){var q=Sb(a,b,c,d,e,f,g,h);p.precision=10*~~q,p.data=[]}n=p.precision||n;for(var r=0;n+1>r;r++){if(p.data[r*n]?l=p.data[r*n]:(l=j.findDotsAtSegment(a,b,c,d,e,f,g,h,r/n),p.data[r*n]=l),r&&(m+=H(H(k.x-l.x,2)+H(k.y-l.y,2),.5)),null!=i&&m>=i)return l;k=l}return null==i?m:void 0},Tb=function(a,b){return function(c,d,e){c=zb(c);for(var f,g,h,i,k,l="",m={},n=0,o=0,p=c.length;p>o;o++){if(h=c[o],"M"==h[0])f=+h[1],g=+h[2];else{if(i=Sb(f,g,h[1],h[2],h[3],h[4],h[5],h[6]),n+i>d){if(b&&!m.start){if(k=Sb(f,g,h[1],h[2],h[3],h[4],h[5],h[6],d-n),l+=["C"+k.start.x,k.start.y,k.m.x,k.m.y,k.x,k.y],e)return l;m.start=l,l=["M"+k.x,k.y+"C"+k.n.x,k.n.y,k.end.x,k.end.y,h[5],h[6]].join(),n+=i,f=+h[5],g=+h[6];continue}if(!a&&!b)return k=Sb(f,g,h[1],h[2],h[3],h[4],h[5],h[6],d-n),{x:k.x,y:k.y,alpha:k.alpha}}n+=i,f=+h[5],g=+h[6]}l+=h.shift()+h}return m.end=l,k=a?n:b?m:j.findDotsAtSegment(f,g,h[0],h[1],h[2],h[3],h[4],h[5],1),k.alpha&&(k={x:k.x,y:k.y,alpha:k.alpha}),k}},Ub=Tb(1),Vb=Tb(),Wb=Tb(0,1);j.getTotalLength=Ub,j.getPointAtLength=Vb,j.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return Wb(a,b).end;var d=Wb(a,c,1);return b?Wb(d,b).end:d},Nb.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():Ub(this.attrs.path):void 0},Nb.getPointAtLength=function(a){return"path"==this.type?Vb(this.attrs.path,a):void 0},Nb.getSubpath=function(a,b){return"path"==this.type?j.getSubpath(this.attrs.path,a,b):void 0};var Xb=j.easing_formulas={linear:function(a){return a},"<":function(a){return H(a,1.7)},">":function(a){return H(a,.48)},"<>":function(a){var b=.48-a/1.04,c=D.sqrt(.1734+b*b),d=c-b,e=H(G(d),1/3)*(0>d?-1:1),f=-c-b,g=H(G(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){return a==!!a?a:H(2,-10*a)*D.sin(2*(a-.075)*I/.3)+1},bounce:function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b}};Xb.easeIn=Xb["ease-in"]=Xb["<"],Xb.easeOut=Xb["ease-out"]=Xb[">"],Xb.easeInOut=Xb["ease-in-out"]=Xb["<>"],Xb["back-in"]=Xb.backIn,Xb["back-out"]=Xb.backOut;var Yb=[],Zb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},$b=function(){for(var b=+new Date,c=0;c<Yb.length;c++){var d=Yb[c];if(!d.el.removed&&!d.paused){var e,f,g=b-d.start,h=d.ms,i=d.easing,k=d.from,l=d.diff,m=d.to,n=(d.t,d.el),o={},q={};if(d.initstatus?(g=(d.initstatus*d.anim.top-d.prev)/(d.percent-d.prev)*h,d.status=d.initstatus,delete d.initstatus,d.stop&&Yb.splice(c--,1)):d.status=(d.prev+(d.percent-d.prev)*(g/h))/d.anim.top,!(0>g))if(h>g){var r=i(g/h);for(var s in k)if(k[p](s)){switch(V[s]){case J:e=+k[s]+r*h*l[s];break;case"colour":e="rgb("+[_b(Q(k[s].r+r*h*l[s].r)),_b(Q(k[s].g+r*h*l[s].g)),_b(Q(k[s].b+r*h*l[s].b))].join(",")+")";break;case"path":e=[];for(var t=0,v=k[s].length;v>t;t++){e[t]=[k[s][t][0]];for(var w=1,y=k[s][t].length;y>w;w++)e[t][w]=+k[s][t][w]+r*h*l[s][t][w];e[t]=e[t].join(x)}e=e.join(x);break;case"transform":if(l[s].real)for(e=[],t=0,v=k[s].length;v>t;t++)for(e[t]=[k[s][t][0]],w=1,y=k[s][t].length;y>w;w++)e[t][w]=k[s][t][w]+r*h*l[s][t][w];else{var z=function(a){return+k[s][a]+r*h*l[s][a]};e=[["m",z(0),z(1),z(2),z(3),z(4),z(5)]]}break;case"csv":if("clip-rect"==s)for(e=[],t=4;t--;)e[t]=+k[s][t]+r*h*l[s][t];break;default:var A=[][u](k[s]);for(e=[],t=n.paper.customAttributes[s].length;t--;)e[t]=+A[t]+r*h*l[s][t]}o[s]=e}n.attr(o),function(a,b,c){setTimeout(function(){eve("anim.frame."+a,b,c)})}(n.id,n,d.anim)}else{if(function(a,b,c){setTimeout(function(){eve("anim.frame."+b.id,b,c),eve("anim.finish."+b.id,b,c),j.is(a,"function")&&a.call(b)})}(d.callback,n,d.anim),n.attr(m),Yb.splice(c--,1),d.repeat>1&&!d.next){for(f in m)m[p](f)&&(q[f]=d.totalOrigin[f]);d.el.attr(q),a(d.anim,d.el,d.anim.percents[0],null,d.totalOrigin,d.repeat-1)}d.next&&!d.stop&&a(d.anim,d.el,d.next,null,d.totalOrigin,d.repeat)}}}j.svg&&n&&n.paper&&n.paper.safari(),Yb.length&&Zb($b)},_b=function(a){return a>255?255:0>a?0:a};Nb.animateWith=function(c,d,e,f,g,h){var i=this;if(i.removed)return h&&h.call(i),i;var k=e instanceof b?e:j.animation(e,f,g,h);a(k,i,k.percents[0],null,i.attr());for(var l=0,m=Yb.length;m>l;l++)if(Yb[l].anim==d&&Yb[l].el==c){Yb[m-1].start=Yb[l].start;break}return i},Nb.onAnimation=function(a){return a?eve.on("anim.frame."+this.id,a):eve.unbind("anim.frame."+this.id),this},b.prototype.delay=function(a){var c=new b(this.anim,this.ms);return c.times=this.times,c.del=+a||0,c},b.prototype.repeat=function(a){var c=new b(this.anim,this.ms);return c.del=this.del,c.times=D.floor(E(a,0))||1,c},j.animation=function(a,c,d,e){if(a instanceof b)return a;(j.is(d,"function")||!d)&&(e=e||d||null,d=null),a=Object(a),c=+c||0;
var f,g,h={};for(g in a)a[p](g)&&R(g)!=g&&R(g)+"%"!=g&&(f=!0,h[g]=a[g]);return f?(d&&(h.easing=d),e&&(h.callback=e),new b({100:h},c)):new b(a,c)},Nb.animate=function(c,d,e,f){var g=this;if(g.removed)return f&&f.call(g),g;var h=c instanceof b?c:j.animation(c,d,e,f);return a(h,g,h.percents[0],null,g.attr()),g},Nb.setTime=function(a,b){return a&&null!=b&&this.status(a,F(b,a.ms)/a.ms),this},Nb.status=function(b,c){var d,e,f=[],g=0;if(null!=c)return a(b,this,-1,F(c,1)),this;for(d=Yb.length;d>g;g++)if(e=Yb[g],e.el.id==this.id&&(!b||e.anim==b)){if(b)return e.status;f.push({anim:e.anim,status:e.status})}return b?0:f},Nb.pause=function(a){for(var b=0;b<Yb.length;b++)Yb[b].el.id==this.id&&(!a||Yb[b].anim==a)&&eve("anim.pause."+this.id,this,Yb[b].anim)!==!1&&(Yb[b].paused=!0);return this},Nb.resume=function(a){for(var b=0;b<Yb.length;b++)if(Yb[b].el.id==this.id&&(!a||Yb[b].anim==a)){var c=Yb[b];eve("anim.resume."+this.id,this,c.anim)!==!1&&(delete c.paused,this.status(c.anim,c.status))}return this},Nb.stop=function(a){for(var b=0;b<Yb.length;b++)Yb[b].el.id==this.id&&(!a||Yb[b].anim==a)&&eve("anim.stop."+this.id,this,Yb[b].anim)!==!1&&Yb.splice(b--,1);return this},Nb.toString=function(){return"Raphaël’s object"};var ac=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)a[b]&&(a[b].constructor==Nb.constructor||a[b].constructor==ac)&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},bc=ac.prototype;bc.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],a&&(a.constructor==Nb.constructor||a.constructor==ac)&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},bc.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},bc.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this};for(var cc in Nb)Nb[p](cc)&&(bc[cc]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][t](c,b)})}}(cc));bc.attr=function(a,b){if(a&&j.is(a,L)&&j.is(a[0],"object"))for(var c=0,d=a.length;d>c;c++)this.items[c].attr(a[c]);else for(var e=0,f=this.items.length;f>e;e++)this.items[e].attr(a,b);return this},bc.clear=function(){for(;this.length;)this.pop()},bc.splice=function(a,b){a=0>a?E(this.length+a,0):a,b=E(0,F(this.length-a,b));var c,d=[],e=[],f=[];for(c=2;c<arguments.length;c++)f.push(arguments[c]);for(c=0;b>c;c++)e.push(this[a+c]);for(;c<this.length-a;c++)d.push(this[a+c]);var g=f.length;for(c=0;c<g+d.length;c++)this.items[a+c]=this[a+c]=g>c?f[c]:d[c-g];for(c=this.items.length=this.length-=b-g;this[c];)delete this[c++];return new ac(e)},bc.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},bc.animate=function(a,b,c,d){(j.is(c,"function")||!c)&&(d=c||null);var e,f,g=this.items.length,h=g,i=this;if(!g)return this;d&&(f=function(){!--g&&d.call(i)}),c=j.is(c,K)?c:f;var k=j.animation(a,b,c,f);for(e=this.items[--h].animate(k);h--;)this.items[h]&&!this.items[h].removed&&this.items[h].animateWith(e,k,k);return this},bc.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},bc.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}return a=F[t](0,a),b=F[t](0,b),{x:a,y:b,width:E[t](0,c)-a,height:E[t](0,d)-b}},bc.clone=function(a){a=new ac;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},bc.toString=function(){return"Raphaël‘s set"},j.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[p](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=S(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[p](e)){var f=a.glyphs[e];if(b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},f.k)for(var g in f.k)f[p](g)&&(b.glyphs[e].k[g]=f.k[g])}}return a},l.getFont=function(a,b,c,d){if(d=d||"normal",c=c||"normal",b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400,j.fonts){var e=j.fonts[a];if(!e){var f=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,w)+"(\\s|$)","i");for(var g in j.fonts)if(j.fonts[p](g)&&f.test(g)){e=j.fonts[g];break}}var h;if(e)for(var i=0,k=e.length;k>i&&(h=e[i],h.face["font-weight"]!=b||h.face["font-style"]!=c&&h.face["font-style"]||h.face["font-stretch"]!=d);i++);return h}},l.print=function(a,b,c,d,e,f,g){f=f||"middle",g=E(F(g||0,1),-1);var h,i=this.set(),k=y(c)[z](w),l=0;if(j.is(d,c)&&(d=this.getFont(d)),d){h=(e||16)/d.face["units-per-em"];for(var n=d.face.bbox[z](m),o=+n[0],p=+n[1]+("baseline"==f?n[3]-n[1]+ +d.face.descent:(n[3]-n[1])/2),q=0,r=k.length;r>q;q++){var s=q&&d.glyphs[k[q-1]]||{},t=d.glyphs[k[q]];l+=q?(s.w||d.w)+(s.k&&s.k[k[q]]||0)+d.w*g:0,t&&t.d&&i.push(this.path(t.d).attr({fill:"#000",stroke:"none",transform:[["t",l*h,0]]}))}i.transform(["...s",h,h,o,p,"t",(a-o)/h,(b-p)/h])}return i},l.add=function(a){if(j.is(a,"array"))for(var b,c=this.set(),d=0,e=a.length;e>d;d++)b=a[d]||{},n[p](b.type)&&c.push(this[b.type]().attr(b));return c},j.format=function(a,b){var c=j.is(b,L)?[0][u](b):arguments;return a&&j.is(a,K)&&c.length-1&&(a=a.replace(o,function(a,b){return null==c[++b]?w:c[b]})),a||w},j.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),j.ninja=function(){return r.was?q.win.Raphael=r.is:delete Raphael,j},j.st=bc,function(a,b,c){function d(){/in/.test(a.readyState)?setTimeout(d,9):j.eve("DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(b,c=function(){a.removeEventListener(b,c,!1),a.readyState="complete"},!1),a.readyState="loading"),d()}(document,"DOMContentLoaded"),r.was?q.win.Raphael=j:Raphael=j,eve.on("DOMload",function(){k=!0})}(),window.Raphael.svg&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=a.eve,l="",m=" ",n="http://www.w3.org/1999/xlink",o={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};a.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var q=function(d,e){if(e){"string"==typeof d&&(d=q(d));for(var f in e)e[b](f)&&("xlink:"==f.substring(0,6)?d.setAttributeNS(n,f.substring(6),c(e[f])):d.setAttribute(f,c(e[f])))}else d=a._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},r=function(b,e){var j="linear",k=b.id+e,m=.5,n=.5,o=b.node,p=b.paper,r=o.style,s=a._g.doc.getElementById(k);if(!s){if(e=c(e).replace(a._radial_gradient,function(a,b,c){if(j="radial",b&&c){m=d(b),n=d(c);var e=2*(n>.5)-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&.5!=n&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\s*\-\s*/),"linear"==j){var t=e.shift();if(t=-d(t),isNaN(t))return null;var u=[0,0,f.cos(a.rad(t)),f.sin(a.rad(t))],v=1/(g(h(u[2]),h(u[3]))||1);u[2]*=v,u[3]*=v,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var w=a._parseDots(e);if(!w)return null;if(k=k.replace(/[\(\)\s,\xb0#]/g,"_"),b.gradient&&k!=b.gradient.id&&(p.defs.removeChild(b.gradient),delete b.gradient),!b.gradient){s=q(j+"Gradient",{id:k}),b.gradient=s,q(s,"radial"==j?{fx:m,fy:n}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:b.matrix.invert()}),p.defs.appendChild(s);for(var x=0,y=w.length;y>x;x++)s.appendChild(q("stop",{offset:w[x].offset?w[x].offset:x?"100%":"0%","stop-color":w[x].color||"#fff"}))}}return q(o,{fill:"url(#"+k+")",opacity:1,"fill-opacity":1}),r.fill=l,r.opacity=1,r.fillOpacity=1,1},s=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},t=function(d,e,f){if("path"==d.type){for(var g,h,i,j,k,m=c(e).toLowerCase().split("-"),n=d.paper,r=f?"end":"start",s=d.node,t=d.attrs,u=t["stroke-width"],v=m.length,w="classic",x=3,y=3,z=5;v--;)switch(m[v]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=m[v];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":x=5;break;case"short":x=2}if("open"==w?(x+=2,y+=2,z+=2,i=1,j=f?4:1,k={fill:"none",stroke:t.stroke}):(j=i=x/2,k={fill:t.stroke,stroke:"none"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={},"none"!=w){var A="raphael-marker-"+w,B="raphael-marker-"+r+w+x+y;a._g.doc.getElementById(A)?p[A]++:(n.defs.appendChild(q(q("path"),{"stroke-linecap":"round",d:o[w],id:A})),p[A]=1);var C,D=a._g.doc.getElementById(B);D?(p[B]++,C=D.getElementsByTagName("use")[0]):(D=q(q("marker"),{id:B,markerHeight:y,markerWidth:x,orient:"auto",refX:j,refY:y/2}),C=q(q("use"),{"xlink:href":"#"+A,transform:(f?"rotate(180 "+x/2+" "+y/2+") ":l)+"scale("+x/z+","+y/z+")","stroke-width":(1/((x/z+y/z)/2)).toFixed(4)}),D.appendChild(C),n.defs.appendChild(D),p[B]=1),q(C,k);var E=i*("diamond"!=w&&"oval"!=w);f?(g=d._.arrows.startdx*u||0,h=a.getTotalLength(t.path)-E*u):(g=E*u,h=a.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),k={},k["marker-"+r]="url(#"+B+")",(h||g)&&(k.d=Raphael.getSubpath(t.path,g,h)),q(s,k),d._.arrows[r+"Path"]=A,d._.arrows[r+"Marker"]=B,d._.arrows[r+"dx"]=E,d._.arrows[r+"Type"]=w,d._.arrows[r+"String"]=e}else f?(g=d._.arrows.startdx*u||0,h=a.getTotalLength(t.path)-g):(g=0,h=a.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),d._.arrows[r+"Path"]&&q(s,{d:Raphael.getSubpath(t.path,g,h)}),delete d._.arrows[r+"Path"],delete d._.arrows[r+"Marker"],delete d._.arrows[r+"dx"],delete d._.arrows[r+"Type"],delete d._.arrows[r+"String"];for(k in p)if(p[b](k)&&!p[k]){var F=a._g.doc.getElementById(k);F&&F.parentNode.removeChild(F)}}},u={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},v=function(a,b,d){if(b=u[c(b).toLowerCase()]){for(var e=a.attrs["stroke-width"]||"1",f={round:e,square:e,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],h=b.length;h--;)g[h]=b[h]*e+(h%2?1:-1)*f;q(a.node,{"stroke-dasharray":g.join(",")})}},w=function(d,f){var i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility="hidden";for(var o in f)if(f[b](o)){if(!a._availableAttrs[b](o))continue;var p=f[o];switch(k[o]=p,o){case"blur":d.blur(p);break;case"href":case"title":case"target":var u=i.parentNode;if("a"!=u.tagName.toLowerCase()){var w=q("a");u.insertBefore(w,i),w.appendChild(i),u=w}"target"==o?u.setAttributeNS(n,"show","blank"==p?"new":p):u.setAttributeNS(n,o,p);break;case"cursor":i.style.cursor=p;break;case"transform":d.transform(p);break;case"arrow-start":t(d,p);break;case"arrow-end":t(d,p,1);break;case"clip-rect":var x=c(p).split(j);if(4==x.length){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var z=q("clipPath"),A=q("rect");z.id=a.createUUID(),q(A,{x:x[0],y:x[1],width:x[2],height:x[3]}),z.appendChild(A),d.paper.defs.appendChild(z),q(i,{"clip-path":"url(#"+z.id+")"}),d.clip=A}if(!p){var B=i.getAttribute("clip-path");if(B){var C=a._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g,l));C&&C.parentNode.removeChild(C),q(i,{"clip-path":l}),delete d.clip}}break;case"path":"path"==d.type&&(q(i,{d:p?k.path=a._pathToAbsolute(p):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,p),d._.dirty=1,!k.fx)break;o="x",p=k.x;case"x":k.fx&&(p=-k.x-(k.width||0));case"rx":if("rx"==o&&"rect"==d.type)break;case"cx":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"height":if(i.setAttribute(o,p),d._.dirty=1,!k.fy)break;o="y",p=k.y;case"y":k.fy&&(p=-k.y-(k.height||0));case"ry":if("ry"==o&&"rect"==d.type)break;case"cy":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"r":"rect"==d.type?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case"src":"image"==d.type&&i.setAttributeNS(n,"href",p);break;case"stroke-width":(1!=d._.sx||1!=d._.sy)&&(p/=g(h(d._.sx),h(d._.sy))||1),d.paper._vbSize&&(p*=d.paper._vbSize),i.setAttribute(o,p),k["stroke-dasharray"]&&v(d,k["stroke-dasharray"],f),d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"stroke-dasharray":v(d,p,f);break;case"fill":var D=c(p).match(a._ISURL);if(D){z=q("pattern");var E=q("image");z.id=a.createUUID(),q(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),q(E,{x:0,y:0,"xlink:href":D[1]}),z.appendChild(E),function(b){a._preload(D[1],function(){var a=this.offsetWidth,c=this.offsetHeight;q(b,{width:a,height:c}),q(E,{width:a,height:c}),d.paper.safari()})}(z),d.paper.defs.appendChild(z),q(i,{fill:"url(#"+z.id+")"}),d.pattern=z,d.pattern&&s(d);break}var F=a.getRGB(p);if(F.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p)){if("opacity"in k||"fill-opacity"in k){var G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l));if(G){var H=G.getElementsByTagName("stop");q(H[H.length-1],{"stop-opacity":("opacity"in k?k.opacity:1)*("fill-opacity"in k?k["fill-opacity"]:1)})}}k.gradient=p,k.fill="none";break}}else delete f.gradient,delete k.gradient,!a.is(k.opacity,"undefined")&&a.is(f.opacity,"undefined")&&q(i,{opacity:k.opacity}),!a.is(k["fill-opacity"],"undefined")&&a.is(f["fill-opacity"],"undefined")&&q(i,{"fill-opacity":k["fill-opacity"]});F[b]("opacity")&&q(i,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=a.getRGB(p),i.setAttribute(o,F.hex),"stroke"==o&&F[b]("opacity")&&q(i,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==o&&d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"gradient":("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p);break;case"opacity":k.gradient&&!k[b]("stroke-opacity")&&q(i,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(k.gradient){G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),G&&(H=G.getElementsByTagName("stop"),q(H[H.length-1],{"stop-opacity":p}));break}default:"font-size"==o&&(p=e(p,10)+"px");var I=o.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()});i.style[I]=p,d._.dirty=1,i.setAttribute(o,p)}}y(d,f),i.style.visibility=m},x=1.2,y=function(d,f){if("text"==d.type&&(f[b]("text")||f[b]("font")||f[b]("font-size")||f[b]("x")||f[b]("y"))){var g=d.attrs,h=d.node,i=h.firstChild?e(a._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue("font-size"),10):10;if(f[b]("text")){for(g.text=f.text;h.firstChild;)h.removeChild(h.firstChild);for(var j,k=c(f.text).split("\n"),m=[],n=0,o=k.length;o>n;n++)j=q("tspan"),n&&q(j,{dy:i*x,x:g.x}),j.appendChild(a._g.doc.createTextNode(k[n])),h.appendChild(j),m[n]=j}else for(m=h.getElementsByTagName("tspan"),n=0,o=m.length;o>n;n++)n?q(m[n],{dy:i*x,x:g.x}):q(m[0],{dy:0});q(h,{x:g.x,y:g.y}),d._.dirty=1;var p=d._getBBox(),r=g.y-(p.y+p.height/2);r&&a.is(r,"finite")&&q(m[0],{dy:r})}},z=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.matrix=a.matrix(),this.realPath=null,this.paper=c,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},A=a.el;z.prototype=A,A.constructor=z,a._engine.path=function(a,b){var c=q("path");b.canvas&&b.canvas.appendChild(c);var d=new z(c,b);return d.type="path",w(d,{fill:"none",stroke:"#000",path:a}),d},A.rotate=function(a,b,e){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this.transform(this._.transform.concat([["r",a,b,e]])),this},A.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this},A.translate=function(a,b){return this.removed?this:(a=c(a).split(j),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this.transform(this._.transform.concat([["t",a,b]])),this)},A.transform=function(c){var d=this._;if(null==c)return d.transform;if(a._extractTransform(this,c),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&s(this),this.node&&q(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy){var e=this.attrs[b]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":e})}return this},A.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},A.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},A.remove=function(){if(!this.removed){var b=this.paper;b.__set__&&b.__set__.exclude(this),k.unbind("*.*."+this.id),this.gradient&&b.defs.removeChild(this.gradient),a._tear(this,b),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}return a&&this.hide(),b},A.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;for(var g=c.split(j),h={},i=0,l=g.length;l>i;i++)c=g[i],h[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return l-1?h:h[g[0]]}if(null==d&&a.is(c,"array")){for(h={},i=0,l=c.length;l>i;i++)h[c[i]]=this.attr(c[i]);return h}if(null!=d){var m={};m[c]=d}else null!=c&&a.is(c,"object")&&(m=c);for(var n in m)k("attr."+n+"."+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[b](n)&&m[b](n)&&a.is(this.paper.customAttributes[n],"function")){var o=this.paper.customAttributes[n].apply(this,[].concat(m[n]));this.attrs[n]=m[n];for(var p in o)o[b](p)&&(m[p]=o[p])}return w(this,m),this},A.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;return b.top!=this&&a._tofront(this,b),this},A.toBack=function(){if(this.removed)return this;var b=this.node.parentNode;return"a"==b.tagName.toLowerCase()?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper),this.paper,this},A.insertAfter=function(b){if(this.removed)return this;var c=b.node||b[b.length-1].node;return c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this},A.insertBefore=function(b){if(this.removed)return this;var c=b.node||b[0].node;return c.parentNode.insertBefore(this.node,c),a._insertbefore(this,b,this.paper),this},A.blur=function(b){var c=this;if(0!==+b){var d=q("filter"),e=q("feGaussianBlur");c.attrs.blur=b,d.id=a.createUUID(),q(e,{stdDeviation:+b||1.5}),d.appendChild(e),c.paper.defs.appendChild(d),c._blur=d,q(c.node,{filter:"url(#"+d.id+")"})}else c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute("filter")},a._engine.circle=function(a,b,c,d){var e=q("circle");a.canvas&&a.canvas.appendChild(e);var f=new z(e,a);return f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",q(e,f.attrs),f},a._engine.rect=function(a,b,c,d,e,f){var g=q("rect");a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",q(g,h.attrs),h},a._engine.ellipse=function(a,b,c,d,e){var f=q("ellipse");a.canvas&&a.canvas.appendChild(f);var g=new z(f,a);return g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",q(f,g.attrs),g},a._engine.image=function(a,b,c,d,e,f){var g=q("image");q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(n,"href",b),a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},a._engine.text=function(b,c,d,e){var f=q("text");b.canvas&&b.canvas.appendChild(f);var g=new z(f,b);return g.attrs={x:c,y:d,"text-anchor":"middle",text:e,font:a._availableAttrs.font,stroke:"none",fill:"#000"},g.type="text",w(g,g.attrs),g},a._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error("SVG container not found.");var h,i=q("svg"),j="overflow:hidden;";return d=d||0,e=e||0,f=f||512,g=g||342,q(i,{height:g,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),1==c?(i.style.cssText=j+"position:absolute;left:"+d+"px;top:"+e+"px",a._g.doc.body.appendChild(i),h=1):(i.style.cssText=j+"position:relative",c.firstChild?c.insertBefore(i,c.firstChild):c.appendChild(i)),c=new a._Paper,c.width=f,c.height=g,c.canvas=i,c.clear(),c._left=c._top=0,h&&(c.renderfix=function(){}),c.renderfix(),c},a._engine.setViewBox=function(a,b,c,d,e){k("setViewBox",this,this._viewBox,[a,b,c,d,e]);var f,h,i=g(c/this.width,d/this.height),j=this.top,l=e?"meet":"xMinYMin";for(null==a?(this._vbSize&&(i=1),delete this._vbSize,f="0 0 "+this.width+m+this.height):(this._vbSize=i,f=a+m+b+m+c+m+d),q(this.canvas,{viewBox:f,preserveAspectRatio:l});i&&j;)h="stroke-width"in j.attrs?j.attrs["stroke-width"]:1,j.attr({"stroke-width":h}),j._.dirty=1,j._.dirtyT=1,j=j.prev;return this._viewBox=[a,b,c,d,!!e],this},a.prototype.renderfix=function(){var a,b=this.canvas,c=b.style;try{a=b.getScreenCTM()||b.createSVGMatrix()}catch(d){a=b.createSVGMatrix()}var e=-a.e%1,f=-a.f%1;(e||f)&&(e&&(this._left=(this._left+e)%1,c.left=this._left+"px"),f&&(this._top=(this._top+f)%1,c.top=this._top+"px"))},a.prototype.clear=function(){a.eve("clear",this);for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);this.bottom=this.top=null,(this.desc=q("desc")).appendChild(a._g.doc.createTextNode("Created with Raphaël "+a.version)),b.appendChild(this.desc),b.appendChild(this.defs=q("defs"))},a.prototype.remove=function(){k("remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null};var B=a.st;for(var C in A)A[b](C)&&!B[b](C)&&(B[C]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(C))}(window.Raphael),window.Raphael.vml&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j="fill",k=/[, ]+/,l=a.eve,m=" progid:DXImageTransform.Microsoft",n=" ",o="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,s=/-?[^,\s-]+/g,t="position:absolute;left:0;top:0;width:1px;height:1px",u=21600,v={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(b){var d=/[ahqstv]/gi,e=a._pathToAbsolute;if(c(b).match(d)&&(e=a._path2curve),d=/[clmz]/g,e==a._pathToAbsolute&&!c(b).match(d)){var g=c(b).replace(q,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=p[b];return c.replace(s,function(a){e&&2==d.length&&(g+=d+p["m"==b?"l":"L"],d=[]),d.push(f(a*u))}),g+d});return g}var h,i,j=e(b);g=[];for(var k=0,l=j.length;l>k;k++){h=j[k],i=j[k][0].toLowerCase(),"z"==i&&(i="x");for(var m=1,r=h.length;r>m;m++)i+=f(h[m]*u)+(m!=r-1?",":o);g.push(i)}return g.join(n)},y=function(b,c,d){var e=a.matrix();return e.rotate(-b,.5,.5),{dx:e.x(c,d),dy:e.y(c,d)}},z=function(a,b,c,d,e,f){var g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p="",q=u/b,r=u/c;if(m.visibility="hidden",b&&c){if(l.coordsize=i(q)+n+i(r),m.rotation=f*(0>b*c?-1:1),f){var s=y(f,d,e);d=s.dx,e=s.dy}if(0>b&&(p+="x"),0>c&&(p+=" y")&&(o=-1),m.flip=p,l.coordorigin=d*-q+n+e*-r,k||g.fillsize){var t=l.getElementsByTagName(j);t=t&&t[0],l.removeChild(t),k&&(s=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),t.position=s.dx*o+n+s.dy*o),g.fillsize&&(t.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(t)}m.visibility="visible"}};a.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var A=function(a,b,d){for(var e=c(b).toLowerCase().split("-"),f=d?"end":"start",g=e.length,h="classic",i="medium",j="medium";g--;)switch(e[g]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":h=e[g];break;case"wide":case"narrow":j=e[g];break;case"long":case"short":i=e[g]}var k=a.node.getElementsByTagName("stroke")[0];k[f+"arrow"]=h,k[f+"arrowlength"]=i,k[f+"arrowwidth"]=j},B=function(e,i){e.attrs=e.attrs||{};var l=e.node,m=e.attrs,p=l.style,q=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),r=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),s=e;for(var t in i)i[b](t)&&(m[t]=i[t]);if(q&&(m.path=a._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||q)&&(l.path=x(~c(m.path).toLowerCase().indexOf("r")?a._pathToAbsolute(m.path):m.path),"image"==e.type&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0))),"transform"in i&&e.transform(i.transform),r){var y=+m.cx,B=+m.cy,D=+m.rx||+m.r||0,E=+m.ry||+m.r||0;l.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((y-D)*u),f((B-E)*u),f((y+D)*u),f((B+E)*u),f(y*u))}if("clip-rect"in i){var G=c(i["clip-rect"]).split(k);if(4==G.length){G[2]=+G[2]+ +G[0],G[3]=+G[3]+ +G[1];var H=l.clipRect||a._g.doc.createElement("div"),I=H.style;I.clip=a.format("rect({1}px {2}px {3}px {0}px)",G),l.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=e.paper.width+"px",I.height=e.paper.height+"px",l.parentNode.insertBefore(H,l),H.appendChild(l),l.clipRect=H)}i["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto")}if(e.textpath){var J=e.textpath.style;i.font&&(J.font=i.font),i["font-family"]&&(J.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,o)+'"'),i["font-size"]&&(J.fontSize=i["font-size"]),i["font-weight"]&&(J.fontWeight=i["font-weight"]),i["font-style"]&&(J.fontStyle=i["font-style"])}if("arrow-start"in i&&A(s,i["arrow-start"]),"arrow-end"in i&&A(s,i["arrow-end"],1),null!=i.opacity||null!=i["stroke-width"]||null!=i.fill||null!=i.src||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"]){var K=l.getElementsByTagName(j),L=!1;if(K=K&&K[0],!K&&(L=K=F(j)),"image"==e.type&&i.src&&(K.src=i.src),i.fill&&(K.on=!0),(null==K.on||"none"==i.fill||null===i.fill)&&(K.on=!1),K.on&&i.fill){var M=c(i.fill).match(a._ISURL);if(M){K.parentNode==l&&l.removeChild(K),K.rotate=!0,K.src=M[1],K.type="tile";var N=e.getBBox(1);K.position=N.x+n+N.y,e._.fillpos=[N.x,N.y],a._preload(M[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})}else K.color=a.getRGB(i.fill).hex,K.src=o,K.type="solid",a.getRGB(i.fill).error&&(s.type in{circle:1,ellipse:1}||"r"!=c(i.fill).charAt())&&C(s,i.fill,K)&&(m.fill="none",m.gradient=i.fill,K.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var O=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1);O=h(g(O,0),1),K.opacity=O,K.src&&(K.color="none")}l.appendChild(K);var P=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],Q=!1;!P&&(Q=P=F("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(P.on=!0),("none"==i.stroke||null===i.stroke||null==P.on||0==i.stroke||0==i["stroke-width"])&&(P.on=!1);var R=a.getRGB(i.stroke);P.on&&i.stroke&&(P.color=R.hex),O=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+R.o+1||2)-1);var S=.75*(d(i["stroke-width"])||1);if(O=h(g(O,0),1),null==i["stroke-width"]&&(S=m["stroke-width"]),i["stroke-width"]&&(P.weight=S),S&&1>S&&(O*=S)&&(P.weight=1),P.opacity=O,i["stroke-linejoin"]&&(P.joinstyle=i["stroke-linejoin"]||"miter"),P.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(P.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),i["stroke-dasharray"]){var T={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};P.dashstyle=T[b](i["stroke-dasharray"])?T[i["stroke-dasharray"]]:o}Q&&l.appendChild(P)}if("text"==s.type){s.paper.canvas.style.display=o;var U=s.paper.span,V=100,W=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);p=U.style,m.font&&(p.font=m.font),m["font-family"]&&(p.fontFamily=m["font-family"]),m["font-weight"]&&(p.fontWeight=m["font-weight"]),m["font-style"]&&(p.fontStyle=m["font-style"]),W=d(m["font-size"]||W&&W[0])||10,p.fontSize=W*V+"px",s.textpath.string&&(U.innerHTML=c(s.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=U.getBoundingClientRect();s.W=m.w=(X.right-X.left)/V,s.H=m.h=(X.bottom-X.top)/V,s.X=m.x,s.Y=m.y+s.H/2,("x"in i||"y"in i)&&(s.path.v=a.format("m{0},{1}l{2},{1}",f(m.x*u),f(m.y*u),f(m.x*u)+1));for(var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"],Z=0,$=Y.length;$>Z;Z++)if(Y[Z]in i){s._.dirty=1;break}switch(m["text-anchor"]){case"start":s.textpath.style["v-text-align"]="left",s.bbx=s.W/2;break;case"end":s.textpath.style["v-text-align"]="right",s.bbx=-s.W/2;break;default:s.textpath.style["v-text-align"]="center",s.bbx=0}s.textpath.style["v-text-kern"]=!0}},C=function(b,f,g){b.attrs=b.attrs||{};var h=(b.attrs,Math.pow),i="linear",j=".5 .5";if(b.attrs.gradient=f,f=c(f).replace(a._radial_gradient,function(a,b,c){return i="radial",b&&c&&(b=d(b),c=d(c),h(b-.5,2)+h(c-.5,2)>.25&&(c=e.sqrt(.25-h(b-.5,2))*(2*(c>.5)-1)+.5),j=b+n+c),o}),f=f.split(/\s*\-\s*/),"linear"==i){var k=f.shift();if(k=-d(k),isNaN(k))return null}var l=a._parseDots(f);if(!l)return null;if(b=b.shape||b.node,l.length){b.removeChild(g),g.on=!0,g.method="none",g.color=l[0].color,g.color2=l[l.length-1].color;for(var m=[],p=0,q=l.length;q>p;p++)l[p].offset&&m.push(l[p].offset+n+l[p].color);g.colors=m.length?m.join():"0% "+g.color,"radial"==i?(g.type="gradientTitle",g.focus="100%",g.focussize="0 0",g.focusposition=j,g.angle=0):(g.type="gradient",g.angle=(270-k)%360),b.appendChild(g)}return 1},D=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=c,this.matrix=a.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null
},E=a.el;D.prototype=E,E.constructor=D,E.transform=function(b){if(null==b)return this._.transform;var d,e=this.paper._viewBoxShift,f=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:o;e&&(d=b=c(b).replace(/\.{3}|\u2026/g,this._.transform||o)),a._extractTransform(this,f+b);var g,h=this.matrix.clone(),i=this.skew,j=this.node,k=~c(this.attrs.fill).indexOf("-"),l=!c(this.attrs.fill).indexOf("url(");if(h.translate(-.5,-.5),l||k||"image"==this.type)if(i.matrix="1 0 0 1",i.offset="0 0",g=h.split(),k&&g.noRotation||!g.isSimple){j.style.filter=h.toFilter();var m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y;j.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)}else j.style.filter=o,z(this,g.scalex,g.scaley,g.dx,g.dy,g.rotate);else j.style.filter=o,i.matrix=c(h),i.offset=h.offset();return d&&(this._.transform=d),this},E.rotate=function(a,b,e){if(this.removed)return this;if(null!=a){if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,b,e]])),this}},E.translate=function(a,b){return this.removed?this:(a=c(a).split(k),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([["t",a,b]])),this)},E.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=o),this},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this),a.eve.unbind("*.*."+this.id),a._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;this.removed=!0}},E.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if(c==j&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var g=c.split(k),h={},i=0,m=g.length;m>i;i++)c=g[i],h[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return m-1?h:h[g[0]]}if(this.attrs&&null==d&&a.is(c,"array")){for(h={},i=0,m=c.length;m>i;i++)h[c[i]]=this.attr(c[i]);return h}var n;null!=d&&(n={},n[c]=d),null==d&&a.is(c,"object")&&(n=c);for(var o in n)l("attr."+o+"."+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[b](o)&&n[b](o)&&a.is(this.paper.customAttributes[o],"function")){var p=this.paper.customAttributes[o].apply(this,[].concat(n[o]));this.attrs[o]=n[o];for(var q in p)p[b](q)&&(n[q]=p[q])}n.text&&"text"==this.type&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),this)},E.insertAfter=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this)},E.insertBefore=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a._insertbefore(this,b,this.paper),this)},E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(r,o),0!==+b?(this.attrs.blur=b,c.filter=d+n+m+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",f(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},a._engine.path=function(a,b){var c=F("shape");c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin;var d=new D(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a),d.type="path",d.path=[],d.Path=o,B(d,e),b.canvas.appendChild(c);var f=F("skew");return f.on=!0,c.appendChild(f),d.skew=f,d.transform(o),d},a._engine.rect=function(b,c,d,e,f,g){var h=a._rectPath(c,d,e,f,g),i=b.path(h),j=i.attrs;return i.X=j.x=c,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type="rect",i},a._engine.ellipse=function(a,b,c,d,e){var f=a.path();return f.attrs,f.X=b-d,f.Y=c-e,f.W=2*d,f.H=2*e,f.type="ellipse",B(f,{cx:b,cy:c,rx:d,ry:e}),f},a._engine.circle=function(a,b,c,d){var e=a.path();return e.attrs,e.X=b-d,e.Y=c-d,e.W=e.H=2*d,e.type="circle",B(e,{cx:b,cy:c,r:d}),e},a._engine.image=function(b,c,d,e,f,g){var h=a._rectPath(d,e,f,g),i=b.path(h).attr({stroke:"none"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];return k.src=c,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type="image",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=c,m.type="tile",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0),i},a._engine.text=function(b,d,e,g){var h=F("shape"),i=F("path"),j=F("textpath");d=d||0,e=e||0,g=g||"",i.v=a.format("m{0},{1}l{2},{1}",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=c(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin="0 0";var k=new D(h,b),l={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:g};k.shape=h,k.path=i,k.textpath=j,k.type="text",k.attrs.text=c(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),b.canvas.appendChild(h);var m=F("skew");return m.on=!0,h.appendChild(m),k.skew=m,k.transform(o),k},a._engine.setSize=function(b,c){var d=this.canvas.style;return this.width=b,this.height=c,b==+b&&(b+="px"),c==+c&&(c+="px"),d.width=b,d.height=c,d.clip="rect(0 "+b+" "+c+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this},a._engine.setViewBox=function(b,c,d,e,f){a.eve("setViewBox",this,this._viewBox,[b,c,d,e,f]);var h,i,j=this.width,k=this.height,l=1/g(d/j,e/k);return f&&(h=k/e,i=j/d,j>d*h&&(b-=(j-d*h)/2/h),k>e*i&&(c-=(k-e*i)/2/i)),this._viewBox=[b,c,d,e,!!f],this._viewBoxShift={dx:-b,dy:-c,scale:l},this.forEach(function(a){a.transform("...")}),this};var F;a._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){F=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a._engine.initWin(a._g.win),a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b.container,d=b.height,e=b.width,f=b.x,g=b.y;if(!c)throw new Error("VML container not found.");var h=new a._Paper,i=h.canvas=a._g.doc.createElement("div"),j=i.style;return f=f||0,g=g||0,e=e||512,d=d||342,h.width=e,h.height=d,e==+e&&(e+="px"),d==+d&&(d+="px"),h.coordsize=1e3*u+n+1e3*u,h.coordorigin="0 0",h.span=a._g.doc.createElement("span"),h.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",i.appendChild(h.span),j.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,d),1==c?(a._g.doc.body.appendChild(i),j.left=f+"px",j.top=g+"px",j.position="absolute"):c.firstChild?c.insertBefore(i,c.firstChild):c.appendChild(i),h.renderfix=function(){},h},a.prototype.clear=function(){a.eve("clear",this),this.canvas.innerHTML=o,this.span=a._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a.prototype.remove=function(){a.eve("remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;return!0};var G=a.st;for(var H in E)E[b](H)&&!G[b](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}(window.Raphael),function(a){a.fn.fixedHeaderTable=function(b){var c={width:"100%",height:"100%",themeClass:"fht-default",borderCollapse:!0,fixedColumns:0,fixedColumn:!1,sortable:!1,autoShow:!0,footer:!1,cloneHeadToFoot:!1,autoResize:!1,create:null},d={},e={init:function(b){return d=a.extend({},c,b),this.each(function(){var b=a(this);f._isTable(b)?(e.setup.apply(this,Array.prototype.slice.call(arguments,1)),a.isFunction(d.create)&&d.create.call(this)):a.error("Invalid table mark-up")})},setup:function(){var b,c,g,h=a(this),i=this,j=h.find("thead"),k=h.find("tfoot"),l=(h.find("tbody"),0);if(d.originalTable=a(this).clone(),d.includePadding=f._isPaddingIncludedWithWidth(),d.scrollbarOffset=f._getScrollbarWidth(),d.themeClassName=d.themeClass,d.width.search("%")>-1)var m=h.parent().width()-d.scrollbarOffset;else var m=d.width-d.scrollbarOffset;if(h.css({width:m}),h.closest(".fht-table-wrapper").length||(h.addClass("fht-table"),h.wrap('<div class="fht-table-wrapper"></div>')),b=h.closest(".fht-table-wrapper"),1==d.fixedColumn&&d.fixedColumns<=0&&(d.fixedColumns=1),d.fixedColumns>0&&0==b.find(".fht-fixed-column").length){h.wrap('<div class="fht-fixed-body"></div>');var n=(a('<div class="fht-fixed-column"></div>').prependTo(b),b.find(".fht-fixed-body"))}b.css({width:d.width,height:d.height}).addClass(d.themeClassName),h.hasClass("fht-table-init")||h.wrap('<div class="fht-tbody"></div>'),g=h.closest(".fht-tbody");var o=f._getTableProps(h);f._setupClone(g,o.tbody),h.hasClass("fht-table-init")?c=b.find("div.fht-thead"):(c=d.fixedColumns>0?a('<div class="fht-thead"><table class="fht-table"></table></div>').prependTo(n):a('<div class="fht-thead"><table class="fht-table"></table></div>').prependTo(b),c.find("table.fht-table").addClass(d.originalTable.attr("class")),j.clone().appendTo(c.find("table"))),f._setupClone(c,o.thead),h.css({"margin-top":-c.outerHeight(!0)}),1==d.footer&&(f._setupTableFooter(h,i,o),k.length||(k=b.find("div.fht-tfoot table")),l=k.outerHeight(!0));var p=b.height()-j.outerHeight(!0)-l-o.border;return g.css({height:p}),h.addClass("fht-table-init"),"undefined"!=typeof d.altClass&&e.altRows.apply(i),d.fixedColumns>0&&f._setupFixedColumn(h,i,o),d.autoShow||b.hide(),f._bindScroll(g,o),i},resize:function(){var b=(a(this),this);return b},altRows:function(b){var c=a(this),e="undefined"!=typeof b?b:d.altClass;c.closest(".fht-table-wrapper").find("tbody tr:odd:not(:hidden)").addClass(e)},show:function(b,c,d){var e=a(this),f=this,g=e.closest(".fht-table-wrapper");return"undefined"!=typeof b&&"number"==typeof b?(g.show(b,function(){a.isFunction(c)&&c.call(this)}),f):"undefined"!=typeof b&&"string"==typeof b&&"undefined"!=typeof c&&"number"==typeof c?(g.show(b,c,function(){a.isFunction(d)&&d.call(this)}),f):(e.closest(".fht-table-wrapper").show(),a.isFunction(b)&&b.call(this),f)},hide:function(b,c,d){var e=a(this),f=this,g=e.closest(".fht-table-wrapper");return"undefined"!=typeof b&&"number"==typeof b?(g.hide(b,function(){a.isFunction(d)&&d.call(this)}),f):"undefined"!=typeof b&&"string"==typeof b&&"undefined"!=typeof c&&"number"==typeof c?(g.hide(b,c,function(){a.isFunction(d)&&d.call(this)}),f):(e.closest(".fht-table-wrapper").hide(),a.isFunction(d)&&d.call(this),f)},destroy:function(){var b=a(this),c=this,d=b.closest(".fht-table-wrapper");return b.insertBefore(d).removeAttr("style").append(d.find("tfoot")).removeClass("fht-table fht-table-init").find(".fht-cell").remove(),d.remove(),c}},f={_isTable:function(a){var b=a,c=b.is("table"),d=b.find("thead").length>0,e=b.find("tbody").length>0;return c&&d&&e?!0:!1},_bindScroll:function(a){var b=a,c=b.closest(".fht-table-wrapper"),e=b.siblings(".fht-thead"),f=b.siblings(".fht-tfoot");b.bind("scroll",function(){if(d.fixedColumns>0){var a=c.find(".fht-fixed-column");a.find(".fht-tbody table").css({"margin-top":-b.scrollTop()})}e.find("table").css({"margin-left":-this.scrollLeft}),(d.footer||d.cloneHeadToFoot)&&f.find("table").css({"margin-left":-this.scrollLeft})})},_fixHeightWithCss:function(a,b){d.includePadding?a.css({height:a.height()+b.border}):a.css({height:a.parent().height()+b.border})},_fixWidthWithCss:function(b,c,e){d.includePadding?b.each(function(){a(this).css({width:void 0==e?a(this).width()+c.border:e+c.border})}):b.each(function(){a(this).css({width:void 0==e?a(this).parent().width()+c.border:e+c.border})})},_setupFixedColumn:function(b,c,e){var g,h,i,j,k=b,l=k.closest(".fht-table-wrapper"),m=l.find(".fht-fixed-body"),n=l.find(".fht-fixed-column"),o=a('<div class="fht-thead"><table class="fht-table"><thead><tr></tr></thead></table></div>'),p=a('<div class="fht-tbody"><table class="fht-table"><tbody></tbody></table></div>'),q=a('<div class="fht-tfoot"><table class="fht-table"><tfoot><tr></tr></tfoot></table></div>'),r=l.width(),s=m.find(".fht-tbody").height()-d.scrollbarOffset;o.find("table.fht-table").addClass(d.originalTable.attr("class")),p.find("table.fht-table").addClass(d.originalTable.attr("class")),q.find("table.fht-table").addClass(d.originalTable.attr("class")),g=m.find(".fht-thead thead tr > *:lt("+d.fixedColumns+")"),i=d.fixedColumns*e.border,g.each(function(){i+=a(this).outerWidth(!0)}),f._fixHeightWithCss(g,e),f._fixWidthWithCss(g,e);var t=[];g.each(function(){t.push(a(this).width())}),firstTdChildrenSelector="tbody tr > *:not(:nth-child(n+"+(d.fixedColumns+1)+"))",h=m.find(firstTdChildrenSelector).each(function(b){f._fixHeightWithCss(a(this),e),f._fixWidthWithCss(a(this),e,t[b%d.fixedColumns])}),o.appendTo(n).find("tr").append(g.clone()),p.appendTo(n).css({"margin-top":-1,height:s+e.border});var j;h.each(function(b){0==b%d.fixedColumns&&(j=a("<tr></tr>").appendTo(p.find("tbody")),d.altClass&&a(this).parent().hasClass(d.altClass)&&j.addClass(d.altClass)),a(this).clone().appendTo(j)}),n.css({height:0,width:i});var u=n.find(".fht-tbody .fht-table").height()-n.find(".fht-tbody").height();if(n.find(".fht-table").bind("mousewheel",function(b,c,d,e){if(0!=e){var f=parseInt(a(this).css("marginTop"),10)+(e>0?120:-120);return f>0&&(f=0),-u>f&&(f=-u),a(this).css("marginTop",f),m.find(".fht-tbody").scrollTop(-f).scroll(),!1}}),m.css({width:r}),1==d.footer||1==d.cloneHeadToFoot){var v=m.find(".fht-tfoot tr > *:lt("+d.fixedColumns+")");f._fixHeightWithCss(v,e),q.appendTo(n).find("tr").append(v.clone()),footwidth=q.find("table").innerWidth(),q.css({top:d.scrollbarOffset,width:footwidth})}},_setupTableFooter:function(b,c,e){var g=b,h=g.closest(".fht-table-wrapper"),i=g.find("tfoot"),j=h.find("div.fht-tfoot");switch(j.length||(j=d.fixedColumns>0?a('<div class="fht-tfoot"><table class="fht-table"></table></div>').appendTo(h.find(".fht-fixed-body")):a('<div class="fht-tfoot"><table class="fht-table"></table></div>').appendTo(h)),j.find("table.fht-table").addClass(d.originalTable.attr("class")),!0){case!i.length&&1==d.cloneHeadToFoot&&1==d.footer:var k=h.find("div.fht-thead");j.empty(),k.find("table").clone().appendTo(j);break;case i.length&&0==d.cloneHeadToFoot&&1==d.footer:j.find("table").append(i).css({"margin-top":-e.border}),f._setupClone(j,e.tfoot)}},_getTableProps:function(b){var c={thead:{},tbody:{},tfoot:{},border:0},e=1;return 1==d.borderCollapse&&(e=2),c.border=(b.find("th:first-child").outerWidth()-b.find("th:first-child").innerWidth())/e,b.find("thead tr:first-child > *").each(function(b){c.thead[b]=a(this).width()+c.border}),b.find("tfoot tr:first-child > *").each(function(b){c.tfoot[b]=a(this).width()+c.border}),b.find("tbody tr:first-child > *").each(function(b){c.tbody[b]=a(this).width()+c.border}),c},_setupClone:function(b,c){var e,f=b,g=f.find("thead").length?"thead tr:first-child > *":f.find("tfoot").length?"tfoot tr:first-child > *":"tbody tr:first-child > *";f.find(g).each(function(b){if(e=a(this).find("div.fht-cell").length?a(this).find("div.fht-cell"):a('<div class="fht-cell"></div>').appendTo(a(this)),e.css({width:parseInt(c[b])}),!a(this).closest(".fht-tbody").length&&a(this).is(":last-child")&&!a(this).closest(".fht-fixed-column").length){var f=(a(this).innerWidth()-a(this).width())/2+d.scrollbarOffset;a(this).css({"padding-right":f+"px"})}})},_isPaddingIncludedWithWidth:function(){var b,c,e=a('<table class="fht-table"><tr><td style="padding: 10px; font-size: 10px;">test</td></tr></table>');return e.addClass(d.originalTable.attr("class")),e.appendTo("body"),b=e.find("td").height(),e.find("td").css("height",e.find("tr").height()),c=e.find("td").height(),e.remove(),b!=c?!0:!1},_getScrollbarWidth:function(){var b=0;if(!b)if(a.browser.msie){var c=a('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body"),d=a('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:-1e3}).appendTo("body");b=c.width()-d.width()+2,c.add(d).remove()}else{var e=a("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200});b=100-e.width(),e.parent().remove()}return b}};return e[b]?e[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error('Method "'+b+'" does not exist in fixedHeaderTable plugin!'),void 0):e.init.apply(this,arguments)}}(jQuery),function(){function a(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a}function b(){for(var a=0,b=arguments,c=b.length,d={};c>a;a++)d[b[a++]]=b[a];return d}function c(a,b){return parseInt(a,b||10)}function d(a){return"string"==typeof a}function e(a){return"object"==typeof a}function f(a){return"[object Array]"===Object.prototype.toString.call(a)}function g(a){return"number"==typeof a}function h(a){return nb.log(a)/nb.LN10}function i(a){return nb.pow(10,a)}function j(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}}function k(a){return a!==T&&null!==a}function l(a,b,c){var f,g,h="setAttribute";if(d(b))k(c)?a[h](b,c):a&&a.getAttribute&&(g=a.getAttribute(b));else if(k(b)&&e(b))for(f in b)a[h](f,b[f]);return g}function m(a){return f(a)?a:[a]}function n(){var a,b,c=arguments,d=c.length;for(a=0;d>a;a++)if(b=c[a],"undefined"!=typeof b&&null!==b)return b}function o(b,c){Ab&&c&&c.opacity!==T&&(c.filter="alpha(opacity="+100*c.opacity+")"),a(b.style,c)}function p(b,c,d,e,f){var g=lb.createElement(b);return c&&a(g,c),f&&o(g,{padding:0,border:Tb,margin:0}),d&&o(g,d),e&&e.appendChild(g),g}function q(b,c){var d=function(){};return d.prototype=new b,a(d.prototype,c),d}function r(a){return a=(a||0).toString(),a.indexOf(".")>-1?a.split(".")[1].length:0}function s(a,b,d,e){var f=W.lang,g=a,h=-1===b?r(a):isNaN(b=tb(b))?2:b,i=void 0===d?f.decimalPoint:d,j=void 0===e?f.thousandsSep:e,k=0>g?"-":"",l=String(c(g=tb(+g||0).toFixed(h))),m=l.length>3?l.length%3:0;return k+(m?l.substr(0,m)+j:"")+l.substr(m).replace(/(\d{3})(?=\d)/g,"$1"+j)+(h?i+tb(g-l).toFixed(h).slice(2):"")}function t(a,b){return new Array((b||2)+1-String(a).length).join(0)+a}function u(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(d),c.apply(this,a)}}function v(a,b,c,d){var e,f;for(c=n(c,1),e=a/c,b||(b=[1,2,2.5,5,10],d&&d.allowDecimals===!1&&(1===c?b=[1,2,5,10]:.1>=c&&(b=[1/c]))),f=0;f<b.length&&(a=b[f],!(e<=(b[f]+(b[f+1]||b[f]))/2));f++);return a*=c}function w(a,b){var c,d,e=b||[[$b,[1,2,5,10,20,25,50,100,200,500]],[_b,[1,2,5,10,15,30]],[ac,[1,2,5,10,15,30]],[bc,[1,2,3,4,6,8,12]],[cc,[1,2]],[dc,[1,2]],[ec,[1,2,3,4,6]],[fc,null]],f=e[e.length-1],g=$[f[0]],h=f[1];for(d=0;d<e.length;d++)if(f=e[d],g=$[f[0]],h=f[1],e[d+1]){var i=(g*h[h.length-1]+$[e[d+1][0]])/2;if(i>=a)break}return g===$[fc]&&5*g>a&&(h=[1,2,5]),g===$[fc]&&5*g>a&&(h=[1,2,5]),c=v(a/g,h),{unitRange:g,count:c,unitName:f[0]}}function x(b,c,d,e){var f,g,h=[],i={},j=W.global.useUTC,k=new Date(c),l=b.unitRange,m=b.count;l>=$[_b]&&(k.setMilliseconds(0),k.setSeconds(l>=$[ac]?0:m*pb(k.getSeconds()/m))),l>=$[ac]&&k[gb](l>=$[bc]?0:m*pb(k[ab]()/m)),l>=$[bc]&&k[hb](l>=$[cc]?0:m*pb(k[bb]()/m)),l>=$[cc]&&k[ib](l>=$[ec]?1:m*pb(k[db]()/m)),l>=$[ec]&&(k[jb](l>=$[fc]?0:m*pb(k[eb]()/m)),g=k[fb]()),l>=$[fc]&&(g-=g%m,k[kb](g)),l===$[dc]&&k[ib](k[db]()-k[cb]()+n(e,1)),f=1,g=k[fb]();for(var o=k.getTime(),p=k[eb](),q=k[db](),r=j?0:(864e5+1e3*60*k.getTimezoneOffset())%864e5;d>o;)h.push(o),l===$[fc]?o=_(g+f*m,0):l===$[ec]?o=_(g,p+f*m):j||l!==$[cc]&&l!==$[dc]?(o+=l*m,l<=$[bc]&&o%$[cc]===r&&(i[o]=cc)):o=_(g,p,q+f*m*(l===$[cc]?1:7)),f++;return h.push(o),h.info=a(b,{higherRanks:i,totalRange:l*m}),h}function y(){this.color=0,this.symbol=0}function z(a,b){var c,d,e=a.length;for(d=0;e>d;d++)a[d].ss_i=d;for(a.sort(function(a,d){return c=b(a,d),0===c?a.ss_i-d.ss_i:c}),d=0;e>d;d++)delete a[d].ss_i}function A(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function B(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function C(a,b){var c;for(c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c]}function D(a){V||(V=p(Mb)),a&&V.appendChild(a),V.innerHTML=""}function E(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw c;mb.console&&console.log(c)}function F(a){return parseFloat(a.toPrecision(14))}function G(a,b){Y=n(a,b.animation)}function H(){var a=W.global.useUTC,b=a?"getUTC":"get",c=a?"setUTC":"set";_=a?Date.UTC:function(a,b,c,d,e,f){return new Date(a,b,n(c,1),n(d,0),n(e,0),n(f,0)).getTime()},ab=b+"Minutes",bb=b+"Hours",cb=b+"Day",db=b+"Date",eb=b+"Month",fb=b+"FullYear",gb=c+"Minutes",hb=c+"Hours",ib=c+"Date",jb=c+"Month",kb=c+"FullYear"}function I(a){return W=vc(W,a),H(),W}function J(){return W}function K(){}function L(a,b,c){this.axis=a,this.pos=b,this.type=c||"",this.isNew=!0,c||this.addLabel()}function M(a,b){return this.axis=a,b&&(this.options=b,this.id=b.id),this}function N(a,b,c,d,e,f){var g=a.chart.inverted;this.axis=a,this.isNegative=c,this.options=b,this.x=d,this.stack=e,this.percent="percent"===f,this.alignOptions={align:b.align||(g?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(g?"middle":c?"bottom":"top"),y:n(b.y,g?4:c?14:-6),x:n(b.x,g?c?-6:6:0)},this.textAlign=b.textAlign||(g?c?"right":"left":"center")}function O(){this.init.apply(this,arguments)}function P(a,b){var d=b.borderWidth,e=b.style,f=c(e.padding);this.chart=a,this.options=b,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=a.renderer.label("",0,0,b.shape,null,null,b.useHTML,null,"tooltip").attr({padding:f,fill:b.backgroundColor,"stroke-width":d,r:b.borderRadius,zIndex:8}).css(e).css({padding:0}).hide().add(),Hb||this.label.shadow(b.shadow),this.shared=b.shared}function Q(a,b){var c=Hb?"":b.chart.zoomType;this.zoomX=/x/.test(c),this.zoomY=/y/.test(c),this.options=b,this.chart=a,this.init(a,b.tooltip)}function R(a){this.init(a)}function S(a,b){var c,d=a.series;a.series=null,c=vc(W,a),c.series=a.series=d;var f=c.chart,g=f.margin,h=e(g)?g:[g,g,g,g];this.optionsMarginTop=n(f.marginTop,h[0]),this.optionsMarginRight=n(f.marginRight,h[1]),this.optionsMarginBottom=n(f.marginBottom,h[2]),this.optionsMarginLeft=n(f.marginLeft,h[3]);var i=f.events;this.runChartClick=i&&!!i.click,this.callback=b,this.isResizing=0,this.options=c,this.axes=[],this.series=[],this.hasCartesianSeries=f.showAxes,this.init(i)}var T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb=document,mb=window,nb=Math,ob=nb.round,pb=nb.floor,qb=nb.ceil,rb=nb.max,sb=nb.min,tb=nb.abs,ub=nb.cos,vb=nb.sin,wb=nb.PI,xb=2*wb/360,yb=navigator.userAgent,zb=mb.opera,Ab=/msie/i.test(yb)&&!zb,Bb=8===lb.documentMode,Cb=/AppleWebKit/.test(yb),Db=/Firefox/.test(yb),Eb="http://www.w3.org/2000/svg",Fb=!!lb.createElementNS&&!!lb.createElementNS(Eb,"svg").createSVGRect,Gb=Db&&parseInt(yb.split("Firefox/")[1],10)<4,Hb=!Fb&&!Ab&&!!lb.createElement("canvas").getContext,Ib=lb.documentElement.ontouchstart!==T,Jb={},Kb=0,Lb=function(){},Mb="div",Nb="absolute",Ob="relative",Pb="hidden",Qb="highcharts-",Rb="visible",Sb="px",Tb="none",Ub="M",Vb="L",Wb="rgba(192,192,192,"+(Fb?1e-6:.002)+")",Xb="",Yb="hover",Zb="select",$b="millisecond",_b="second",ac="minute",bc="hour",cc="day",dc="week",ec="month",fc="year",gc="fill",hc="linearGradient",ic="stops",jc="stroke",kc="stroke-width",lc={};mb.Highcharts={},X=function(a,b,c){if(!k(b)||isNaN(b))return"Invalid date";a=n(a,"%Y-%m-%d %H:%M:%S");var d,e=new Date(b),f=e[bb](),g=e[cb](),h=e[db](),i=e[eb](),j=e[fb](),l=W.lang,m=l.weekdays,o={a:m[g].substr(0,3),A:m[g],d:t(h),e:h,b:l.shortMonths[i],B:l.months[i],m:t(i+1),y:j.toString().substr(2,2),Y:j,H:t(f),I:t(f%12||12),l:f%12||12,M:t(e[ab]()),p:12>f?"AM":"PM",P:12>f?"am":"pm",S:t(e.getSeconds()),L:t(ob(b%1e3),3)};for(d in o)a=a.replace("%"+d,o[d]);return c?a.substr(0,1).toUpperCase()+a.substr(1):a},y.prototype={wrapColor:function(a){this.color>=a&&(this.color=0)},wrapSymbol:function(a){this.symbol>=a&&(this.symbol=0)}},$=b($b,1,_b,1e3,ac,6e4,bc,36e5,cc,864e5,dc,6048e5,ec,2592e6,fc,31556952e3),Z={init:function(a,b,c){b=b||"";var d,e,f,g,h,i=a.shift,j=b.indexOf("C")>-1,k=j?7:3,l=b.split(" "),m=[].concat(c),n=function(a){for(f=a.length;f--;)a[f]===Ub&&a.splice(f+1,0,a[f+1],a[f+2],a[f+1],a[f+2])};if(j&&(n(l),n(m)),a.isArea&&(g=l.splice(l.length-6,6),h=m.splice(m.length-6,6)),i<=m.length/k)for(;i--;)m=[].concat(m).splice(0,k).concat(m);if(a.shift=0,l.length)for(d=m.length;l.length<d;)e=[].concat(l).splice(l.length-k,k),j&&(e[k-6]=e[k-2],e[k-5]=e[k-1]),l=l.concat(e);return g&&(l=l.concat(g),m=m.concat(h)),[l,m]},step:function(a,b,c,d){var e,f=[],g=a.length;if(1===c)f=d;else if(g===b.length&&1>c)for(;g--;)e=parseFloat(a[g]),f[g]=isNaN(e)?a[g]:c*parseFloat(b[g]-e)+e;else f=b;return f}},function(b){mb.HighchartsAdapter=mb.HighchartsAdapter||b&&{init:function(a){var c,d=b.fx,e=d.step,f=b.Tween,g=f&&f.propHooks;b.extend(b.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}}),b.each(["cur","_default","width","height"],function(a,b){var c,h,i=e;"cur"===b?i=d.prototype:"_default"===b&&f&&(i=g[b],b="set"),c=i[b],c&&(i[b]=function(d){return d=a?d:this,h=d.elem,h.attr?h.attr(d.prop,"cur"===b?T:d.now):c.apply(this,arguments)})}),c=function(b){var c,d=b.elem;b.started||(c=a.init(d,d.d,d.toD),b.start=c[0],b.end=c[1],b.started=!0),d.attr("d",a.step(b.start,b.end,b.pos,d.toD))},f?g.d={set:c}:e.d=c,this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(b.call(a[c],a[c],c,a)===!1)return c}},getScript:b.getScript,inArray:b.inArray,adapterRun:function(a,c){return b(a)[c]()},grep:b.grep,map:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c[d]=b.call(a[d],a[d],d,a);return c},merge:function(){var a=arguments;return b.extend(!0,null,a[0],a[1],a[2],a[3])},offset:function(a){return b(a).offset()},addEvent:function(a,c,d){b(a).bind(c,d)},removeEvent:function(a,c,d){var e=lb.removeEventListener?"removeEventListener":"detachEvent";lb[e]&&!a[e]&&(a[e]=function(){}),b(a).unbind(c,d)},fireEvent:function(c,d,e,f){var g,h=b.Event(d),i="detached"+d;!Ab&&e&&(delete e.layerX,delete e.layerY),a(h,e),c[d]&&(c[i]=c[d],c[d]=null),b.each(["preventDefault","stopPropagation"],function(a,b){var c=h[b];h[b]=function(){try{c.call(h)}catch(a){"preventDefault"===b&&(g=!0)}}}),b(c).trigger(h),c[i]&&(c[d]=c[i],c[i]=null),!f||h.isDefaultPrevented()||g||f(h)},washMouseEvent:function(a){var b=a.originalEvent||a;return b.pageX===T&&(b.pageX=a.pageX,b.pageY=a.pageY),b},animate:function(a,c,d){var e=b(a);c.d&&(a.toD=c.d,c.d=1),e.stop(),e.animate(c,d)},stop:function(a){b(a).stop()}}}(mb.jQuery);var mc=mb.HighchartsAdapter,nc=mc||{};mc&&mc.init.call(mc,Z);var oc=nc.adapterRun,pc=nc.getScript,qc=nc.inArray,rc=nc.each,sc=nc.grep,tc=nc.offset,uc=nc.map,vc=nc.merge,wc=nc.addEvent,xc=nc.removeEvent,yc=nc.fireEvent,zc=nc.washMouseEvent,Ac=nc.animate,Bc=nc.stop,Cc={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};W={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.3.3/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:vc(Cc,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:Nb,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Nb,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:Ob,top:"1em"},style:{position:Nb,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:Hb,snap:Ib?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"",href:"",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var Dc=W.plotOptions,Ec=Dc.line;H();var Fc=function(a){function b(a){h=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(a),h?i=[c(h[1]),c(h[2]),c(h[3]),parseFloat(h[4],10)]:(h=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a),h&&(i=[c(h[1],16),c(h[2],16),c(h[3],16),1]))}function d(b){var c;return c=i&&!isNaN(i[0])?"rgb"===b?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===b?i[3]:"rgba("+i.join(",")+")":a
}function e(a){if(g(a)&&0!==a){var b;for(b=0;3>b;b++)i[b]+=c(255*a),i[b]<0&&(i[b]=0),i[b]>255&&(i[b]=255)}return this}function f(a){return i[3]=a,this}var h,i=[];return b(a),{get:d,brighten:e,setOpacity:f}};K.prototype={init:function(a,b){var c=this;c.element="span"===b?p(b):lb.createElementNS(Eb,b),c.renderer=a,c.attrSetters={}},animate:function(a,b,c){var d=n(b,Y,!0);Bc(this),d?(d=vc(d),c&&(d.complete=c),Ac(this,a,d)):(this.attr(a),c&&c())},attr:function(a,b){var e,f,g,h,i,j,m,n,o,p=this,q=p.element,r=q.nodeName.toLowerCase(),s=p.renderer,t=p.attrSetters,u=p.shadows,v=p;if(d(a)&&k(b)&&(e=a,a={},a[e]=b),d(a))e=a,"circle"===r?e={x:"cx",y:"cy"}[e]||e:"strokeWidth"===e&&(e="stroke-width"),v=l(q,e)||p[e]||0,"d"!==e&&"visibility"!==e&&(v=parseFloat(v));else for(e in a)if(j=!1,f=a[e],g=t[e]&&t[e].call(p,f,e),g!==!1){if(g!==T&&(f=g),"d"===e)f&&f.join&&(f=f.join(" ")),/(NaN| {2}|^$)/.test(f)&&(f="M 0 0");else if("x"===e&&"text"===r){for(h=0;h<q.childNodes.length;h++)i=q.childNodes[h],l(i,"x")===l(q,"x")&&l(i,"x",f);p.rotation&&l(q,"transform","rotate("+p.rotation+" "+f+" "+c(a.y||l(q,"y"))+")")}else if("fill"===e)f=s.color(f,q,e);else if("circle"!==r||"x"!==e&&"y"!==e)if("rect"===r&&"r"===e)l(q,{rx:f,ry:f}),j=!0;else if("translateX"===e||"translateY"===e||"rotation"===e||"verticalAlign"===e)o=!0,j=!0;else if("stroke"===e)f=s.color(f,q,e);else if("dashstyle"===e){if(e="stroke-dasharray",f=f&&f.toLowerCase(),"solid"===f)f=Tb;else if(f){for(f=f.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),h=f.length;h--;)f[h]=c(f[h])*a["stroke-width"];f=f.join(",")}}else"isTracker"===e?p[e]=f:"width"===e?f=c(f):"align"===e?(e="text-anchor",f={left:"start",center:"middle",right:"end"}[f]):"title"===e&&(m=q.getElementsByTagName("title")[0],m||(m=lb.createElementNS(Eb,"title"),q.appendChild(m)),m.textContent=f);else e={x:"cx",y:"cy"}[e]||e;if("strokeWidth"===e&&(e="stroke-width"),Cb&&"stroke-width"===e&&0===f&&(f=1e-6),p.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(e)&&(n||(p.symbolAttr(a),n=!0),j=!0),u&&/^(width|height|visibility|x|y|d|transform)$/.test(e))for(h=u.length;h--;)l(u[h],e,"height"===e?rb(f-(u[h].cutHeight||0),0):f);("width"===e||"height"===e)&&"rect"===r&&0>f&&(f=0),p[e]=f,o&&p.updateTransform(),"text"===e?(f!==p.textStr&&delete p.bBox,p.textStr=f,p.added&&s.buildText(p)):j||l(q,e,f)}return v},symbolAttr:function(a){var b=this;rc(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(c){b[c]=n(a[c],b[c])}),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":Tb)},crisp:function(a,b,c,d,e){var f,g,h=this,i={},j={};a=a||h.strokeWidth||h.attr&&h.attr("stroke-width")||0,g=ob(a)%2/2,j.x=pb(b||h.x||0)+g,j.y=pb(c||h.y||0)+g,j.width=pb((d||h.width||0)-2*g),j.height=pb((e||h.height||0)-2*g),j.strokeWidth=a;for(f in j)h[f]!==j[f]&&(h[f]=i[f]=j[f]);return i},css:function(b){var c,d=this,e=d.element,f=b&&b.width&&"text"===e.nodeName.toLowerCase(),g="",h=function(a,b){return"-"+b.toLowerCase()};if(b&&b.color&&(b.fill=b.color),b=a(d.styles,b),d.styles=b,Hb&&f&&delete b.width,Ab&&!Fb)f&&delete b.width,o(d.element,b);else{for(c in b)g+=c.replace(/([A-Z])/g,h)+":"+b[c]+";";d.attr({style:g})}return f&&d.added&&d.renderer.buildText(d),d},on:function(a,b){var c=b;return Ib&&"click"===a&&(a="touchstart",c=function(a){a.preventDefault(),b()}),this.element["on"+a]=c,this},setRadialReference:function(a){return this.element.radialReference=a,this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){var a=this;return a.inverted=!0,a.updateTransform(),a},htmlCss:function(b){var c=this,d=c.element,e=b&&"SPAN"===d.tagName&&b.width;return e&&(delete b.width,c.textWidth=e,c.updateTransform()),c.styles=a(c.styles,b),o(c.element,b),c},htmlGetBBox:function(){var a=this,b=a.element,c=a.bBox;return c||("text"===b.nodeName&&(b.style.position=Nb),c=a.bBox={x:b.offsetLeft,y:b.offsetTop,width:b.offsetWidth,height:b.offsetHeight}),c},htmlUpdateTransform:function(){if(!this.added)return this.alignOnAdd=!0,void 0;var a=this,b=a.renderer,d=a.element,e=a.translateX||0,f=a.translateY||0,g=a.x||0,h=a.y||0,i=a.textAlign||"left",j={left:0,center:.5,right:1}[i],l=i&&"left"!==i,m=a.shadows;if((e||f)&&(o(d,{marginLeft:e,marginTop:f}),m&&rc(m,function(a){o(a,{marginLeft:e+1,marginTop:f+1})})),a.inverted&&rc(d.childNodes,function(a){b.invertChild(a,d)}),"SPAN"===d.tagName){var p,q,r,s,t,u=a.rotation,v=0,w=1,x=0,y=c(a.textWidth),z=a.xCorr||0,A=a.yCorr||0,B=[u,i,d.innerHTML,a.textWidth].join(","),C={};B!==a.cTT&&(k(u)&&(b.isSVG?(t=Ab?"-ms-transform":Cb?"-webkit-transform":Db?"MozTransform":zb?"-o-transform":"",C[t]=C.transform="rotate("+u+"deg)"):(v=u*xb,w=ub(v),x=vb(v),C.filter=u?["progid:DXImageTransform.Microsoft.Matrix(M11=",w,", M12=",-x,", M21=",x,", M22=",w,", sizingMethod='auto expand')"].join(""):Tb),o(d,C)),p=n(a.elemWidth,d.offsetWidth),q=n(a.elemHeight,d.offsetHeight),p>y&&/[ \-]/.test(d.innerText)&&(o(d,{width:y+Sb,display:"block",whiteSpace:"normal"}),p=y),r=b.fontMetrics(d.style.fontSize).b,z=0>w&&-p,A=0>x&&-q,s=0>w*x,z+=x*r*(s?1-j:j),A-=w*r*(u?s?j:1-j:1),l&&(z-=p*j*(0>w?-1:1),u&&(A-=q*j*(0>x?-1:1)),o(d,{textAlign:i})),a.xCorr=z,a.yCorr=A),o(d,{left:g+z+Sb,top:h+A+Sb}),a.cTT=B}},updateTransform:function(){var a=this,b=a.translateX||0,c=a.translateY||0,d=a.inverted,e=a.rotation,f=[];d&&(b+=a.attr("width"),c+=a.attr("height")),(b||c)&&f.push("translate("+b+","+c+")"),d?f.push("rotate(90) scale(-1,1)"):e&&f.push("rotate("+e+" "+(a.x||0)+" "+(a.y||0)+")"),f.length&&l(a.element,"transform",f.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,b,c){var d=this;a?(d.alignOptions=a,d.alignByTranslate=b,c||d.renderer.alignedObjects.push(d)):(a=d.alignOptions,b=d.alignByTranslate),c=n(c,d.renderer);var e=a.align,f=a.verticalAlign,g=(c.x||0)+(a.x||0),h=(c.y||0)+(a.y||0),i={};return("right"===e||"center"===e)&&(g+=(c.width-(a.width||0))/{right:1,center:2}[e]),i[b?"translateX":"x"]=ob(g),("bottom"===f||"middle"===f)&&(h+=(c.height-(a.height||0))/({bottom:1,middle:2}[f]||1)),i[b?"translateY":"y"]=ob(h),d[d.placed?"animate":"attr"](i),d.placed=!0,d.alignAttr=i,d},getBBox:function(){var b,c,d=this,e=d.bBox,f=d.renderer,g=d.rotation,h=d.element,i=d.styles,j=g*xb;if(!e){if(h.namespaceURI===Eb||f.forExport){try{e=h.getBBox?a({},h.getBBox()):{width:h.offsetWidth,height:h.offsetHeight}}catch(k){}(!e||e.width<0)&&(e={width:0,height:0})}else e=d.htmlGetBBox();f.isSVG&&(b=e.width,c=e.height,g&&(e.width=tb(c*vb(j))+tb(b*ub(j)),e.height=tb(c*ub(j))+tb(b*vb(j)))),Ab&&i&&"11px"===i.fontSize&&22.700000762939453===c&&(e.height=14),d.bBox=e}return e},show:function(){return this.attr({visibility:Rb})},hide:function(){return this.attr({visibility:Pb})},add:function(a){var b,d,e,f,g=this.renderer,h=a||g,i=h.element||g.box,j=i.childNodes,m=this.element,n=l(m,"zIndex");if(a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&g.buildText(this),n&&(h.handleZ=!0,n=c(n)),h.handleZ)for(e=0;e<j.length;e++)if(b=j[e],d=l(b,"zIndex"),b!==m&&(c(d)>n||!k(n)&&k(d))){i.insertBefore(m,b),f=!0;break}return f||i.appendChild(m),this.added=!0,yc(this,"add"),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a,b,c=this,d=c.element||{},e=c.shadows;if(d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=null,Bc(c),c.clipPath&&(c.clipPath=c.clipPath.destroy()),c.stops){for(b=0;b<c.stops.length;b++)c.stops[b]=c.stops[b].destroy();c.stops=null}c.safeRemoveChild(d),e&&rc(e,function(a){c.safeRemoveChild(a)}),j(c.renderer.alignedObjects,c);for(a in c)delete c[a];return null},empty:function(){for(var a=this.element,b=a.childNodes,c=b.length;c--;)a.removeChild(b[c])},shadow:function(a,b,c){var d,e,f,g,h,i,j=[],k=this.element;if(a){for(g=n(a.width,3),h=(a.opacity||.15)/g,i=this.parentInverted?"(-1,-1)":"("+n(a.offsetX,1)+", "+n(a.offsetY,1)+")",d=1;g>=d;d++)e=k.cloneNode(0),f=2*g+1-2*d,l(e,{isShadow:"true",stroke:a.color||"black","stroke-opacity":h*d,"stroke-width":f,transform:"translate"+i,fill:Tb}),c&&(l(e,"height",rb(l(e,"height")-f,0)),e.cutHeight=f),b?b.element.appendChild(e):k.parentNode.insertBefore(e,k),j.push(e);this.shadows=j}return this}};var Gc=function(){this.init.apply(this,arguments)};Gc.prototype={Element:K,init:function(a,b,c,d){var e,f=this,g=location;e=f.createElement("svg").attr({xmlns:Eb,version:"1.1"}),a.appendChild(e.element),f.isSVG=!0,f.box=e.element,f.boxWrapper=e,f.alignedObjects=[],f.url=(Db||Cb)&&lb.getElementsByTagName("base").length?g.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",f.defs=this.createElement("defs").add(),f.forExport=d,f.gradients={},f.setSize(b,c,!1);var h,i;Db&&a.getBoundingClientRect&&(f.subPixelFix=h=function(){o(a,{left:0,top:0}),i=a.getBoundingClientRect(),o(a,{left:qb(i.left)-i.left+Sb,top:qb(i.top)-i.top+Sb})},h(),wc(mb,"resize",h))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this,b=a.defs;return a.box=null,a.boxWrapper=a.boxWrapper.destroy(),C(a.gradients||{}),a.gradients=null,b&&(a.defs=b.destroy()),a.subPixelFix&&xc(mb,"resize",a.subPixelFix),a.alignedObjects=null,null},createElement:function(a){var b=new this.Element;return b.init(this,a),b},draw:function(){},buildText:function(a){function b(b){return s[b]=e.getBBox?e.getBBox().height:a.renderer.fontMetrics(e.style.fontSize).h,ob(s[b]-(s[b-1]||0))}for(var d,e=a.element,f=n(a.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),g=e.childNodes,h=/style="([^"]+)"/,i=/href="([^"]+)"/,j=l(e,"x"),k=a.styles,m=k&&k.width&&c(k.width),p=k&&k.lineHeight,q="getComputedStyle",r=g.length,s=[];r--;)e.removeChild(g[r]);m&&!a.added&&this.box.appendChild(e),""===f[f.length-1]&&f.pop(),rc(f,function(f,g){var k,n,r=0;f=f.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),k=f.split("|||"),rc(k,function(f){if(""!==f||1===k.length){var s,t={},u=lb.createElementNS(Eb,"tspan");if(h.test(f)&&(s=f.match(h)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),l(u,"style",s)),i.test(f)&&(l(u,"onclick",'location.href="'+f.match(i)[1]+'"'),o(u,{cursor:"pointer"})),f=(f.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),u.appendChild(lb.createTextNode(f)),r?t.dx=3:t.x=j,r||(g&&(!Fb&&a.renderer.forExport&&o(u,{display:"block"}),n=mb[q]&&c(mb[q](d,null).getPropertyValue("line-height")),(!n||isNaN(n))&&(n=p||d.offsetHeight||b(g)||18),l(u,"dy",n)),d=u),l(u,t),e.appendChild(u),r++,m)for(var v,w,x=f.replace(/([^\^])-/g,"$1- ").split(" "),y=[];x.length||y.length;)delete a.bBox,w=a.getBBox().width,v=w>m,v&&1!==x.length?(u.removeChild(u.firstChild),y.unshift(x.pop())):(x=y,y=[],x.length&&(u=lb.createElementNS(Eb,"tspan"),l(u,{dy:p||16,x:j}),s&&l(u,"style",s),e.appendChild(u),w>m&&(m=w))),x.length&&u.appendChild(lb.createTextNode(x.join(" ").replace(/- /g,"-")))}})})},button:function(c,d,e,f,g,h,i){var j,k,l,m,n,o=this.label(c,d,e),p=0,q="style",r={x1:0,y1:0,x2:0,y2:1};return g=vc(b(kc,1,jc,"#999",gc,b(hc,r,ic,[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,q,b("color","black")),g),l=g[q],delete g[q],h=vc(g,b(jc,"#68A",gc,b(hc,r,ic,[[0,"#FFF"],[1,"#ACF"]])),h),m=h[q],delete h[q],i=vc(g,b(jc,"#68A",gc,b(hc,r,ic,[[0,"#9BD"],[1,"#CDF"]])),i),n=i[q],delete i[q],wc(o.element,"mouseenter",function(){o.attr(h).css(m)}),wc(o.element,"mouseleave",function(){j=[g,h,i][p],k=[l,m,n][p],o.attr(j).css(k)}),o.setState=function(a){p=a,a?2===a&&o.attr(i).css(n):o.attr(g).css(l)},o.on("click",function(){f.call(o)}).attr(g).css(a({cursor:"default"},l))},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=ob(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=ob(a[2])+b%2/2),a},path:function(b){var c={fill:Tb};return f(b)?c.d=b:e(b)&&a(c,b),this.createElement("path").attr(c)},circle:function(a,b,c){var d=e(a)?a:{x:a,y:b,r:c};return this.createElement("circle").attr(d)},arc:function(a,b,c,d,f,g){return e(a)&&(b=a.y,c=a.r,d=a.innerR,f=a.start,g=a.end,a=a.x),this.symbol("arc",a||0,b||0,c||0,c||0,{innerR:d||0,start:f||0,end:g||0})},rect:function(a,b,c,d,f,g){f=e(a)?a.r:f;var h=this.createElement("rect").attr({rx:f,ry:f,fill:Tb});return h.attr(e(a)?a:h.crisp(g,a,b,rb(c,0),rb(d,0)))},setSize:function(a,b,c){var d=this,e=d.alignedObjects,f=e.length;for(d.width=a,d.height=b,d.boxWrapper[n(c,!0)?"animate":"attr"]({width:a,height:b});f--;)e[f].align()},g:function(a){var b=this.createElement("g");return k(a)?b.attr({"class":Qb+a}):b},image:function(b,c,d,e,f){var g,h={preserveAspectRatio:Tb};return arguments.length>1&&a(h,{x:c,y:d,width:e,height:f}),g=this.createElement("image").attr(h),g.element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",b):g.element.setAttribute("hc-svg-href",b),g},symbol:function(b,c,d,e,f,g){var h,i,j,k,l=this.symbols[b],m=l&&l(ob(c),ob(d),e,f,g),n=/^url\((.*?)\)$/;return m?(h=this.path(m),a(h,{symbolName:b,x:c,y:d,width:e,height:f}),g&&a(h,g)):n.test(b)&&(k=function(a,b){a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(-ob(b[0]/2),-ob(b[1]/2))},i=b.match(n)[1],j=Jb[i],h=this.image(i).attr({x:c,y:d}),j?k(h,j):(h.attr({width:0,height:0}),p("img",{onload:function(){var a=this;k(h,Jb[i]=[a.width,a.height])},src:i}))),h},symbols:{circle:function(a,b,c,d){var e=.166*c;return[Ub,a+c/2,b,"C",a+c+e,b,a+c+e,b+d,a+c/2,b+d,"C",a-e,b+d,a-e,b,a+c/2,b,"Z"]},square:function(a,b,c,d){return[Ub,a,b,Vb,a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return[Ub,a+c/2,b,Vb,a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return[Ub,a,b,Vb,a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return[Ub,a+c/2,b,Vb,a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(a,b,c,d,e){var f=e.start,g=e.r||c||d,h=e.end-1e-6,i=e.innerR,j=e.open,k=ub(f),l=vb(f),m=ub(h),n=vb(h),o=e.end-f<wb?0:1;return[Ub,a+g*k,b+g*l,"A",g,g,0,o,1,a+g*m,b+g*n,j?Ub:Vb,a+i*m,b+i*n,"A",i,i,0,o,0,a+i*k,b+i*l,j?"":"Z"]}},clipRect:function(a,b,c,d){var e,f=Qb+Kb++,g=this.createElement("clipPath").attr({id:f}).add(this.defs);return e=this.rect(a,b,c,d,0).add(g),e.id=f,e.clipPath=g,e},color:function(b,c,d){var e,g,h=this,i=/^rgba/;if(b&&b.linearGradient?g="linearGradient":b&&b.radialGradient&&(g="radialGradient"),g){var j,m,n,o=b[g],p=h.gradients,q=c.radialReference;return o.id&&p[o.id]||(f(o)&&(b[g]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===g&&q&&!k(o.gradientUnits)&&a(o,{cx:q[0]-q[2]/2+o.cx*q[2],cy:q[1]-q[2]/2+o.cy*q[2],r:o.r*q[2],gradientUnits:"userSpaceOnUse"}),o.id=Qb+Kb++,p[o.id]=j=h.createElement(g).attr(o).add(h.defs),j.stops=[],rc(b.stops,function(a){var b;i.test(a[1])?(e=Fc(a[1]),m=e.get("rgb"),n=e.get("a")):(m=a[1],n=1),b=h.createElement("stop").attr({offset:a[0],"stop-color":m,"stop-opacity":n}).add(j),j.stops.push(b)})),"url("+h.url+"#"+o.id+")"}return i.test(b)?(e=Fc(b),l(c,d+"-opacity",e.get("a")),e.get("rgb")):(c.removeAttribute(d+"-opacity"),b)},text:function(a,b,c,d){var e,f=this,g=W.chart.style,h=Hb||!Fb&&f.forExport;return d&&!f.forExport?f.html(a,b,c):(b=ob(n(b,0)),c=ob(n(c,0)),e=f.createElement("text").attr({x:b,y:c,text:a}).css({fontFamily:g.fontFamily,fontSize:g.fontSize}),h&&e.css({position:Nb}),e.x=b,e.y=c,e)},html:function(b,c,d){var e=W.chart.style,f=this.createElement("span"),g=f.attrSetters,h=f.element,i=f.renderer;return g.text=function(a){return a!==h.innerHTML&&delete this.bBox,h.innerHTML=a,!1},g.x=g.y=g.align=function(a,b){return"align"===b&&(b="textAlign"),f[b]=a,f.htmlUpdateTransform(),!1},f.attr({text:b,x:ob(c),y:ob(d)}).css({position:Nb,whiteSpace:"nowrap",fontFamily:e.fontFamily,fontSize:e.fontSize}),f.css=f.htmlCss,i.isSVG&&(f.add=function(b){var c,d,e=i.box.parentNode,g=[];if(b){if(c=b.div,!c){for(d=b;d;)g.push(d),d=d.parentGroup;rc(g.reverse(),function(b){var d;c=b.div=b.div||p(Mb,{className:l(b.element,"class")},{position:Nb,left:(b.translateX||0)+Sb,top:(b.translateY||0)+Sb},c||e),d=c.style,a(b.attrSetters,{translateX:function(a){d.left=a+Sb},translateY:function(a){d.top=a+Sb},visibility:function(a,b){d[b]=a}})})}}else c=e;return c.appendChild(h),f.added=!0,f.alignOnAdd&&f.htmlUpdateTransform(),f}),f},fontMetrics:function(a){a=c(a||11);var b=24>a?a+4:ob(1.2*a),d=ob(.8*b);return{h:b,b:d}},label:function(b,c,d,e,f,g,h,i,j){function l(){var a,b=y.element.style;q=(void 0===r||void 0===s||x.styles.textAlign)&&y.getBBox(),x.width=(r||q.width||0)+2*A,x.height=(s||q.height||0)+2*A,v=A+w.fontMetrics(b&&b.fontSize).b,p||(a=i?-v:0,x.box=p=e?w.symbol(e,-z*A,a,x.width,x.height):w.rect(-z*A,a,x.width,x.height,0,C[kc]),p.add(x)),p.attr(vc({width:x.width,height:x.height},C)),C=null}function m(){var a,b=x.styles,c=b&&b.textAlign,d=A*(1-z);a=i?0:v,!k(r)||"center"!==c&&"right"!==c||(d+={center:.5,right:1}[c]*(r-q.width)),(d!==y.x||a!==y.y)&&y.attr({x:d,y:a}),y.x=d,y.y=a}function n(a,b){p?p.attr(a,b):C[a]=b}function o(){y.add(x),x.attr({text:b,x:c,y:d}),k(f)&&x.attr({anchorX:f,anchorY:g})}var p,q,r,s,t,u,v,w=this,x=w.g(j),y=w.text("",0,0,h).attr({zIndex:1}),z=0,A=3,B=0,C={},D=x.attrSetters;wc(x,"add",o),D.width=function(a){return r=a,!1},D.height=function(a){return s=a,!1},D.padding=function(a){return k(a)&&a!==A&&(A=a,m()),!1},D.align=function(a){return z={left:0,center:.5,right:1}[a],!1},D.text=function(a,b){return y.attr(b,a),l(),m(),!1},D[kc]=function(a,b){return B=a%2/2,n(b,a),!1},D.stroke=D.fill=D.r=function(a,b){return n(b,a),!1},D.anchorX=function(a,b){return f=a,n(b,a+B-t),!1},D.anchorY=function(a,b){return g=a,n(b,a-u),!1},D.x=function(a){return x.x=a,a-=z*((r||q.width)+A),t=ob(a),x.attr("translateX",t),!1},D.y=function(a){return u=x.y=ob(a),x.attr("translateY",a),!1};var E=x.css;return a(x,{css:function(a){if(a){var b={};a=vc({},a),rc(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(c){a[c]!==T&&(b[c]=a[c],delete a[c])}),y.css(b)}return E.call(x,a)},getBBox:function(){return p.getBBox()},shadow:function(a){return p.shadow(a),x},destroy:function(){xc(x,"add",o),xc(x.element,"mouseenter"),xc(x.element,"mouseleave"),y&&(y=y.destroy()),p&&(p=p.destroy()),K.prototype.destroy.call(x)}})}},U=Gc;var Hc;if(!Fb&&!Hb){var Ic={init:function(a,b){var c=this,d=["<",b,' filled="f" stroked="f"'],e=["position: ",Nb,";"];("shape"===b||b===Mb)&&e.push("left:0;top:0;width:1px;height:1px;"),Bb&&e.push("visibility: ",b===Mb?Pb:Rb),d.push(' style="',e.join(""),'"/>'),b&&(d=b===Mb||"span"===b||"img"===b?d.join(""):a.prepVML(d),c.element=p(d)),c.renderer=a,c.attrSetters={}},add:function(a){var b=this,c=b.renderer,d=b.element,e=c.box,f=a&&a.inverted,g=a?a.element||a:e;return f&&c.invertChild(d,g),g.appendChild(d),b.added=!0,b.alignOnAdd&&!b.deferUpdateTransform&&b.updateTransform(),yc(b,"add"),b},updateTransform:K.prototype.htmlUpdateTransform,attr:function(a,b){var c,e,f,h,i,j,m=this,n=m.element||{},o=n.style,q=n.nodeName,r=m.renderer,s=m.symbolName,t=m.shadows,u=m.attrSetters,v=m;if(d(a)&&k(b)&&(c=a,a={},a[c]=b),d(a))c=a,v="strokeWidth"===c||"stroke-width"===c?m.strokeweight:m[c];else for(c in a)if(e=a[c],j=!1,h=u[c]&&u[c].call(m,e,c),h!==!1&&null!==e){if(h!==T&&(e=h),s&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(c))i||(m.symbolAttr(a),i=!0),j=!0;else if("d"===c){e=e||[],m.d=e.join(" "),f=e.length;for(var w=[];f--;)w[f]=g(e[f])?ob(10*e[f])-5:"Z"===e[f]?"x":e[f];if(e=w.join(" ")||"x",n.path=e,t)for(f=t.length;f--;)t[f].path=t[f].cutOff?this.cutOffPath(e,t[f].cutOff):e;j=!0}else if("visibility"===c){if(t)for(f=t.length;f--;)t[f].style[c]=e;"DIV"===q&&(e=e===Pb?"-999em":0,c="top"),o[c]=e,j=!0}else if("zIndex"===c)e&&(o[c]=e),j=!0;else if("width"===c||"height"===c)e=rb(0,e),this[c]=e,m.updateClipping?(m[c]=e,m.updateClipping()):o[c]=e,j=!0;else if("x"===c||"y"===c)m[c]=e,o[{x:"left",y:"top"}[c]]=e;else if("class"===c)n.className=e;else if("stroke"===c)e=r.color(e,n,c),c="strokecolor";else if("stroke-width"===c||"strokeWidth"===c)n.stroked=e?!0:!1,c="strokeweight",m[c]=e,g(e)&&(e+=Sb);else if("dashstyle"===c){var x=n.getElementsByTagName("stroke")[0]||p(r.prepVML(["<stroke/>"]),null,null,n);x[c]=e||"solid",m.dashstyle=e,j=!0}else"fill"===c?"SPAN"===q?o.color=e:(n.filled=e!==Tb?!0:!1,e=r.color(e,n,c,m),c="fillcolor"):"shape"===q&&"rotation"===c?(m[c]=e,n.style.left=-ob(vb(e*xb)+1)+Sb,n.style.top=ob(ub(e*xb))+Sb):"translateX"===c||"translateY"===c||"rotation"===c?(m[c]=e,m.updateTransform(),j=!0):"text"===c&&(this.bBox=null,n.innerHTML=e,j=!0);j||(Bb?n[c]=e:l(n,c,e))}return v},clip:function(a){var b,c,d=this,e=d.element,f=e.parentNode;return a?(b=a.members,b.push(d),d.destroyClip=function(){j(b,d)},f&&"highcharts-tracker"===f.className&&!Bb&&o(e,{visibility:Pb}),c=a.getCSS(d)):(d.destroyClip&&d.destroyClip(),c={clip:Bb?"inherit":"rect(auto)"}),d.css(c)},css:K.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&D(a)},destroy:function(){return this.destroyClip&&this.destroyClip(),K.prototype.destroy.apply(this)},empty:function(){for(var a,b=this.element,c=b.childNodes,d=c.length;d--;)a=c[d],a.parentNode.removeChild(a)},on:function(a,b){return this.element["on"+a]=function(){var a=mb.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,b){var d;return a=a.split(/[ ,]/),d=a.length,(9===d||11===d)&&(a[d-4]=a[d-2]=c(a[d-2])-10*b),a.join(" ")},shadow:function(a,b,d){var e,f,g,h,i,j,k,l=[],m=this.element,o=this.renderer,q=m.style,r=m.path;if(r&&"string"!=typeof r.value&&(r="x"),i=r,a){for(j=n(a.width,3),k=(a.opacity||.15)/j,e=1;3>=e;e++)h=2*j+1-2*e,d&&(i=this.cutOffPath(r.value,h+.5)),g=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',i,'" coordsize="10 10" style="',m.style.cssText,'" />'],f=p(o.prepVML(g),null,{left:c(q.left)+n(a.offsetX,1),top:c(q.top)+n(a.offsetY,1)}),d&&(f.cutOff=h+1),g=['<stroke color="',a.color||"black",'" opacity="',k*e,'"/>'],p(o.prepVML(g),null,null,f),b?b.element.appendChild(f):m.parentNode.insertBefore(f,m),l.push(f);this.shadows=l}return this}};Ic=q(K,Ic);var Jc={Element:Ic,isIE8:yb.indexOf("MSIE 8.0")>-1,init:function(a,b,c){var d,e,f=this;f.alignedObjects=[],d=f.createElement(Mb),e=d.element,e.style.position=Ob,a.appendChild(d.element),f.box=e,f.boxWrapper=d,f.setSize(b,c,!1),lb.namespaces.hcv||(lb.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),lb.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(b,c,d,f){var g=this.createElement(),h=e(b);return a(g,{members:[],left:h?b.x:b,top:h?b.y:c,width:h?b.width:d,height:h?b.height:f,getCSS:function(b){var c=b.inverted,d=this,e=d.top,f=d.left,g=f+d.width,h=e+d.height,i={clip:"rect("+ob(c?f:e)+"px,"+ob(c?h:g)+"px,"+ob(c?g:h)+"px,"+ob(c?e:f)+"px)"};return!c&&Bb&&"IMG"!==b.element.nodeName&&a(i,{width:g+Sb,height:h+Sb}),i},updateClipping:function(){rc(g.members,function(a){a.css(g.getCSS(a))})}})},color:function(a,b,c,d){var e,f,g,h=this,i=/^rgba/,j=Tb;if(a&&a.linearGradient?g="gradient":a&&a.radialGradient&&(g="pattern"),g){var k,l,m,n,o,q,r,s,t,u,v,w,x=a.linearGradient||a.radialGradient,y="",z=a.stops,A=[],B=function(){f=['<fill colors="'+A.join(",")+'" opacity="',s,'" o:opacity2="',r,'" type="',g,'" ',y,'focus="100%" method="any" />'],p(h.prepVML(f),null,null,b)};if(v=z[0],w=z[z.length-1],v[0]>0&&z.unshift([0,v[1]]),w[0]<1&&z.push([1,w[1]]),rc(z,function(a,b){i.test(a[1])?(e=Fc(a[1]),k=e.get("rgb"),l=e.get("a")):(k=a[1],l=1),A.push(100*a[0]+"% "+k),b?(s=l,t=k):(r=l,u=k)}),"fill"===c)if("gradient"===g)m=x.x1||x[0]||0,n=x.y1||x[1]||0,o=x.x2||x[2]||0,q=x.y2||x[3]||0,y='angle="'+(90-180*nb.atan((q-n)/(o-m))/wb)+'"',B();else{var C,D=x.r,E=2*D,F=2*D,G=x.cx,H=x.cy,I=b.radialReference,J=function(){I&&(C=d.getBBox(),G+=(I[0]-C.x)/C.width-.5,H+=(I[1]-C.y)/C.height-.5,E*=I[2]/C.width,F*=I[2]/C.height),y='src="'+W.global.VMLRadialGradientURL+'" '+'size="'+E+","+F+'" '+'origin="0.5,0.5" '+'position="'+G+","+H+'" '+'color2="'+u+'" ',B()};d.added?J():wc(d,"add",J),j=t}else j=k}else if(i.test(a)&&"IMG"!==b.tagName)e=Fc(a),f=["<",c,' opacity="',e.get("a"),'"/>'],p(this.prepVML(f),null,null,b),j=e.get("rgb");else{var K=b.getElementsByTagName(c);K.length&&(K[0].opacity=1),j=a}return j},prepVML:function(a){var b="display:inline-block;behavior:url(#default#VML);",c=this.isIE8;return a=a.join(""),c?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="'+b+'" />'):a.replace('style="','style="'+b)):a=a.replace("<","<hcv:"),a},text:Gc.prototype.html,path:function(b){var c={coordsize:"10 10"};return f(b)?c.d=b:e(b)&&a(c,b),this.createElement("shape").attr(c)},circle:function(a,b,c){return this.symbol("circle").attr({x:a-c,y:b-c,width:2*c,height:2*c})},g:function(a){var b,c;return a&&(c={className:Qb+a,"class":Qb+a}),b=this.createElement(Mb).attr(c)},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});return arguments.length>1&&f.attr({x:b,y:c,width:d,height:e}),f},rect:function(a,b,c,d,f,g){e(a)&&(b=a.y,c=a.width,d=a.height,g=a.strokeWidth,a=a.x);var h=this.symbol("rect");return h.r=f,h.attr(h.crisp(g,a,b,rb(c,0),rb(d,0)))},invertChild:function(a,b){var d=b.style;o(a,{flip:"x",left:c(d.width)-1,top:c(d.height)-1,rotation:-90})},symbols:{arc:function(a,b,c,d,e){var f,g=e.start,h=e.end,i=e.r||c||d,j=ub(g),k=vb(g),l=ub(h),m=vb(h),n=e.innerR,o=.08/i,p=n&&.1/n||0;return 0===h-g?["x"]:(o>2*wb-h+g?l=-o:p>h-g&&(l=ub(g+p)),f=["wa",a-i,b-i,a+i,b+i,a+i*j,b+i*k,a+i*l,b+i*m],e.open&&!n&&f.push("e",Ub,a,b),f.push("at",a-n,b-n,a+n,b+n,a+n*l,b+n*m,a+n*j,b+n*k,"x","e"),f)},circle:function(a,b,c,d){return["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(a,b,c,d,e){var f,g,h=a+c,i=b+d;return k(e)&&e.r?(g=sb(e.r,c,d),f=[Ub,a+g,b,Vb,h-g,b,"wa",h-2*g,b,h,b+2*g,h-g,b,h,b+g,Vb,h,i-g,"wa",h-2*g,i-2*g,h,i,h,i-g,h-g,i,Vb,a+g,i,"wa",a,i-2*g,a+2*g,i,a+g,i,a,i-g,Vb,a,b+g,"wa",a,b,a+2*g,b+2*g,a,b+g,a+g,b,"x","e"]):f=Gc.prototype.symbols.square.apply(0,arguments),f}}};Hc=function(){this.init.apply(this,arguments)},Hc.prototype=vc(Gc.prototype,Jc),U=Hc}var Kc,Lc;Hb&&(Kc=function(){Eb="http://www.w3.org/1999/xhtml"},Kc.prototype.symbols={},Lc=function(){function a(){var a,c=b.length;for(a=0;c>a;a++)b[a]();b=[]}var b=[];return{push:function(c,d){0===b.length&&pc(d,a),b.push(c)}}}()),U=Hc||Kc||Gc,L.prototype={addLabel:function(){var b,c,d,e,f=this,h=f.axis,j=h.options,l=h.chart,m=h.horiz,n=h.categories,o=f.pos,p=j.labels,q=h.tickPositions,r=n&&m&&n.length&&!p.step&&!p.staggerLines&&!p.rotation&&l.plotWidth/q.length||!m&&l.plotWidth/2,s=o===q[0],t=o===q[q.length-1],u=n&&k(n[o])?n[o]:o,v=f.label,w=q.info;h.isDatetimeAxis&&w&&(e=j.dateTimeLabelFormats[w.higherRanks[o]||w.unitName]),f.isFirst=s,f.isLast=t,b=h.labelFormatter.call({axis:h,chart:l,isFirst:s,isLast:t,dateTimeLabelFormat:e,value:h.isLog?F(i(u)):u}),c=r&&{width:rb(1,ob(r-2*(p.padding||10)))+Sb},c=a(c,p.style),k(v)?v&&v.attr({text:b}).css(c):(d={align:p.align},g(p.rotation)&&(d.rotation=p.rotation),f.label=k(b)&&p.enabled?l.renderer.text(b,0,0,p.useHTML).attr(d).css(c).add(h.labelGroup):null)},getLabelSize:function(){var a=this.label,b=this.axis;return a?(this.labelBBox=a.getBBox())[b.horiz?"height":"width"]:0},getLabelSides:function(){var a=this.labelBBox,b=this.axis,c=b.options,d=c.labels,e=a.width,f=e*{left:0,center:.5,right:1}[d.align]-d.x;return[-f,e-f]},handleOverflow:function(a,b){var c=!0,d=this.axis,e=d.chart,f=this.isFirst,g=this.isLast,h=b.x,i=d.reversed,j=d.tickPositions;if(f||g){var k=this.getLabelSides(),l=k[0],m=k[1],n=e.plotLeft,o=n+d.len,p=d.ticks[j[a+(f?1:-1)]],q=p&&p.label.xy&&p.label.xy.x+p.getLabelSides()[f?0:1];f&&!i||g&&i?n>h+l&&(h=n-l,p&&h+m>q&&(c=!1)):h+m>o&&(h=o-m,p&&q>h+l&&(c=!1)),b.x=h}return c},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,b,d,e,f,g,h,i){var j=this.axis,l=j.transA,m=j.reversed,n=j.staggerLines;return a=a+f.x-(g&&e?g*l*(m?-1:1):0),b=b+f.y-(g&&!e?g*l*(m?1:-1):0),k(f.y)||(b+=.9*c(d.styles.lineHeight)-d.getBBox().height/2),n&&(b+=16*(h/(i||1)%n)),{x:a,y:b}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine([Ub,a,b,Vb,a+(e?0:-c),b+(e?c:0)],d)},render:function(a,b){var c,d,e,f=this,g=f.axis,h=g.options,i=g.chart,j=i.renderer,k=g.horiz,l=f.type,m=f.label,o=f.pos,p=h.labels,q=f.gridLine,r=l?l+"Grid":"grid",s=l?l+"Tick":"tick",t=h[r+"LineWidth"],u=h[r+"LineColor"],v=h[r+"LineDashStyle"],w=h[s+"Length"],x=h[s+"Width"]||0,y=h[s+"Color"],z=h[s+"Position"],A=f.mark,B=p.step,C=!0,D=g.tickmarkOffset,E=f.getPosition(k,o,D,b),F=E.x,G=E.y,H=g.staggerLines;t&&(c=g.getPlotLinePath(o+D,t,b),q===T&&(e={stroke:u,"stroke-width":t},v&&(e.dashstyle=v),l||(e.zIndex=1),f.gridLine=q=t?j.path(c).attr(e).add(g.gridGroup):null),!b&&q&&c&&q[f.isNew?"attr":"animate"]({d:c})),x&&w&&("inside"===z&&(w=-w),g.opposite&&(w=-w),d=f.getMarkPath(F,G,w,x,k,j),A?A.animate({d:d}):f.mark=j.path(d).attr({stroke:y,"stroke-width":x}).add(g.axisGroup)),m&&!isNaN(F)&&(m.xy=E=f.getLabelPosition(F,G,m,k,p,D,a,B),f.isFirst&&!n(h.showFirstLabel,1)||f.isLast&&!n(h.showLastLabel,1)?C=!1:H||!k||"justify"!==p.overflow||f.handleOverflow(a,E)||(C=!1),B&&a%B&&(C=!1),C?(m[f.isNew?"attr":"animate"](E),m.show(),f.isNew=!1):m.hide())},destroy:function(){C(this,this.axis)}},M.prototype={render:function(){var a,b,c,d,e,f,g,i=this,j=i.axis,l=j.horiz,m=(j.pointRange||0)/2,o=i.options,p=o.label,q=i.label,r=o.width,s=o.to,t=o.from,u=k(t)&&k(s),v=o.value,w=o.dashStyle,x=i.svgElem,y=[],z=o.color,C=o.zIndex,D=o.events,E=j.chart.renderer;if(j.isLog&&(t=h(t),s=h(s),v=h(v)),r)y=j.getPlotLinePath(v,r),g={stroke:z,"stroke-width":r},w&&(g.dashstyle=w);else{if(!u)return;t=rb(t,j.min-m),s=sb(s,j.max+m),y=j.getPlotBandPath(t,s,o),g={fill:z},o.borderWidth&&(g.stroke=o.borderColor,g["stroke-width"]=o.borderWidth)}if(k(C)&&(g.zIndex=C),x)y?x.animate({d:y},null,x.onGetPath):(x.hide(),x.onGetPath=function(){x.show()});else if(y&&y.length&&(i.svgElem=x=E.path(y).attr(g).add(),D)){a=function(a){x.on(a,function(b){D[a].apply(i,[b])})};for(b in D)a(b)}return p&&k(p.text)&&y&&y.length&&j.width>0&&j.height>0?(p=vc({align:l&&u&&"center",x:l?!u&&4:10,verticalAlign:!l&&u&&"middle",y:l?u?16:10:u?6:-4,rotation:l&&!u&&90},p),q||(i.label=q=E.text(p.text,0,0).attr({align:p.textAlign||p.align,rotation:p.rotation,zIndex:C}).css(p.style).add()),c=[y[1],y[4],n(y[6],y[1])],d=[y[2],y[5],n(y[7],y[2])],e=A(c),f=A(d),q.align(p,!1,{x:e,y:f,width:B(c)-e,height:B(d)-f}),q.show()):q&&q.hide(),i},destroy:function(){var a=this,b=a.axis;j(b.plotLinesAndBands,a),C(a,this.axis)}},N.prototype={destroy:function(){C(this,this.axis)},setTotal:function(a){this.total=a,this.cum=a},render:function(a){var b=this.options.formatter.call(this);this.label?this.label.attr({text:b,visibility:Pb}):this.label=this.axis.chart.renderer.text(b,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:Pb}).add(a)},setOffset:function(a,b){var c,d=this,e=d.axis,f=e.chart,g=f.inverted,h=this.isNegative,i=e.translate(this.percent?100:this.total,0,0,0,1),j=e.translate(0),k=tb(i-j),l=f.xAxis[0].translate(this.x)+a,m=f.plotHeight,n={x:g?h?i:i-k:l,y:g?m-l-b:h?m-i-k:m-i,width:g?k:b,height:g?b:k},o=this.label;o&&(o.align(this.alignOptions,null,n),c=o.alignAttr,o.attr({visibility:this.options.crop===!1||f.isInsidePlot(c.x,c.y)?Fb?"inherit":Rb:Pb}))}},O.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Cc,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total
},style:Cc.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(a,b){var c=b.isX,d=this;d.horiz=a.inverted?!c:c,d.isXAxis=c,d.xOrY=c?"x":"y",d.opposite=b.opposite,d.side=d.horiz?d.opposite?0:2:d.opposite?1:3,d.setOptions(b);var e=this.options,f=e.type,g="datetime"===f;d.labelFormatter=e.labels.formatter||d.defaultLabelFormatter,d.staggerLines=d.horiz&&e.labels.staggerLines,d.userOptions=b,d.minPixelPadding=0,d.chart=a,d.reversed=e.reversed,d.categories=e.categories,d.isLog="logarithmic"===f,d.isLinked=k(e.linkedTo),d.isDatetimeAxis=g,d.tickmarkOffset=e.categories&&"between"===e.tickmarkPlacement?.5:0,d.ticks={},d.minorTicks={},d.plotLinesAndBands=[],d.alternateBands={},d.len=0,d.minRange=d.userMinRange=e.minRange||e.maxZoom,d.range=e.range,d.offset=e.offset||0,d.stacks={},d.max=null,d.min=null;var j,l=d.options.events;a.axes.push(d),a[c?"xAxis":"yAxis"].push(d),d.series=[],a.inverted&&c&&d.reversed===T&&(d.reversed=!0),d.removePlotBand=d.removePlotBandOrLine,d.removePlotLine=d.removePlotBandOrLine,d.addPlotBand=d.addPlotBandOrLine,d.addPlotLine=d.addPlotBandOrLine;for(j in l)wc(d,j,l[j]);d.isLog&&(d.val2lin=h,d.lin2val=i)},setOptions:function(a){this.options=vc(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],vc(W[this.isXAxis?"xAxis":"yAxis"],a))},defaultLabelFormatter:function(){var a,b,c=this.axis,d=this.value,e=c.categories,f=this.dateTimeLabelFormat,g=W.lang.numericSymbols,h=g&&g.length,i=c.isLog?d:c.tickInterval;if(e)b=d;else if(f)b=X(f,d);else if(h&&i>=1e3)for(;h--&&b===T;)a=Math.pow(1e3,h+1),i>=a&&null!==g[h]&&(b=s(d/a,-1)+g[h]);return b===T&&(b=d>=1e3?s(d,0):s(d,-1)),b},getSeriesExtremes:function(){var a,b=this,c=b.chart,d=b.stacks,e=[],f=[];b.hasVisibleSeries=!1,b.dataMin=b.dataMax=null,rc(b.series,function(g){if(g.visible||!c.options.chart.ignoreHiddenSeries){var h,i,j,l,m,o,p,q,r,s,t,u=g.options,v=u.threshold,w=[],x=0;if(b.hasVisibleSeries=!0,b.isLog&&0>=v&&(v=u.threshold=null),b.isXAxis)p=g.xData,p.length&&(b.dataMin=sb(n(b.dataMin,p[0]),A(p)),b.dataMax=rb(n(b.dataMax,p[0]),B(p)));else{var y,z,C,D,E=g.cropped,G=g.xAxis.getExtremes(),H=!!g.modifyValue;for(h=u.stacking,b.usePercentage="percent"===h,h&&(m=u.stack,l=g.type+n(m,""),o="-"+l,g.stackKey=l,i=e[l]||[],e[l]=i,j=f[o]||[],f[o]=j),b.usePercentage&&(b.dataMin=0,b.dataMax=99),p=g.processedXData,q=g.processedYData,t=q.length,a=0;t>a;a++)if(r=p[a],s=q[a],h&&(y=v>s,z=y?j:i,C=y?o:l,s=z[r]=k(z[r])?F(z[r]+s):s,d[C]||(d[C]={}),d[C][r]||(d[C][r]=new N(b,b.options.stackLabels,y,r,m,h)),d[C][r].setTotal(s)),null!==s&&s!==T&&(H&&(s=g.modifyValue(s)),E||(p[a+1]||r)>=G.min&&(p[a-1]||r)<=G.max))if(D=s.length)for(;D--;)null!==s[D]&&(w[x++]=s[D]);else w[x++]=s;!b.usePercentage&&w.length&&(b.dataMin=sb(n(b.dataMin,w[0]),A(w)),b.dataMax=rb(n(b.dataMax,w[0]),B(w))),k(v)&&(b.dataMin>=v?(b.dataMin=v,b.ignoreMinPadding=!0):b.dataMax<v&&(b.dataMax=v,b.ignoreMaxPadding=!0))}}})},translate:function(a,b,c,d,e,f){var g,h=this,i=h.len,j=1,k=0,l=d?h.oldTransA:h.transA,m=d?h.oldMin:h.min,n=h.options.ordinal||h.isLog&&e;return l||(l=h.transA),c&&(j*=-1,k=i),h.reversed&&(j*=-1,k-=j*i),b?(h.reversed&&(a=i-a),g=a/l+m,n&&(g=h.lin2val(g))):(n&&(a=h.val2lin(a)),g=j*(a-m)*l+k+j*h.minPixelPadding+(f?l*h.pointRange/2:0)),g},getPlotLinePath:function(a,b,c){var d,e,f,g,h,i=this,j=i.chart,k=i.left,l=i.top,m=i.translate(a,null,null,c),n=c&&j.oldChartHeight||j.chartHeight,o=c&&j.oldChartWidth||j.chartWidth,p=i.transB;return d=f=ob(m+p),e=g=ob(n-m-p),isNaN(m)?h=!0:i.horiz?(e=l,g=n-i.bottom,(k>d||d>k+i.width)&&(h=!0)):(d=k,f=o-i.right,(l>e||e>l+i.height)&&(h=!0)),h?null:j.renderer.crispLine([Ub,d,e,Vb,f,g],b||0)},getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b),d=this.getPlotLinePath(a);return d&&c?d.push(c[4],c[5],c[1],c[2]):d=null,d},getLinearTickPositions:function(a,b,c){var d,e,f=F(pb(b/a)*a),g=F(qb(c/a)*a),h=[];for(d=f;g>=d&&(h.push(d),d=F(d+a),d!==e);)e=d;return h},getLogTickPositions:function(a,b,c,d){var e=this,f=e.options,g=e.len,j=[];if(d||(e._minorAutoInterval=null),a>=.5)a=ob(a),j=e.getLinearTickPositions(a,b,c);else if(a>=.08){var k,l,m,o,p,q,r,s=pb(b);for(k=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],l=s;c+1>l&&!r;l++)for(o=k.length,m=0;o>m&&!r;m++)p=h(i(l)*k[m]),p>b&&j.push(q),q>c&&(r=!0),q=p}else{var t=i(b),u=i(c),w=f[d?"minorTickInterval":"tickInterval"],x="auto"===w?null:w,y=f.tickPixelInterval/(d?5:1),z=d?g/e.tickPositions.length:g;a=n(x,e._minorAutoInterval,(u-t)*y/(z||1)),a=v(a,null,nb.pow(10,pb(nb.log(a)/nb.LN10))),j=uc(e.getLinearTickPositions(a,t,u),h),d||(e._minorAutoInterval=a/5)}return d||(e.tickInterval=a),j},getMinorTickPositions:function(){var a,b,c,d=this,e=d.tickPositions,f=d.minorTickInterval,g=[];if(d.isLog)for(c=e.length,b=1;c>b;b++)g=g.concat(d.getLogTickPositions(f,e[b-1],e[b],!0));else for(a=d.min+(e[0]-d.min)%f;a<=d.max;a+=f)g.push(a);return g},adjustForMinRange:function(){var a,b,c,d,e,f,g,h,i=this,j=i.options,l=i.min,m=i.max,o=i.dataMax-i.dataMin>=i.minRange;if(i.isXAxis&&i.minRange===T&&!i.isLog&&(k(j.min)||k(j.max)?i.minRange=null:(rc(i.series,function(a){for(e=a.xData,f=a.xIncrement?1:e.length-1,c=f;c>0;c--)d=e[c]-e[c-1],(b===T||b>d)&&(b=d)}),i.minRange=sb(5*b,i.dataMax-i.dataMin))),m-l<i.minRange){var p=i.minRange;a=(p-m+l)/2,g=[l-a,n(j.min,l-a)],o&&(g[2]=i.dataMin),l=B(g),h=[l+p,n(j.max,l+p)],o&&(h[2]=i.dataMax),m=A(h),p>m-l&&(g[0]=m-p,g[1]=n(j.min,m-p),l=B(g))}i.min=l,i.max=m},setAxisTranslation:function(){var a,b=this,c=b.max-b.min,d=0,e=0,f=0,g=b.linkedParent,h=b.transA;b.isXAxis&&(g?(e=g.minPointOffset,f=g.pointRangePadding):rc(b.series,function(b){var c=b.pointRange,g=b.options.pointPlacement,h=b.closestPointRange;d=rb(d,c),e=rb(e,g?0:c/2),f=rb(f,"on"===g?0:c),!b.noSharedTooltip&&k(h)&&(a=k(a)?sb(a,h):h)}),b.minPointOffset=e,b.pointRangePadding=f,b.pointRange=d,b.closestPointRange=a),b.oldTransA=h,b.translationSlope=b.transA=h=b.len/(c+f||1),b.transB=b.horiz?b.left:b.bottom,b.minPixelPadding=h*e},setTickPositions:function(a){var b,c,d,e,f=this,g=f.chart,i=f.options,j=f.isLog,l=f.isDatetimeAxis,m=f.isXAxis,o=f.isLinked,p=f.options.tickPositioner,q=i.maxPadding,r=i.minPadding,s=i.tickInterval,t=i.minTickInterval,u=i.tickPixelInterval,y=f.categories;if(o?(f.linkedParent=g[m?"xAxis":"yAxis"][i.linkedTo],d=f.linkedParent.getExtremes(),f.min=n(d.min,d.dataMin),f.max=n(d.max,d.dataMax),i.type!==f.linkedParent.options.type&&E(11,1)):(f.min=n(f.userMin,i.min,f.dataMin),f.max=n(f.userMax,i.max,f.dataMax)),j&&(!a&&sb(f.min,n(f.dataMin,f.min))<=0&&E(10,1),f.min=F(h(f.min)),f.max=F(h(f.max))),f.range&&(f.userMin=f.min=rb(f.min,f.max-f.range),f.userMax=f.max,a&&(f.range=null)),f.adjustForMinRange(),y||f.usePercentage||o||!k(f.min)||!k(f.max)||(c=f.max-f.min||1,k(i.min)||k(f.userMin)||!r||!(f.dataMin<0)&&f.ignoreMinPadding||(f.min-=c*r),k(i.max)||k(f.userMax)||!q||!(f.dataMax>0)&&f.ignoreMaxPadding||(f.max+=c*q)),f.tickInterval=f.min===f.max||void 0===f.min||void 0===f.max?1:o&&!s&&u===f.linkedParent.options.tickPixelInterval?f.linkedParent.tickInterval:n(s,y?1:(f.max-f.min)*u/(f.len||1)),m&&!a&&rc(f.series,function(a){a.processData(f.min!==f.oldMin||f.max!==f.oldMax)}),f.setAxisTranslation(a),f.beforeSetTickPositions&&f.beforeSetTickPositions(),f.postProcessTickInterval&&(f.tickInterval=f.postProcessTickInterval(f.tickInterval)),!s&&f.tickInterval<t&&(f.tickInterval=t),l||j||(b=nb.pow(10,pb(nb.log(f.tickInterval)/nb.LN10)),s||(f.tickInterval=v(f.tickInterval,null,b,i))),f.minorTickInterval="auto"===i.minorTickInterval&&f.tickInterval?f.tickInterval/5:i.minorTickInterval,f.tickPositions=e=i.tickPositions||p&&p.apply(f,[f.min,f.max]),e||(e=l?(f.getNonLinearTimeTicks||x)(w(f.tickInterval,i.units),f.min,f.max,i.startOfWeek,f.ordinalPositions,f.closestPointRange,!0):j?f.getLogTickPositions(f.tickInterval,f.min,f.max):f.getLinearTickPositions(f.tickInterval,f.min,f.max),f.tickPositions=e),!o){var z=e[0],A=e[e.length-1],B=f.minPointOffset||0;i.startOnTick?f.min=z:f.min-B>z&&e.shift(),i.endOnTick?f.max=A:f.max+B<A&&e.pop()}},setMaxTicks:function(){var a=this.chart,b=a.maxTicks,c=this.tickPositions,d=this.xOrY;b||(b={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&c.length>b[d]&&this.options.alignTicks!==!1&&(b[d]=c.length),a.maxTicks=b},adjustTickAmount:function(){var a=this,b=a.chart,c=a.xOrY,d=a.tickPositions,e=b.maxTicks;if(e&&e[c]&&!a.isDatetimeAxis&&!a.categories&&!a.isLinked&&a.options.alignTicks!==!1){var f,g=a.tickAmount,h=d.length;if(a.tickAmount=f=e[c],f>h){for(;d.length<f;)d.push(F(d[d.length-1]+a.tickInterval));a.transA*=(h-1)/(f-1),a.max=d[d.length-1]}k(g)&&f!==g&&(a.isDirty=!0)}},setScale:function(){var a,b,c,d,e=this,f=e.stacks;if(e.oldMin=e.min,e.oldMax=e.max,e.oldAxisLength=e.len,e.setAxisSize(),d=e.len!==e.oldAxisLength,rc(e.series,function(a){(a.isDirtyData||a.isDirty||a.xAxis.isDirty)&&(c=!0)}),(d||c||e.isLinked||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax)&&(e.getSeriesExtremes(),e.setTickPositions(),e.oldUserMin=e.userMin,e.oldUserMax=e.userMax,e.isDirty||(e.isDirty=d||e.min!==e.oldMin||e.max!==e.oldMax)),!e.isXAxis)for(a in f)for(b in f[a])f[a][b].cum=f[a][b].total;e.setMaxTicks()},setExtremes:function(b,c,d,e,f){var g=this,h=g.chart;d=n(d,!0),f=a(f,{min:b,max:c}),yc(g,"setExtremes",f,function(){g.userMin=b,g.userMax=c,g.isDirtyExtremes=!0,d&&h.redraw(e)})},zoom:function(a,b){return this.setExtremes(a,b,!1,T,{trigger:"zoom"}),!0},setAxisSize:function(){var a=this,b=a.chart,c=a.options,d=c.offsetLeft||0,e=c.offsetRight||0;a.left=n(c.left,b.plotLeft+d),a.top=n(c.top,b.plotTop),a.width=n(c.width,b.plotWidth-d+e),a.height=n(c.height,b.plotHeight),a.bottom=b.chartHeight-a.height-a.top,a.right=b.chartWidth-a.width-a.left,a.len=rb(a.horiz?a.width:a.height,0)},getExtremes:function(){var a=this,b=a.isLog;return{min:b?F(i(a.min)):a.min,max:b?F(i(a.max)):a.max,dataMin:a.dataMin,dataMax:a.dataMax,userMin:a.userMin,userMax:a.userMax}},getThreshold:function(a){var b=this,c=b.isLog,d=c?i(b.min):b.min,e=c?i(b.max):b.max;return d>a||null===a?a=d:a>e&&(a=e),b.translate(a,0,1,0,1)},addPlotBandOrLine:function(a){var b=new M(this,a).render();return this.plotLinesAndBands.push(b),b},getOffset:function(){var a,b,c,d,e=this,f=e.chart,g=f.renderer,h=e.options,i=e.tickPositions,j=e.ticks,l=e.horiz,m=e.side,o=0,p=0,q=h.title,r=h.labels,s=0,t=f.axisOffset,u=[-1,1,1,-1][m];if(e.hasData=a=e.hasVisibleSeries||k(e.min)&&k(e.max)&&!!i,e.showAxis=b=a||n(h.showEmpty,!0),e.axisGroup||(e.gridGroup=g.g("grid").attr({zIndex:h.gridZIndex||1}).add(),e.axisGroup=g.g("axis").attr({zIndex:h.zIndex||2}).add(),e.labelGroup=g.g("axis-labels").attr({zIndex:r.zIndex||7}).add()),a||e.isLinked)rc(i,function(a){j[a]?j[a].addLabel():j[a]=new L(e,a)}),rc(i,function(a){(0===m||2===m||{1:"left",3:"right"}[m]===r.align)&&(s=rb(j[a].getLabelSize(),s))}),e.staggerLines&&(s+=16*(e.staggerLines-1));else for(d in j)j[d].destroy(),delete j[d];q&&q.text&&(e.axisTitle||(e.axisTitle=g.text(q.text,0,0,q.useHTML).attr({zIndex:7,rotation:q.rotation||0,align:q.textAlign||{low:"left",middle:"center",high:"right"}[q.align]}).css(q.style).add(e.axisGroup),e.axisTitle.isNew=!0),b&&(o=e.axisTitle.getBBox()[l?"height":"width"],p=n(q.margin,l?5:10),c=q.offset),e.axisTitle[b?"show":"hide"]()),e.offset=u*n(h.offset,t[m]),e.axisTitleMargin=n(c,s+p+(2!==m&&s&&u*h.labels[l?"y":"x"])),t[m]=rb(t[m],e.axisTitleMargin+o+u*e.offset)},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,g=b.chartHeight-this.bottom-(c?this.height:0)+d;return this.lineTop=g,b.renderer.crispLine([Ub,e?this.left:f,e?g:this.top,Vb,e?b.chartWidth-this.right:f,e?g:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,b=this.left,d=this.top,e=this.len,f=this.options.title,g=a?b:d,h=this.opposite,i=this.offset,j=c(f.style.fontSize||12),k={low:g+(a?0:e),middle:g+e/2,high:g+(a?e:0)}[f.align],l=(a?d+this.height:b)+(a?1:-1)*(h?-1:1)*this.axisTitleMargin+(2===this.side?j:0);return{x:a?k:l+(h?this.width:0)+i+(f.x||0),y:a?l-(h?this.height:0)+i:k+(f.y||0)}},render:function(){var a,b,c,d=this,e=d.chart,f=e.renderer,g=d.options,h=d.isLog,j=d.isLinked,l=d.tickPositions,m=d.axisTitle,n=d.stacks,o=d.ticks,p=d.minorTicks,q=d.alternateBands,r=g.stackLabels,s=g.alternateGridColor,t=d.tickmarkOffset,u=g.lineWidth,v=e.hasRendered,w=v&&k(d.oldMin)&&!isNaN(d.oldMin),x=d.hasData,y=d.showAxis;if((x||j)&&(d.minorTickInterval&&!d.categories&&rc(d.getMinorTickPositions(),function(a){p[a]||(p[a]=new L(d,a,"minor")),w&&p[a].isNew&&p[a].render(null,!0),p[a].isActive=!0,p[a].render()}),rc(l.slice(1).concat([l[0]]),function(a,b){b=b===l.length-1?0:b+1,(!j||a>=d.min&&a<=d.max)&&(o[a]||(o[a]=new L(d,a)),w&&o[a].isNew&&o[a].render(b,!0),o[a].isActive=!0,o[a].render(b))}),s&&rc(l,function(a,e){0===e%2&&a<d.max&&(q[a]||(q[a]=new M(d)),b=a+t,c=l[e+1]!==T?l[e+1]+t:d.max,q[a].options={from:h?i(b):b,to:h?i(c):c,color:s},q[a].render(),q[a].isActive=!0)}),d._addedPlotLB||(rc((g.plotLines||[]).concat(g.plotBands||[]),function(a){d.addPlotBandOrLine(a)}),d._addedPlotLB=!0)),rc([o,p,q],function(a){var b;for(b in a)a[b].isActive?a[b].isActive=!1:(a[b].destroy(),delete a[b])}),u&&(a=d.getLinePath(u),d.axisLine?d.axisLine.animate({d:a}):d.axisLine=f.path(a).attr({stroke:g.lineColor,"stroke-width":u,zIndex:7}).add(d.axisGroup),d.axisLine[y?"show":"hide"]()),m&&y&&(m[m.isNew?"attr":"animate"](d.getTitlePosition()),m.isNew=!1),r&&r.enabled){var z,A,B,C=d.stackTotalGroup;C||(d.stackTotalGroup=C=f.g("stack-labels").attr({visibility:Rb,zIndex:6}).add()),C.translate(e.plotLeft,e.plotTop);for(z in n){A=n[z];for(B in A)A[B].render(C)}}d.isDirty=!1},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=b.length;c--;)b[c].id===a&&b[c].destroy()},setTitle:function(a,b){var c=this.chart,d=this.options,e=this.axisTitle;d.title=vc(d.title,a),this.axisTitle=e&&e.destroy(),this.isDirty=!0,n(b,!0)&&c.redraw()},redraw:function(){var a=this,b=a.chart;b.tracker.resetTracker&&b.tracker.resetTracker(!0),a.render(),rc(a.plotLinesAndBands,function(a){a.render()}),rc(a.series,function(a){a.isDirty=!0})},setCategories:function(a,b){var c=this,d=c.chart;c.categories=c.userOptions.categories=a,rc(c.series,function(a){a.translate(),a.setTooltipPoints(!0)}),c.isDirty=!0,n(b,!0)&&d.redraw()},destroy:function(){var a,b=this,c=b.stacks;xc(b);for(a in c)C(c[a]),c[a]=null;rc([b.ticks,b.minorTicks,b.alternateBands,b.plotLinesAndBands],function(a){C(a)}),rc(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(a){b[a]&&(b[a]=b[a].destroy())})}},P.prototype={destroy:function(){rc(this.crosshairs,function(a){a&&a.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(b,c,d,e){var f=this,g=f.now,h=f.options.animation!==!1&&!f.isHidden;a(g,{x:h?(2*g.x+b)/3:b,y:h?(g.y+c)/2:c,anchorX:h?(2*g.anchorX+d)/3:d,anchorY:h?(g.anchorY+e)/2:e}),f.label.attr(g),h&&(tb(b-g.x)>1||tb(c-g.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){f&&f.move(b,c,d,e)},32))},hide:function(){if(!this.isHidden){var a=this.chart.hoverPoints;this.label.hide(),a&&rc(a,function(a){a.setState()}),this.chart.hoverPoints=null,this.isHidden=!0}},hideCrosshairs:function(){rc(this.crosshairs,function(a){a&&a.hide()})},getAnchor:function(a,b){var c,d,e=this.chart,f=e.inverted,g=0,h=0;return a=m(a),c=a[0].tooltipPos,c||(rc(a,function(a){d=a.series.yAxis,g+=a.plotX,h+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&d?d.top-e.plotTop:0)}),g/=a.length,h/=a.length,c=[f?e.plotWidth-h:g,this.shared&&!f&&a.length>1&&b?b.chartY-e.plotTop:f?e.plotHeight-g:h]),uc(c,ob)},getPosition:function(a,b,c){var d,e=this.chart,f=e.plotLeft,g=e.plotTop,h=e.plotWidth,i=e.plotHeight,j=n(this.options.distance,12),k=c.plotX,l=c.plotY,m=k+f+(e.inverted?j:-a-j),o=l-b+g+15;return 7>m&&(m=f+rb(k,0)+j),m+a>f+h&&(m-=m+a-(f+h),o=l-b+g-j,d=!0),g+5>o&&(o=g+5,d&&l>=o&&o+b>=l&&(o=l+g+j)),o+b>g+i&&(o=rb(g,g+i-b-j)),{x:m,y:o}},refresh:function(a,b){function c(){var a,b=this,c=b.points||m(b),d=c[0].series;return a=[d.tooltipHeaderFormatter(c[0].key)],rc(c,function(b){d=b.series,a.push(d.tooltipFormatter&&d.tooltipFormatter(b)||b.point.tooltipFormatter(d.tooltipOptions.pointFormat))}),a.push(q.footerFormat||""),a.join("")}var d,e,f,g,h,i,j,k,l=this,o=l.chart,p=l.label,q=l.options,r={},s=[],t=q.formatter||c,u=o.hoverPoints,v=q.crosshairs,w=l.shared;if(g=l.getAnchor(a,b),d=g[0],e=g[1],!w||a.series&&a.series.noSharedTooltip?r=a.getLabelConfig():(o.hoverPoints=a,u&&rc(u,function(a){a.setState()}),rc(a,function(a){a.setState(Yb),s.push(a.getLabelConfig())}),r={x:a[0].category,y:a[0].y},r.points=s,a=a[0]),h=t.call(r),k=a.series,f=w||!k.isCartesian||k.tooltipOutsidePlot||o.isInsidePlot(d,e),h!==!1&&f?(l.isHidden&&p.show(),p.attr({text:h}),j=q.borderColor||a.color||k.color||"#606060",p.attr({stroke:j}),i=(q.positioner||l.getPosition).call(l,p.width,p.height,{plotX:d,plotY:e}),l.move(ob(i.x),ob(i.y),d+o.plotLeft,e+o.plotTop),l.isHidden=!1):this.hide(),v){v=m(v);for(var x,y,z,A=v.length;A--;)z=a.series[A?"yAxis":"xAxis"],v[A]&&z&&(x=z.getPlotLinePath(A?n(a.stackY,a.y):a.x,1),l.crosshairs[A]?l.crosshairs[A].attr({d:x,visibility:Rb}):(y={"stroke-width":v[A].width||1,stroke:v[A].color||"#C0C0C0",zIndex:v[A].zIndex||2},v[A].dashStyle&&(y.dashstyle=v[A].dashStyle),l.crosshairs[A]=o.renderer.path(x).attr(y).add()))}yc(o,"tooltipRefresh",{text:h,x:d+o.plotLeft,y:e+o.plotTop,borderColor:j})}},Q.prototype={normalizeMouseEvent:function(b){var c,d,e,f;return b=b||mb.event,b.target||(b.target=b.srcElement),b=zc(b),f=b.touches?b.touches.item(0):b,this.chartPosition=c=tc(this.chart.container),f.pageX===T?(d=b.x,e=b.y):(d=f.pageX-c.left,e=f.pageY-c.top),a(b,{chartX:ob(d),chartY:ob(e)})},getMouseCoordinates:function(a){var b={xAxis:[],yAxis:[]},c=this.chart;return rc(c.axes,function(d){var e=d.isXAxis,f=c.inverted?!e:e;b[e?"xAxis":"yAxis"].push({axis:d,value:d.translate((f?a.chartX-c.plotLeft:d.top+d.len-a.chartY)-d.minPixelPadding,!0)})}),b},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft},onmousemove:function(a){var b,c,d,e,f=this,g=f.chart,h=g.series,i=g.tooltip,j=g.hoverPoint,k=g.hoverSeries,l=g.chartWidth,m=f.getIndex(a);if(i&&f.options.tooltip.shared&&(!k||!k.noSharedTooltip)){for(c=[],d=h.length,e=0;d>e;e++)h[e].visible&&h[e].options.enableMouseTracking!==!1&&!h[e].noSharedTooltip&&h[e].tooltipPoints.length&&(b=h[e].tooltipPoints[m],b._dist=tb(m-b[h[e].xAxis.tooltipPosName||"plotX"]),l=sb(l,b._dist),c.push(b));for(d=c.length;d--;)c[d]._dist>l&&c.splice(d,1);c.length&&c[0].plotX!==f.hoverX&&(i.refresh(c,a),f.hoverX=c[0].plotX)}k&&k.tracker&&(b=k.tooltipPoints[m],b&&b!==j&&b.onMouseOver())},resetTracker:function(a){var b=this,c=b.chart,d=c.hoverSeries,e=c.hoverPoint,f=c.tooltip,g=f&&f.shared?c.hoverPoints:e;a=a&&f&&g,a&&m(g)[0].plotX===T&&(a=!1),a?f.refresh(g):(e&&e.onMouseOut(),d&&d.onMouseOut(),f&&(f.hide(),f.hideCrosshairs()),b.hoverX=null)},setDOMEvents:function(){function b(){if(e.selectionMarker){var a,d={xAxis:[],yAxis:[]},h=e.selectionMarker.getBBox(),i=h.x-f.plotLeft,j=h.y-f.plotTop;c&&(rc(f.axes,function(b){if(b.options.zoomEnabled!==!1){var c=b.isXAxis,e=f.inverted?!c:c,g=b.translate(e?i:f.plotHeight-j-h.height,!0,0,0,1),k=b.translate((e?i+h.width:f.plotHeight-j)-2*b.minPixelPadding,!0,0,0,1);isNaN(g)||isNaN(k)||(d[c?"xAxis":"yAxis"].push({axis:b,min:sb(g,k),max:rb(g,k)}),a=!0)}}),a&&yc(f,"selection",d,function(a){f.zoom(a)})),e.selectionMarker=e.selectionMarker.destroy()}f&&(o(g,{cursor:"auto"}),f.cancelClick=c,f.mouseIsDown=c=!1),xc(lb,Ib?"touchend":"mouseup",b)}var c,d=!0,e=this,f=e.chart,g=f.container,h=e.zoomX&&!f.inverted||e.zoomY&&f.inverted,i=e.zoomY&&!f.inverted||e.zoomX&&f.inverted;e.hideTooltipOnMouseMove=function(a){a=zc(a),e.chartPosition&&f.hoverSeries&&f.hoverSeries.isCartesian&&!f.isInsidePlot(a.pageX-e.chartPosition.left-f.plotLeft,a.pageY-e.chartPosition.top-f.plotTop)&&e.resetTracker()},e.hideTooltipOnMouseLeave=function(){e.resetTracker(),e.chartPosition=null},g.onmousedown=function(a){a=e.normalizeMouseEvent(a),!Ib&&a.preventDefault&&a.preventDefault(),f.mouseIsDown=!0,f.cancelClick=!1,f.mouseDownX=e.mouseDownX=a.chartX,e.mouseDownY=a.chartY,wc(lb,Ib?"touchend":"mouseup",b)};var j=function(a){if(!(a&&a.touches&&a.touches.length>1)){a=e.normalizeMouseEvent(a),Ib||(a.returnValue=!1);var b=a.chartX,g=a.chartY,j=!f.isInsidePlot(b-f.plotLeft,g-f.plotTop);if(Ib&&"touchstart"===a.type&&(l(a.target,"isTracker")?f.runTrackerClick||a.preventDefault():f.runChartClick||j||a.preventDefault()),j&&(b<f.plotLeft?b=f.plotLeft:b>f.plotLeft+f.plotWidth&&(b=f.plotLeft+f.plotWidth),g<f.plotTop?g=f.plotTop:g>f.plotTop+f.plotHeight&&(g=f.plotTop+f.plotHeight)),f.mouseIsDown&&"touchstart"!==a.type&&(c=Math.sqrt(Math.pow(e.mouseDownX-b,2)+Math.pow(e.mouseDownY-g,2)),c>10)){var k=f.isInsidePlot(e.mouseDownX-f.plotLeft,e.mouseDownY-f.plotTop);if(f.hasCartesianSeries&&(e.zoomX||e.zoomY)&&k&&(e.selectionMarker||(e.selectionMarker=f.renderer.rect(f.plotLeft,f.plotTop,h?1:f.plotWidth,i?1:f.plotHeight,0).attr({fill:e.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),e.selectionMarker&&h){var m=b-e.mouseDownX;e.selectionMarker.attr({width:tb(m),x:(m>0?0:m)+e.mouseDownX})}if(e.selectionMarker&&i){var n=g-e.mouseDownY;e.selectionMarker.attr({height:tb(n),y:(n>0?0:n)+e.mouseDownY})}k&&!e.selectionMarker&&e.options.chart.panning&&f.pan(b)}return j||e.onmousemove(a),d=j,j||!f.hasCartesianSeries}};g.onmousemove=j,wc(g,"mouseleave",e.hideTooltipOnMouseLeave),wc(lb,"mousemove",e.hideTooltipOnMouseMove),g.ontouchstart=function(a){(e.zoomX||e.zoomY)&&g.onmousedown(a),j(a)},g.ontouchmove=j,g.ontouchend=function(){c&&e.resetTracker()},g.onclick=function(b){var c,d,g=f.hoverPoint;b=e.normalizeMouseEvent(b),b.cancelBubble=!0,f.cancelClick||(g&&(l(b.target,"isTracker")||l(b.target.parentNode,"isTracker"))?(c=g.plotX,d=g.plotY,a(g,{pageX:e.chartPosition.left+f.plotLeft+(f.inverted?f.plotWidth-d:c),pageY:e.chartPosition.top+f.plotTop+(f.inverted?f.plotHeight-c:d)}),yc(g.series,"click",a(b,{point:g})),g.firePointEvent("click",b)):(a(b,e.getMouseCoordinates(b)),f.isInsidePlot(b.chartX-f.plotLeft,b.chartY-f.plotTop)&&yc(f,"click",b)))}},destroy:function(){var a=this,b=a.chart,c=b.container;b.trackerGroup&&(b.trackerGroup=b.trackerGroup.destroy()),xc(c,"mouseleave",a.hideTooltipOnMouseLeave),xc(lb,"mousemove",a.hideTooltipOnMouseMove),c.onclick=c.onmousedown=c.onmousemove=c.ontouchstart=c.ontouchend=c.ontouchmove=null,clearInterval(this.tooltipTimeout)},init:function(a,b){a.trackerGroup||(a.trackerGroup=a.renderer.g("tracker").attr({zIndex:9}).add()),b.enabled&&(a.tooltip=new P(a,b)),this.setDOMEvents()}},R.prototype={init:function(a){var b=this,d=b.options=a.options.legend;if(d.enabled){var e=d.itemStyle,f=n(d.padding,8),g=d.itemMarginTop||0;b.baseline=c(e.fontSize)+3+g,b.itemStyle=e,b.itemHiddenStyle=vc(e,d.itemHiddenStyle),b.itemMarginTop=g,b.padding=f,b.initialItemX=f,b.initialItemY=f-5,b.maxItemWidth=0,b.chart=a,b.itemHeight=0,b.lastLineHeight=0,b.render(),wc(b.chart,"endResize",function(){b.positionCheckboxes()})}},colorizeItem:function(a,b){var c,d,e=this,f=e.options,g=a.legendItem,h=a.legendLine,i=a.legendSymbol,j=e.itemHiddenStyle.color,k=b?f.itemStyle.color:j,l=b?a.color:j,m=a.options&&a.options.marker,n={stroke:l,fill:l};if(g&&g.css({fill:k}),h&&h.attr({stroke:l}),i){if(m){m=a.convertAttribs(m);for(c in m)d=m[c],d!==T&&(n[c]=d)}i.attr(n)}},positionItem:function(a){var b=this,c=b.options,d=c.symbolPadding,e=!c.rtl,f=a._legendItemPos,g=f[0],h=f[1],i=a.checkbox;a.legendGroup&&a.legendGroup.translate(e?g:b.legendWidth-g-2*d-4,h),i&&(i.x=g,i.y=h)},destroyItem:function(a){var b=a.checkbox;rc(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&a[b].destroy()}),b&&D(a.checkbox)},destroy:function(){var a=this,b=a.group,c=a.box;c&&(a.box=c.destroy()),b&&(a.group=b.destroy())},positionCheckboxes:function(){var a=this;rc(a.allItems,function(b){var c=b.checkbox,d=a.group.alignAttr;c&&o(c,{left:d.translateX+b.legendItemWidth+c.x-20+Sb,top:d.translateY+c.y+3+Sb})})},renderItem:function(a){var b,c,d,e=this,f=e.chart,g=f.renderer,h=e.options,i="horizontal"===h.layout,j=h.symbolWidth,k=h.symbolPadding,l=e.itemStyle,m=e.itemHiddenStyle,n=e.padding,o=!h.rtl,q=h.width,r=h.itemMarginBottom||0,s=e.itemMarginTop,t=e.initialItemX,u=a.legendItem,v=a.series||a,w=v.options,x=w.showCheckbox;u||(a.legendGroup=g.g("legend-item").attr({zIndex:1}).add(e.scrollGroup),v.drawLegendSymbol(e,a),a.legendItem=u=g.text(h.labelFormatter.call(a),o?j+k:-k,e.baseline,h.useHTML).css(vc(a.visible?l:m)).attr({align:o?"left":"right",zIndex:2}).add(a.legendGroup),a.legendGroup.on("mouseover",function(){a.setState(Yb),u.css(e.options.itemHoverStyle)}).on("mouseout",function(){u.css(a.visible?l:m),a.setState()}).on("click",function(b){var c="legendItemClick",d=function(){a.setVisible()};b={browserEvent:b},a.firePointEvent?a.firePointEvent(c,b,d):yc(a,c,b,d)}),e.colorizeItem(a,a.visible),w&&x&&(a.checkbox=p("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},h.itemCheckboxStyle,f.container),wc(a.checkbox,"click",function(b){var c=b.target;yc(a,"checkboxClick",{checked:c.checked},function(){a.select()})}))),c=u.getBBox(),d=a.legendItemWidth=h.itemWidth||j+k+c.width+n+(x?20:0),e.itemHeight=b=c.height,i&&e.itemX-t+d>(q||f.chartWidth-2*n-t)&&(e.itemX=t,e.itemY+=s+e.lastLineHeight+r,e.lastLineHeight=0),e.maxItemWidth=rb(e.maxItemWidth,d),e.lastItemY=s+e.itemY+r,e.lastLineHeight=rb(b,e.lastLineHeight),a._legendItemPos=[e.itemX,e.itemY],i?e.itemX+=d:(e.itemY+=s+b+r,e.lastLineHeight=b),e.offsetWidth=q||rb(i?e.itemX-t:d,e.offsetWidth)},render:function(){var b,c,d,e,f=this,g=f.chart,h=g.renderer,i=f.group,j=f.box,k=f.options,l=f.padding,m=k.borderWidth,n=k.backgroundColor;f.itemX=f.initialItemX,f.itemY=f.initialItemY,f.offsetWidth=0,f.lastItemY=0,i||(f.group=i=h.g("legend").attr({zIndex:7}).add(),f.contentGroup=h.g().attr({zIndex:1}).add(i),f.scrollGroup=h.g().add(f.contentGroup),f.clipRect=h.clipRect(0,0,9999,g.chartHeight),f.contentGroup.clip(f.clipRect)),b=[],rc(g.series,function(a){var c=a.options;c.showInLegend&&(b=b.concat(a.legendItems||("point"===c.legendType?a.data:a)))}),z(b,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),k.reversed&&b.reverse(),f.allItems=b,f.display=c=!!b.length,rc(b,function(a){f.renderItem(a)}),d=k.width||f.offsetWidth,e=f.lastItemY+f.lastLineHeight,e=f.handleOverflow(e),(m||n)&&(d+=l,e+=l,j?d>0&&e>0&&(j[j.isNew?"attr":"animate"](j.crisp(null,null,null,d,e)),j.isNew=!1):(f.box=j=h.rect(0,0,d,e,k.borderRadius,m||0).attr({stroke:k.borderColor,"stroke-width":m||0,fill:n||Tb}).add(i).shadow(k.shadow),j.isNew=!0),j[c?"show":"hide"]()),f.legendWidth=d,f.legendHeight=e,rc(b,function(a){f.positionItem(a)}),c&&i.align(a({width:d,height:e},k),!0,g.spacingBox),g.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b,c,d=this,e=this.chart,f=e.renderer,g=this.options,h=g.y,i="top"===g.verticalAlign,j=e.spacingBox.height+(i?-h:h)-this.padding,k=g.maxHeight,l=this.clipRect,m=g.navigation,o=n(m.animation,!0),p=m.arrowSize||12,q=this.nav;return"horizontal"===g.layout&&(j/=2),k&&(j=sb(j,k)),a>j?(this.clipHeight=c=j-20,this.pageCount=b=qb(a/c),this.currentPage=n(this.currentPage,1),this.fullHeight=a,l.attr({height:c}),q||(this.nav=q=f.g().attr({zIndex:1}).add(this.group),this.up=f.symbol("triangle",0,0,p,p).on("click",function(){d.scroll(-1,o)}).add(q),this.pager=f.text("",15,10).css(m.style).add(q),this.down=f.symbol("triangle-down",0,0,p,p).on("click",function(){d.scroll(1,o)}).add(q)),d.scroll(0),a=j):q&&(l.attr({height:e.chartHeight}),q.hide(),this.scrollGroup.attr({translateY:1})),a},scroll:function(a,b){var c=this.pageCount,d=this.currentPage+a,e=this.clipHeight,f=this.options.navigation,g=f.activeColor,h=f.inactiveColor,i=this.pager,j=this.padding;d>c&&(d=c),d>0&&(b!==T&&G(b,this.chart),this.nav.attr({translateX:j,translateY:e+7,visibility:Rb}),this.up.attr({fill:1===d?h:g}).css({cursor:1===d?"default":"pointer"}),i.attr({text:d+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:d===c?h:g}).css({cursor:d===c?"default":"pointer"}),this.scrollGroup.animate({translateY:-sb(e*(d-1),this.fullHeight-e+j)+1}),i.attr({text:d+"/"+c}),this.currentPage=d)}},S.prototype={initSeries:function(a){var b=this,c=b.options.chart,d=a.type||c.type||c.defaultSeriesType,e=new lc[d];return e.init(this,a),e},addSeries:function(a,b,c){var d,e=this;return a&&(G(c,e),b=n(b,!0),yc(e,"addSeries",{options:a},function(){d=e.initSeries(a),e.isDirtyLegend=!0,b&&e.redraw()})),d},isInsidePlot:function(a,b,c){var d=c?b:a,e=c?a:b;return d>=0&&d<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&rc(this.axes,function(a){a.adjustTickAmount()}),this.maxTicks=null},redraw:function(a){var b,c,d=this,e=d.axes,f=d.series,g=d.tracker,h=d.legend,i=d.isDirtyLegend,j=d.isDirtyBox,k=f.length,l=k,m=d.renderer,n=m.isHidden(),o=[];for(G(a,d),n&&d.cloneRenderTo();l--;)if(c=f[l],c.isDirty&&c.options.stacking){b=!0;break}if(b)for(l=k;l--;)c=f[l],c.options.stacking&&(c.isDirty=!0);rc(f,function(a){a.isDirty&&"point"===a.options.legendType&&(i=!0)}),i&&h.options.enabled&&(h.render(),d.isDirtyLegend=!1),d.hasCartesianSeries&&(d.isResizing||(d.maxTicks=null,rc(e,function(a){a.setScale()})),d.adjustTickAmounts(),d.getMargins(),rc(e,function(a){a.isDirtyExtremes&&(a.isDirtyExtremes=!1,o.push(function(){yc(a,"afterSetExtremes",a.getExtremes())})),(a.isDirty||j||b)&&(a.redraw(),j=!0)})),j&&d.drawChartBox(),rc(f,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()}),g&&g.resetTracker&&g.resetTracker(!0),m.draw(),yc(d,"redraw"),n&&d.cloneRenderTo(!0),rc(o,function(a){a.call()})},showLoading:function(b){var c=this,d=c.options,e=c.loadingDiv,f=d.loading;e||(c.loadingDiv=e=p(Mb,{className:Qb+"loading"},a(f.style,{left:c.plotLeft+Sb,top:c.plotTop+Sb,width:c.plotWidth+Sb,height:c.plotHeight+Sb,zIndex:10,display:Tb}),c.container),c.loadingSpan=p("span",null,f.labelStyle,e)),c.loadingSpan.innerHTML=b||d.lang.loading,c.loadingShown||(o(e,{opacity:0,display:""}),Ac(e,{opacity:f.style.opacity},{duration:f.showDuration||0}),c.loadingShown=!0)},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&Ac(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){o(b,{display:Tb})}}),this.loadingShown=!1},get:function(a){var b,c,d,e=this,f=e.axes,g=e.series;for(b=0;b<f.length;b++)if(f[b].options.id===a)return f[b];for(b=0;b<g.length;b++)if(g[b].options.id===a)return g[b];for(b=0;b<g.length;b++)for(d=g[b].points||[],c=0;c<d.length;c++)if(d[c].id===a)return d[c];return null},getAxes:function(){var a,b,c=this,d=this.options,e=d.xAxis||{},f=d.yAxis||{};e=m(e),rc(e,function(a,b){a.index=b,a.isX=!0}),f=m(f),rc(f,function(a,b){a.index=b}),a=e.concat(f),rc(a,function(a){b=new O(c,a)}),c.adjustTickAmounts()},getSelectedPoints:function(){var a=[];return rc(this.series,function(b){a=a.concat(sc(b.points,function(a){return a.selected}))}),a},getSelectedSeries:function(){return sc(this.series,function(a){return a.selected})},showResetZoom:function(){var a=this,b=W.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,f="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,a[f]),this.resetZoomButton.alignTo=f},zoomOut:function(){var a=this,b=a.resetZoomButton;yc(a,"selection",{resetSelection:!0},function(){a.zoom()}),b&&(a.resetZoomButton=b.destroy())},zoom:function(a){var b,c=this;
!a||a.resetSelection?rc(c.axes,function(a){b=a.zoom()}):rc(a.xAxis.concat(a.yAxis),function(a){var d=a.axis;c.tracker[d.isXAxis?"zoomX":"zoomY"]&&(b=d.zoom(a.min,a.max))}),c.resetZoomButton||c.showResetZoom(),b&&c.redraw(n(c.options.chart.animation,c.pointCount<100))},pan:function(a){var b=this,c=b.xAxis[0],d=b.mouseDownX,e=c.pointRange/2,f=c.getExtremes(),g=c.translate(d-a,!0)+e,h=c.translate(d+b.plotWidth-a,!0)-e,i=b.hoverPoints;i&&rc(i,function(a){a.setState()}),c.series.length&&g>sb(f.dataMin,f.min)&&h<rb(f.dataMax,f.max)&&c.setExtremes(g,h,!0,!1,{trigger:"pan"}),b.mouseDownX=a,o(b.container,{cursor:"move"})},setTitle:function(a,b){var c,d,e=this,f=e.options;e.chartTitleOptions=c=vc(f.title,a),e.chartSubtitleOptions=d=vc(f.subtitle,b),rc([["title",a,c],["subtitle",b,d]],function(a){var b=a[0],c=e[b],d=a[1],f=a[2];c&&d&&(e[b]=c=c.destroy()),f&&f.text&&!c&&(e[b]=e.renderer.text(f.text,0,0,f.useHTML).attr({align:f.align,"class":Qb+b,zIndex:f.zIndex||4}).css(f.style).add().align(f,!1,e.spacingBox))})},getChartSize:function(){var a=this,b=a.options.chart,c=a.renderToClone||a.renderTo;a.containerWidth=oc(c,"width"),a.containerHeight=oc(c,"height"),a.chartWidth=b.width||a.containerWidth||600,a.chartHeight=b.height||(a.containerHeight>19?a.containerHeight:400)},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;a?b&&(this.renderTo.appendChild(c),D(b),delete this.renderToClone):(c&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),o(b,{position:Nb,top:"-9999px",display:"block"}),lb.body.appendChild(b),c&&b.appendChild(c))},getContainer:function(){var b,c,e,f,g,h=this,i=h.options.chart;h.renderTo=f=i.renderTo,g=Qb+Kb++,d(f)&&(h.renderTo=f=lb.getElementById(f)),f||E(13,!0),f.innerHTML="",f.offsetWidth||h.cloneRenderTo(),h.getChartSize(),c=h.chartWidth,e=h.chartHeight,h.container=b=p(Mb,{className:Qb+"container"+(i.className?" "+i.className:""),id:g},a({position:Ob,overflow:Pb,width:c+Sb,height:e+Sb,textAlign:"left",lineHeight:"normal",zIndex:0},i.style),h.renderToClone||f),h.renderer=i.forExport?new Gc(b,c,e,!0):new U(b,c,e),Hb&&h.renderer.create(h,b,c,e)},getMargins:function(){var a,b,c=this,d=c.options.chart,e=d.spacingTop,f=d.spacingRight,g=d.spacingBottom,h=d.spacingLeft,i=c.legend,j=c.optionsMarginTop,l=c.optionsMarginLeft,m=c.optionsMarginRight,o=c.optionsMarginBottom,p=c.chartTitleOptions,q=c.chartSubtitleOptions,r=c.options.legend,s=n(r.margin,10),t=r.x,u=r.y,v=r.align,w=r.verticalAlign;c.resetMargins(),a=c.axisOffset,!c.title&&!c.subtitle||k(c.optionsMarginTop)||(b=rb(c.title&&!p.floating&&!p.verticalAlign&&p.y||0,c.subtitle&&!q.floating&&!q.verticalAlign&&q.y||0),b&&(c.plotTop=rb(c.plotTop,b+n(p.margin,15)+e))),i.display&&!r.floating&&("right"===v?k(m)||(c.marginRight=rb(c.marginRight,i.legendWidth-t+s+f)):"left"===v?k(l)||(c.plotLeft=rb(c.plotLeft,i.legendWidth+t+s+h)):"top"===w?k(j)||(c.plotTop=rb(c.plotTop,i.legendHeight+u+s+e)):"bottom"===w&&(k(o)||(c.marginBottom=rb(c.marginBottom,i.legendHeight-u+s+g)))),c.extraBottomMargin&&(c.marginBottom+=c.extraBottomMargin),c.extraTopMargin&&(c.plotTop+=c.extraTopMargin),c.hasCartesianSeries&&rc(c.axes,function(a){a.getOffset()}),k(l)||(c.plotLeft+=a[3]),k(j)||(c.plotTop+=a[0]),k(o)||(c.marginBottom+=a[2]),k(m)||(c.marginRight+=a[1]),c.setChartSize()},initReflow:function(){function a(a){var f=d.width||oc(e,"width"),g=d.height||oc(e,"height"),h=a?a.target:mb;f&&g&&(h===mb||h===lb)&&((f!==c.containerWidth||g!==c.containerHeight)&&(clearTimeout(b),c.reflowTimeout=b=setTimeout(function(){c.container&&c.resize(f,g,!1)},100)),c.containerWidth=f,c.containerHeight=g)}var b,c=this,d=c.options.chart,e=c.renderTo;wc(mb,"resize",a),wc(c,"destroy",function(){xc(mb,"resize",a)})},resize:function(a,b,c){var d,e,f,g,h=this,i=h.resetZoomButton,j=h.title,l=h.subtitle;h.isResizing+=1,g=function(){h&&yc(h,"endResize",null,function(){h.isResizing-=1})},G(c,h),h.oldChartHeight=h.chartHeight,h.oldChartWidth=h.chartWidth,k(a)&&(h.chartWidth=d=ob(a)),k(b)&&(h.chartHeight=e=ob(b)),o(h.container,{width:d+Sb,height:e+Sb}),h.renderer.setSize(d,e,c),h.plotWidth=d-h.plotLeft-h.marginRight,h.plotHeight=e-h.plotTop-h.marginBottom,h.maxTicks=null,rc(h.axes,function(a){a.isDirty=!0,a.setScale()}),rc(h.series,function(a){a.isDirty=!0}),h.isDirtyLegend=!0,h.isDirtyBox=!0,h.getMargins(),f=h.spacingBox,j&&j.align(null,null,f),l&&l.align(null,null,f),i&&i.align&&i.align(null,null,h[i.alignTo]),h.redraw(c),h.oldChartHeight=null,yc(h,"resize"),Y===!1?g():setTimeout(g,Y&&Y.duration||500)},setChartSize:function(){var a,b,c,d,e,f=this,g=f.inverted,h=f.chartWidth,i=f.chartHeight,j=f.options.chart,k=j.spacingTop,l=j.spacingRight,m=j.spacingBottom,n=j.spacingLeft;f.plotLeft=a=ob(f.plotLeft),f.plotTop=b=ob(f.plotTop),f.plotWidth=c=ob(h-a-f.marginRight),f.plotHeight=d=ob(i-b-f.marginBottom),f.plotSizeX=g?d:c,f.plotSizeY=g?c:d,f.plotBorderWidth=e=j.plotBorderWidth||0,f.spacingBox={x:n,y:k,width:h-n-l,height:i-k-m},f.plotBox={x:a,y:b,width:c,height:d},f.clipBox={x:e/2,y:e/2,width:f.plotSizeX-e,height:f.plotSizeY-e},rc(f.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var a=this,b=a.options.chart,c=b.spacingTop,d=b.spacingRight,e=b.spacingBottom,f=b.spacingLeft;a.plotTop=n(a.optionsMarginTop,c),a.marginRight=n(a.optionsMarginRight,d),a.marginBottom=n(a.optionsMarginBottom,e),a.plotLeft=n(a.optionsMarginLeft,f),a.axisOffset=[0,0,0,0]},drawChartBox:function(){var a,b,c=this,d=c.options.chart,e=c.renderer,f=c.chartWidth,g=c.chartHeight,h=c.chartBackground,i=c.plotBackground,j=c.plotBorder,k=c.plotBGImage,l=d.borderWidth||0,m=d.backgroundColor,n=d.plotBackgroundColor,o=d.plotBackgroundImage,p=d.plotBorderWidth||0,q=c.plotLeft,r=c.plotTop,s=c.plotWidth,t=c.plotHeight,u=c.plotBox,v=c.clipRect,w=c.clipBox;a=l+(d.shadow?8:0),(l||m)&&(h?h.animate(h.crisp(null,null,null,f-a,g-a)):(b={fill:m||Tb},l&&(b.stroke=d.borderColor,b["stroke-width"]=l),c.chartBackground=e.rect(a/2,a/2,f-a,g-a,d.borderRadius,l).attr(b).add().shadow(d.shadow))),n&&(i?i.animate(u):c.plotBackground=e.rect(q,r,s,t,0).attr({fill:n}).add().shadow(d.plotShadow)),o&&(k?k.animate(u):c.plotBGImage=e.image(o,q,r,s,t).add()),v?v.animate({width:w.width,height:w.height}):c.clipRect=e.clipRect(w),p&&(j?j.animate(j.crisp(null,q,r,s,t)):c.plotBorder=e.rect(q,r,s,t,0,p).attr({stroke:d.plotBorderColor,"stroke-width":p,zIndex:1}).add()),c.isDirtyBox=!1},propFromSeries:function(){var a,b,c,d=this,e=d.options.chart,f=d.options.series;rc(["inverted","angular","polar"],function(g){for(a=lc[e.type||e.defaultSeriesType],c=d[g]||e[g]||a&&a.prototype[g],b=f&&f.length;!c&&b--;)a=lc[f[b].type],a&&a.prototype[g]&&(c=!0);d[g]=c})},render:function(){var b,d=this,e=d.axes,f=d.renderer,g=d.options,h=g.labels,i=g.credits;d.setTitle(),d.legend=new R(d),rc(e,function(a){a.setScale()}),d.getMargins(),d.maxTicks=null,rc(e,function(a){a.setTickPositions(!0),a.setMaxTicks()}),d.adjustTickAmounts(),d.getMargins(),d.drawChartBox(),d.hasCartesianSeries&&rc(e,function(a){a.render()}),d.seriesGroup||(d.seriesGroup=f.g("series-group").attr({zIndex:3}).add()),rc(d.series,function(a){a.translate(),a.setTooltipPoints(),a.render()}),h.items&&rc(h.items,function(b){var e=a(h.style,b.style),g=c(e.left)+d.plotLeft,i=c(e.top)+d.plotTop+12;delete e.left,delete e.top,f.text(b.html,g,i).attr({zIndex:2}).css(e).add()}),i.enabled&&!d.credits&&(b=i.href,d.credits=f.text(i.text,0,0).on("click",function(){b&&(location.href=b)}).attr({align:i.position.align,zIndex:8}).css(i.style).add().align(i.position)),d.hasRendered=!0},destroy:function(){var a,b=this,c=b.axes,d=b.series,e=b.container,f=e&&e.parentNode;for(yc(b,"destroy"),xc(b),a=c.length;a--;)c[a]=c[a].destroy();for(a=d.length;a--;)d[a]=d[a].destroy();rc(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","tracker","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())}),e&&(e.innerHTML="",xc(e),f&&D(e));for(a in b)delete b[a]},firstRender:function(){var a=this,b=a.options,c=a.callback,d="onreadystatechange",e="complete";return!Fb&&mb==mb.top&&lb.readyState!==e||Hb&&!mb.canvg?(Hb?Lc.push(function(){a.firstRender()},b.global.canvasToolsURL):lb.attachEvent(d,function(){lb.detachEvent(d,a.firstRender),lb.readyState===e&&a.firstRender()}),void 0):(a.getContainer(),yc(a,"init"),Highcharts.RangeSelector&&b.rangeSelector.enabled&&(a.rangeSelector=new Highcharts.RangeSelector(a)),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),rc(b.series||[],function(b){a.initSeries(b)}),Highcharts.Scroller&&(b.navigator.enabled||b.scrollbar.enabled)&&(a.scroller=new Highcharts.Scroller(a)),a.tracker=new Q(a,b),a.render(),a.renderer.draw(),c&&c.apply(a,[a]),rc(a.callbacks,function(b){b.apply(a,[a])}),a.cloneRenderTo(!0),yc(a,"load"),void 0)},init:function(a){var b,c=this,d=c.options.chart;if(d.reflow!==!1&&wc(c,"load",c.initReflow),a)for(b in a)wc(c,b,a[b]);c.xAxis=[],c.yAxis=[],c.animation=Hb?!1:n(d.animation,!0),c.setSize=c.resize,c.pointCount=0,c.counters=new y,c.firstRender()}},S.prototype.callbacks=[];var Mc=function(){};Mc.prototype={init:function(a,b,c){var d,e=this,f=a.chart.counters;return e.series=a,e.applyOptions(b,c),e.pointAttr={},a.options.colorByPoint&&(d=a.chart.options.colors,e.color=e.color||d[f.color++],f.wrapColor(d.length)),a.chart.pointCount++,e},applyOptions:function(b,c){var d=this,e=d.series,f=typeof b;d.config=b,"number"===f||null===b?d.y=b:"undefined"!==f&&"number"==typeof b[0]?(d.x=b[0],d.y=b[1]):"object"===f&&"number"!=typeof b.length?(a(d,b),d.options=b,b.dataLabels&&(e._hasPointLabels=!0),b.marker&&(e._hasPointMarkers=!0)):"undefined"!==f&&"string"==typeof b[0]&&(d.name=b[0],d.y=b[1]),d.x===T&&(d.x=c===T?e.autoIncrement():c)},destroy:function(){var a,b=this,c=b.series,d=c.chart,e=d.hoverPoints;d.pointCount--,e&&(b.setState(),j(e,b),e.length||(d.hoverPoints=null)),b===d.hoverPoint&&b.onMouseOut(),(b.graphic||b.dataLabel)&&(xc(b),b.destroyElements()),b.legendItem&&d.legend.destroyItem(b);for(a in b)b[a]=null},destroyElements:function(){for(var a,b=this,c=["graphic","tracker","dataLabel","group","connector","shadowGroup"],d=6;d--;)a=c[d],b[a]&&(b[a]=b[a].destroy())},getLabelConfig:function(){var a=this;return{x:a.category,y:a.y,key:a.name||a.category,series:a.series,point:a,percentage:a.percentage,total:a.total||a.stackTotal}},select:function(a,b){var c=this,d=c.series,e=d.chart;a=n(a,!c.selected),c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=a,c.setState(a&&Zb),b||rc(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=!1,a.setState(Xb),a.firePointEvent("unselect"))})})},onMouseOver:function(){var a=this,b=a.series,c=b.chart,d=c.tooltip,e=c.hoverPoint;e&&e!==a&&e.onMouseOut(),a.firePointEvent("mouseOver"),!d||d.shared&&!b.noSharedTooltip||d.refresh(a),a.setState(Yb),c.hoverPoint=a},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;b&&-1!==qc(this,b)||(this.firePointEvent("mouseOut"),this.setState(),a.hoverPoint=null)},tooltipFormatter:function(a){var b,c,e,f,g,h,i,j=this,k=j.series,l=k.tooltipOptions,m=a.match(/\{(series|point)\.[a-zA-Z]+\}/g),o=/[{\.}]/,p={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};l.valuePrefix=l.valuePrefix||l.yPrefix,l.valueDecimals=l.valueDecimals||l.yDecimals,l.valueSuffix=l.valueSuffix||l.ySuffix;for(i in m)c=m[i],d(c)&&c!==a&&(g=(" "+c).split(o),b={point:j,series:k}[g[1]],h=g[2],b===j&&p.hasOwnProperty(h)?(f=p[h]?h:"value",e=(l[f+"Prefix"]||"")+s(j[h],n(l[f+"Decimals"],-1))+(l[f+"Suffix"]||"")):e=b[h],a=a.replace(c,e));return a},update:function(a,b,c){var d,f=this,g=f.series,h=f.graphic,i=g.data,j=i.length,k=g.chart;b=n(b,!0),f.firePointEvent("update",{options:a},function(){for(f.applyOptions(a),e(a)&&(g.getAttribs(),h&&h.attr(f.pointAttr[g.state])),d=0;j>d;d++)if(i[d]===f){g.xData[d]=f.x,g.yData[d]=f.y,g.options.data[d]=a;break}g.isDirty=!0,g.isDirtyData=!0,b&&k.redraw(c)})},remove:function(a,b){var c,d=this,e=d.series,f=e.chart,g=e.data,h=g.length;G(b,f),a=n(a,!0),d.firePointEvent("remove",null,function(){for(c=0;h>c;c++)if(g[c]===d){g.splice(c,1),e.options.data.splice(c,1),e.xData.splice(c,1),e.yData.splice(c,1);break}d.destroy(),e.isDirty=!0,e.isDirtyData=!0,a&&f.redraw()})},firePointEvent:function(a,b,c){var d=this,e=this.series,f=e.options;(f.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),"click"===a&&f.allowPointSelect&&(c=function(a){d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),yc(this,a,b,c)},importEvents:function(){if(!this.hasImportedEvents){var a,b=this,c=vc(b.series.options.point,b.options),d=c.events;b.events=d;for(a in d)wc(b,a,d[a]);this.hasImportedEvents=!0}},setState:function(a){var b,c=this,d=c.plotX,e=c.plotY,f=c.series,g=f.options.states,h=Dc[f.type].marker&&f.options.marker,i=h&&!h.enabled,j=h&&h.states[a],k=j&&j.enabled===!1,l=f.stateMarkerGraphic,m=f.chart,n=c.pointAttr;a=a||Xb,a===c.state||c.selected&&a!==Zb||g[a]&&g[a].enabled===!1||a&&(k||i&&!j.enabled)||(c.graphic?(b=h&&c.graphic.symbolName&&n[a].r,c.graphic.attr(vc(n[a],b?{x:d-b,y:e-b,width:2*b,height:2*b}:{}))):(a&&j&&(b=j.radius,l?l.attr({x:d-b,y:e-b}):f.stateMarkerGraphic=l=m.renderer.symbol(f.symbol,d-b,e-b,2*b,2*b).attr(n[a]).add(f.markerGroup)),l&&l[a&&m.isInsidePlot(d,e)?"show":"hide"]()),c.state=a)}};var Nc=function(){};Nc.prototype={isCartesian:!0,type:"line",pointClass:Mc,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(b,c){var d,e,f=this;f.chart=b,f.options=c=f.setOptions(c),f.bindAxes(),a(f,{name:c.name,state:Xb,pointAttr:{},visible:c.visible!==!1,selected:c.selected===!0}),Hb&&(c.animation=!1),e=c.events;for(d in e)wc(f,d,e[d]);(e&&e.click||c.point&&c.point.events&&c.point.events.click||c.allowPointSelect)&&(b.runTrackerClick=!0),f.getColor(),f.getSymbol(),f.setData(c.data,!1),f.isCartesian&&(b.hasCartesianSeries=!0),b.series.push(f),z(b.series,function(a,b){return(a.options.index||0)-(b.options.index||0)}),rc(b.series,function(a,b){a.index=b,a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a,b=this,c=b.options,d=b.chart;b.isCartesian&&rc(["xAxis","yAxis"],function(e){rc(d[e],function(d){a=d.options,(c[e]===a.index||c[e]===T&&0===a.index)&&(d.series.push(b),b[e]=d,d.isDirty=!0)})})},autoIncrement:function(){var a=this,b=a.options,c=a.xIncrement;return c=n(c,b.pointStart,0),a.pointInterval=n(a.pointInterval,b.pointInterval,1),a.xIncrement=c+a.pointInterval,c},getSegments:function(){var a,b=this,c=-1,d=[],e=b.points,f=e.length;if(f)if(b.options.connectNulls){for(a=f;a--;)null===e[a].y&&e.splice(a,1);e.length&&(d=[e])}else rc(e,function(a,b){null===a.y?(b>c+1&&d.push(e.slice(c+1,b)),c=b):b===f-1&&d.push(e.slice(c+1,b+1))});b.segments=d},setOptions:function(a){var b,c=this.chart,d=c.options,e=d.plotOptions,f=e[this.type],g=a.data;return a.data=null,b=vc(f,e.series,a),b.data=a.data=g,this.tooltipOptions=vc(d.tooltip,b.tooltip),null===f.marker&&delete b.marker,b},getColor:function(){var a=this.options,b=this.chart.options.colors,c=this.chart.counters;this.color=a.color||!a.colorByPoint&&b[c.color++]||"gray",c.wrapColor(b.length)},getSymbol:function(){var a=this,b=a.options.marker,c=a.chart,d=c.options.symbols,e=c.counters;a.symbol=b.symbol||d[e.symbol++],/^url/.test(a.symbol)&&(b.radius=0),e.wrapSymbol(d.length)},drawLegendSymbol:function(a){var b,c,d,e=this.options,f=e.marker,g=a.options,h=g.symbolWidth,i=this.chart.renderer,j=this.legendGroup,k=a.baseline;e.lineWidth&&(d={"stroke-width":e.lineWidth},e.dashStyle&&(d.dashstyle=e.dashStyle),this.legendLine=i.path([Ub,0,k-4,Vb,h,k-4]).attr(d).add(j)),f&&f.enabled&&(b=f.radius,this.legendSymbol=c=i.symbol(this.symbol,h/2-b,k-4-b,2*b,2*b).add(j))},addPoint:function(a,b,c,d){var e,f=this,g=f.data,h=f.graph,i=f.area,j=f.chart,k=f.xData,l=f.yData,m=h&&h.shift||0,o=f.options.data,p=f.pointClass.prototype;G(d,j),h&&c&&(h.shift=m+1),i&&(c&&(i.shift=m+1),i.isArea=!0),b=n(b,!0),e={series:f},p.applyOptions.apply(e,[a]),k.push(e.x),l.push(p.toYData?p.toYData.call(e):e.y),o.push(a),c&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),k.shift(),l.shift(),o.shift())),f.getAttribs(),f.isDirty=!0,f.isDirtyData=!0,b&&j.redraw()},setData:function(a,b){var c,e=this,h=e.points,i=e.options,j=e.initialColor,l=e.chart,m=null,o=e.xAxis,p=e.pointClass.prototype;e.xIncrement=null,e.pointRange=o&&o.categories?1:i.pointRange,k(j)&&(l.counters.color=j);var q,r=[],s=[],t=a?a.length:[],u=i.turboThreshold||1e3,v=e.pointArrayMap,w=v&&v.length;if(t>u){for(c=0;null===m&&t>c;)m=a[c],c++;if(g(m)){var x=n(i.pointStart,0),y=n(i.pointInterval,1);for(c=0;t>c;c++)r[c]=x,s[c]=a[c],x+=y;e.xIncrement=x}else if(f(m))if(w)for(c=0;t>c;c++)q=a[c],r[c]=q[0],s[c]=q.slice(1,w+1);else for(c=0;t>c;c++)q=a[c],r[c]=q[0],s[c]=q[1]}else for(c=0;t>c;c++)q={series:e},p.applyOptions.apply(q,[a[c]]),r[c]=q.x,s[c]=p.toYData?p.toYData.call(q):q.y;for(d(s[0])&&E(14,!0),e.data=[],e.options.data=a,e.xData=r,e.yData=s,c=h&&h.length||0;c--;)h[c]&&h[c].destroy&&h[c].destroy();o&&(o.minRange=o.userMinRange),e.isDirty=e.isDirtyData=l.isDirtyBox=!0,n(b,!0)&&l.redraw(!1)},remove:function(a,b){var c=this,d=c.chart;a=n(a,!0),c.isRemoving||(c.isRemoving=!0,yc(c,"remove",null,function(){c.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,a&&d.redraw(b)})),c.isRemoving=!1},processData:function(a){var b,c,d,e,f=this,g=f.xData,h=f.yData,i=g.length,j=0,k=i,l=f.xAxis,m=f.options,n=m.cropThreshold,o=f.isCartesian;if(o&&!f.isDirty&&!l.isDirty&&!f.yAxis.isDirty&&!a)return!1;if(o&&f.sorted&&(!n||i>n||f.forceCrop)){var p=l.getExtremes(),q=p.min,r=p.max;if(g[i-1]<q||g[0]>r)g=[],h=[];else if(g[0]<q||g[i-1]>r){for(e=0;i>e;e++)if(g[e]>=q){j=rb(0,e-1);break}for(;i>e;e++)if(g[e]>r){k=e+1;break}g=g.slice(j,k),h=h.slice(j,k),b=!0}}for(e=g.length-1;e>0;e--)c=g[e]-g[e-1],c>0&&(d===T||d>c)&&(d=c);f.cropped=b,f.cropStart=j,f.processedXData=g,f.processedYData=h,null===m.pointRange&&(f.pointRange=d||1),f.closestPointRange=d},generatePoints:function(){var a,b,c,d,e=this,f=e.options,g=f.data,h=e.data,i=e.processedXData,j=e.processedYData,k=e.pointClass,l=i.length,n=e.cropStart||0,o=e.hasGroupedData,p=[];if(!h&&!o){var q=[];q.length=g.length,h=e.data=q}for(d=0;l>d;d++)b=n+d,o?p[d]=(new k).init(e,[i[d]].concat(m(j[d]))):(h[b]?c=h[b]:g[b]!==T&&(h[b]=c=(new k).init(e,g[b],i[d])),p[d]=c);if(h&&(l!==(a=h.length)||o))for(d=0;a>d;d++)d!==n||o||(d+=l),h[d]&&(h[d].destroyElements(),h[d].plotX=T);e.data=h,e.points=p},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var a,b=this,c=b.chart,d=b.options,e=d.stacking,f=b.xAxis,g=f.categories,h=b.yAxis,i=b.points,j=i.length,l=!!b.modifyValue,m=h.series,o=m.length,p="between"===d.pointPlacement;o--;)if(m[o].visible){m[o]===b&&(a=!0);break}for(o=0;j>o;o++){var q,r,s=i[o],t=s.x,u=s.y,v=s.low,w=h.stacks[(u<d.threshold?"-":"")+b.stackKey];s.plotX=f.translate(t,0,0,0,1,p),e&&b.visible&&w&&w[t]&&(q=w[t],r=q.total,q.cum=v=q.cum-u,u=v+u,a&&(v=n(d.threshold,h.min)),h.isLog&&0>=v&&(v=null),"percent"===e&&(v=r?100*v/r:0,u=r?100*u/r:0),s.percentage=r?100*s.y/r:0,s.total=s.stackTotal=r,s.stackY=u),s.yBottom=k(v)?h.translate(v,0,1,0,1):null,l&&(u=b.modifyValue(u,s)),s.plotY="number"==typeof u?ob(10*h.translate(u,0,1,0,1))/10:T,s.clientX=c.inverted?c.plotHeight-s.plotX:s.plotX,s.category=g&&g[s.x]!==T?g[s.x]:s.x}b.getSegments()},setTooltipPoints:function(a){var b,c,d,e,f,g=this,h=[],i=g.xAxis,j=i?i.tooltipLen||i.len:g.chart.plotSizeX,k=i&&i.tooltipPosName||"plotX",l=[];if(g.options.enableMouseTracking!==!1){for(a&&(g.tooltipPoints=null),rc(g.segments||g.points,function(a){h=h.concat(a)}),i&&i.reversed&&(h=h.reverse()),b=h.length,f=0;b>f;f++)for(e=h[f],c=h[f-1]?d+1:0,d=h[f+1]?rb(0,pb((e[k]+(h[f+1]?h[f+1][k]:j))/2)):j;c>=0&&d>=c;)l[c++]=e;g.tooltipPoints=l}},tooltipHeaderFormatter:function(a){var b,c=this,d=c.tooltipOptions,e=d.xDateFormat,f=c.xAxis,h=f&&"datetime"===f.options.type;if(h&&!e)for(b in $)if($[b]>=f.closestPointRange){e=d.dateTimeLabelFormats[b];break}return d.headerFormat.replace("{point.key}",h&&g(a)?X(e,a):a).replace("{series.name}",c.name).replace("{series.color}",c.color)},onMouseOver:function(){var a=this,b=a.chart,c=b.hoverSeries;c&&c!==a&&c.onMouseOut(),a.options.events.mouseOver&&yc(a,"mouseOver"),a.setState(Yb),b.hoverSeries=a},onMouseOut:function(){var a=this,b=a.options,c=a.chart,d=c.tooltip,e=c.hoverPoint;e&&e.onMouseOut(),a&&b.events.mouseOut&&yc(a,"mouseOut"),!d||b.stickyTracking||d.shared||d.hide(),a.setState(),c.hoverSeries=null},animate:function(b){var c,d,f,g=this,h=g.chart,i=h.renderer,j=g.options.animation,k=h.clipBox,l=h.inverted;j&&!e(j)&&(j=Dc[g.type].animation),f="_sharedClip"+j.duration+j.easing,b?(c=h[f],d=h[f+"m"],c||(h[f]=c=i.clipRect(a(k,{width:0})),h[f+"m"]=d=i.clipRect(-99,l?-h.plotLeft:-h.plotTop,99,l?h.chartWidth:h.chartHeight)),g.group.clip(c),g.markerGroup.clip(d),g.sharedClipKey=f):(c=h[f],c&&(c.animate({width:h.plotSizeX},j),h[f+"m"].animate({width:h.plotSizeX+99},j)),g.animate=null,g.animationTimeout=setTimeout(function(){g.afterAnimate()},j.duration))},afterAnimate:function(){var a=this.chart,b=this.sharedClipKey,c=this.group;c&&this.options.clip!==!1&&(c.clip(a.clipRect),this.markerGroup.clip()),setTimeout(function(){b&&a[b]&&(a[b]=a[b].destroy(),a[b+"m"]=a[b+"m"].destroy())},100)},drawPoints:function(){var b,c,d,e,f,g,h,i,j,k,l,m,o=this,p=o.points,q=o.chart,r=o.options,s=r.marker,t=o.markerGroup;if(s.enabled||o._hasPointMarkers)for(e=p.length;e--;)f=p[e],c=f.plotX,d=f.plotY,j=f.graphic,k=f.marker||{},l=s.enabled&&k.enabled===T||k.enabled,m=q.isInsidePlot(c,d,q.inverted),l&&d!==T&&!isNaN(d)?(b=f.pointAttr[f.selected?Zb:Xb],g=b.r,h=n(k.symbol,o.symbol),i=0===h.indexOf("url"),j?j.attr({visibility:m?Fb?"inherit":Rb:Pb}).animate(a({x:c-g,y:d-g},j.symbolName?{width:2*g,height:2*g}:{})):m&&(g>0||i)&&(f.graphic=j=q.renderer.symbol(h,c-g,d-g,2*g,2*g).attr(b).add(t))):j&&(f.graphic=j.destroy())},convertAttribs:function(a,b,c,d){var e,f,g=this.pointAttrToOptions,h={};a=a||{},b=b||{},c=c||{},d=d||{};for(e in g)f=g[e],h[e]=n(a[f],b[e],c[e],d[e]);return h},getAttribs:function(){var b,c,d,e,f,g,h=this,i=Dc[h.type].marker?h.options.marker:h.options,j=i.states,l=j[Yb],m=h.color,n={stroke:m,fill:m},o=h.points||[],p=[],q=h.pointAttrToOptions;for(h.options.marker?(l.radius=l.radius||i.radius+2,l.lineWidth=l.lineWidth||i.lineWidth+1):l.color=l.color||Fc(l.color||m).brighten(l.brightness).get(),p[Xb]=h.convertAttribs(i,n),rc([Yb,Zb],function(a){p[a]=h.convertAttribs(j[a],p[Xb])}),h.pointAttr=p,c=o.length;c--;){if(d=o[c],i=d.options&&d.options.marker||d.options,i&&i.enabled===!1&&(i.radius=0),f=h.options.colorByPoint,d.options)for(g in q)k(i[q[g]])&&(f=!0);f?(i=i||{},e=[],j=i.states||{},b=j[Yb]=j[Yb]||{},h.options.marker||(b.color=Fc(b.color||d.color).brighten(b.brightness||l.brightness).get()),e[Xb]=h.convertAttribs(a({color:d.color},i),p[Xb]),e[Yb]=h.convertAttribs(j[Yb],p[Yb],e[Xb]),e[Zb]=h.convertAttribs(j[Zb],p[Zb],e[Xb])):e=p,d.pointAttr=e}},destroy:function(){var a,b,c,d,e,f=this,g=f.chart,h=/AppleWebKit\/533/.test(yb),i=f.data||[];for(yc(f,"destroy"),xc(f),rc(["xAxis","yAxis"],function(a){e=f[a],e&&(j(e.series,f),e.isDirty=!0)}),f.legendItem&&f.chart.legend.destroyItem(f),b=i.length;b--;)c=i[b],c&&c.destroy&&c.destroy();f.points=null,clearTimeout(f.animationTimeout),rc(["area","graph","dataLabelsGroup","group","markerGroup","tracker","trackerGroup"],function(b){f[b]&&(a=h&&"group"===b?"hide":"destroy",f[b][a]())}),g.hoverSeries===f&&(g.hoverSeries=null),j(g.series,f);for(d in f)delete f[d]},drawDataLabels:function(){var a,b,c,d,e=this,f=e.options,g=f.dataLabels,h=e.points;(g.enabled||e._hasPointLabels)&&(e.dlProcessOptions&&e.dlProcessOptions(g),d=e.plotGroup("dataLabelsGroup","data-labels",e.visible?Rb:Pb,6),b=g,rc(h,function(f){var h,i,j,l,m=f.dataLabel,o=!0;if(a=f.options&&f.options.dataLabels,h=b.enabled||a&&a.enabled,m&&!h)f.dataLabel=m.destroy();else if(h){if(l=g.rotation,g=vc(b,a),c=g.formatter.call(f.getLabelConfig(),g),g.style.color=n(g.color,g.style.color,e.color,"black"),m)m.attr({text:c}),o=!1;else if(k(c)){i={fill:g.backgroundColor,stroke:g.borderColor,"stroke-width":g.borderWidth,r:g.borderRadius||0,rotation:l,padding:g.padding,zIndex:1};for(j in i)i[j]===T&&delete i[j];m=f.dataLabel=e.chart.renderer[l?"text":"label"](c,0,-999,null,null,null,g.useHTML).attr(i).css(g.style).add(d).shadow(g.shadow)}m&&e.alignDataLabel(f,m,g,null,o)}}))},alignDataLabel:function(b,c,d,e,f){var g,h=this.chart,i=h.inverted,j=n(b.plotX,-999),k=n(b.plotY,-999),l=c.getBBox();e=a({x:i?h.plotWidth-k:j,y:ob(i?h.plotHeight-j:k),width:0,height:0},e),a(d,{width:l.width,height:l.height}),d.rotation?(g={align:d.align,x:e.x+d.x+e.width/2,y:e.y+d.y+e.height/2},c[f?"attr":"animate"](g)):(c.align(d,null,e),g=c.alignAttr),c.attr({visibility:d.crop===!1||h.isInsidePlot(g.x,g.y)||h.isInsidePlot(j,k,i)?Fb?"inherit":Rb:Pb})},getSegmentPath:function(a){var b=this,c=[];return rc(a,function(d,e){if(b.getPointSpline)c.push.apply(c,b.getPointSpline(a,d,e));else{if(c.push(e?Vb:Ub),e&&b.options.step){var f=a[e-1];c.push(d.plotX,f.plotY)}c.push(d.plotX,d.plotY)}}),c},getGraphPath:function(){var a,b=this,c=[],d=[];return rc(b.segments,function(e){a=b.getSegmentPath(e),e.length>1?c=c.concat(a):d.push(e[0])}),b.singlePoints=d,b.graphPath=c,c},drawGraph:function(){var a,b=this.options,c=this.graph,d=this.group,e=b.lineColor||this.color,f=b.lineWidth,g=b.dashStyle,h=this.getGraphPath();c?(Bc(c),c.animate({d:h})):f&&(a={stroke:e,"stroke-width":f,zIndex:1},g&&(a.dashstyle=g),this.graph=this.chart.renderer.path(h).attr(a).add(d).shadow(b.shadow))},invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};rc(["group","trackerGroup","markerGroup"],function(c){b[c]&&b[c].attr(a).invert()})}var b=this,c=b.chart;wc(c,"resize",a),wc(b,"destroy",function(){xc(c,"resize",a)}),a(),b.invertGroups=a},plotGroup:function(a,b,c,d,e){var f=this[a],g=this.chart,h=this.xAxis,i=this.yAxis;return f||(this[a]=f=g.renderer.g(b).attr({visibility:c,zIndex:d||.1}).add(e)),f.translate(h?h.left:g.plotLeft,i?i.top:g.plotTop),f},render:function(){var a,b=this,c=b.chart,d=b.options,e=d.animation,f=e&&!!b.animate,g=b.visible?Rb:Pb,h=d.zIndex,i=b.hasRendered,j=c.seriesGroup;a=b.plotGroup("group","series",g,h,j),b.markerGroup=b.plotGroup("markerGroup","markers",g,h,j),f&&b.animate(!0),b.getAttribs(),a.inverted=c.inverted,b.drawGraph&&b.drawGraph(),b.drawPoints(),b.drawDataLabels(),b.options.enableMouseTracking!==!1&&b.drawTracker(),c.inverted&&b.invertGroups(),d.clip===!1||b.sharedClipKey||i||(a.clip(c.clipRect),this.trackerGroup&&this.trackerGroup.clip(c.clipRect)),f?b.animate():i||b.afterAnimate(),b.isDirty=b.isDirtyData=!1,b.hasRendered=!0},redraw:function(){var a=this,b=a.chart,c=a.isDirtyData,d=a.group;d&&(b.inverted&&d.attr({width:b.plotWidth,height:b.plotHeight}),d.animate({translateX:a.xAxis.left,translateY:a.yAxis.top})),a.translate(),a.setTooltipPoints(!0),a.render(),c&&yc(a,"updatedData")},setState:function(a){var b=this,c=b.options,d=b.graph,e=c.states,f=c.lineWidth;if(a=a||Xb,b.state!==a){if(b.state=a,e[a]&&e[a].enabled===!1)return;a&&(f=e[a].lineWidth||f+1),d&&!d.dashstyle&&d.attr({"stroke-width":f},a?0:500)}},setVisible:function(a,b){var c,d,e,f=this,g=f.chart,h=f.legendItem,i=f.group,j=f.tracker,k=f.dataLabelsGroup,l=f.markerGroup,m=f.points,n=g.options.chart.ignoreHiddenSeries,o=f.visible;if(f.visible=a=a===T?!o:a,c=a?"show":"hide",i&&i[c](),l&&l[c](),j)j[c]();else if(m)for(d=m.length;d--;)e=m[d],e.tracker&&e.tracker[c]();k&&k[c](),h&&g.legend.colorizeItem(f,a),f.isDirty=!0,f.options.stacking&&rc(g.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),n&&(g.isDirtyBox=!0),b!==!1&&g.redraw(),yc(f,c)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){var b=this;b.selected=a=a===T?!b.selected:a,b.checkbox&&(b.checkbox.checked=a),yc(b,a?"select":"unselect")},drawTracker:function(){var a,b,c=this,d=c.options,e=d.trackByArea,f=[].concat(e?c.areaPath:c.graphPath),g=f.length,h=c.chart,i=h.renderer,j=h.options.tooltip.snap,k=c.tracker,l=d.cursor,m=l&&{cursor:l},n=c.singlePoints,o=this.isCartesian&&this.plotGroup("trackerGroup",null,Rb,d.zIndex||1,h.trackerGroup);if(g&&!e)for(b=g+1;b--;)f[b]===Ub&&f.splice(b+1,0,f[b+1]-j,f[b+2],Vb),(b&&f[b]===Ub||b===g)&&f.splice(b,0,Vb,f[b-2]+j,f[b-1]);for(b=0;b<n.length;b++)a=n[b],f.push(Ub,a.plotX-j,a.plotY,Vb,a.plotX+j,a.plotY);k?k.attr({d:f}):c.tracker=i.path(f).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:c.visible?Rb:Pb,stroke:Wb,fill:e?Wb:Tb,"stroke-width":d.lineWidth+(e?0:2*j)}).on(Ib?"touchstart":"mouseover",function(){h.hoverSeries!==c&&c.onMouseOver()}).on("mouseout",function(){d.stickyTracking||c.onMouseOut()}).css(m).add(o)}};var Oc=q(Nc);lc.line=Oc,Dc.area=vc(Ec,{threshold:0});var Pc=q(Nc,{type:"area",getSegmentPath:function(a){var b,c=Nc.prototype.getSegmentPath.call(this,a),d=[].concat(c),e=this.options,f=c.length;if(3===f&&d.push(Vb,c[1],c[2]),e.stacking&&!this.closedStacks)for(b=a.length-1;b>=0;b--)b<a.length-1&&e.step&&d.push(a[b+1].plotX,a[b].yBottom),d.push(a[b].plotX,a[b].yBottom);else this.closeSegment(d,a);return this.areaPath=this.areaPath.concat(d),c},closeSegment:function(a,b){var c=this.yAxis.getThreshold(this.options.threshold);a.push(Vb,b[b.length-1].plotX,c,Vb,b[0].plotX,c)},drawGraph:function(){this.areaPath=[],Nc.prototype.drawGraph.apply(this);var a=this.areaPath,b=this.options,c=this.area;c?c.animate({d:a}):this.area=this.chart.renderer.path(a).attr({fill:n(b.fillColor,Fc(this.color).setOpacity(b.fillOpacity||.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(a,b){b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,a.options.symbolWidth,12,2).attr({zIndex:3}).add(b.legendGroup)}});lc.area=Pc,Dc.spline=vc(Ec);var Qc=q(Nc,{type:"spline",getPointSpline:function(a,b,c){var d,e,f,g,h,i=1.5,j=i+1,k=b.plotX,l=b.plotY,m=a[c-1],n=a[c+1];if(m&&n){var o,p=m.plotX,q=m.plotY,r=n.plotX,s=n.plotY;d=(i*k+p)/j,e=(i*l+q)/j,f=(i*k+r)/j,g=(i*l+s)/j,o=(g-e)*(f-k)/(f-d)+l-g,e+=o,g+=o,e>q&&e>l?(e=rb(q,l),g=2*l-e):q>e&&l>e&&(e=sb(q,l),g=2*l-e),g>s&&g>l?(g=rb(s,l),e=2*l-g):s>g&&l>g&&(g=sb(s,l),e=2*l-g),b.rightContX=f,b.rightContY=g}return c?(h=["C",m.rightContX||m.plotX,m.rightContY||m.plotY,d||k,e||l,k,l],m.rightContX=m.rightContY=null):h=[Ub,k,l],h}});lc.spline=Qc,Dc.areaspline=vc(Dc.area);var Rc=Pc.prototype,Sc=q(Qc,{type:"areaspline",closedStacks:!0,getSegmentPath:Rc.getSegmentPath,closeSegment:Rc.closeSegment,drawGraph:Rc.drawGraph});lc.areaspline=Sc,Dc.column=vc(Ec,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0});var Tc=q(Nc,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){Nc.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&rc(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},translate:function(){var a,b,c=this,d=c.chart,e=c.options,f=e.stacking,g=e.borderWidth,h=0,i=c.xAxis,j=i.reversed,l={};Nc.prototype.translate.apply(c),e.grouping===!1?h=1:rc(d.series,function(d){var e=d.options;d.type===c.type&&d.visible&&c.options.group===e.group&&(e.stacking?(a=d.stackKey,l[a]===T&&(l[a]=h++),b=l[a]):e.grouping!==!1&&(b=h++),d.columnIndex=b)});var m=c.points,o=tb(i.transA)*(i.ordinalSlope||e.pointRange||i.closestPointRange||1),p=o*e.groupPadding,q=o-2*p,r=q/h,s=e.pointWidth,t=k(s)?(r-s)/2:r*e.pointPadding,u=n(s,r-2*t),v=qb(rb(u,1+2*g)),w=(j?h-c.columnIndex:c.columnIndex)||0,x=t+(p+w*r-o/2)*(j?-1:1),y=e.threshold,z=c.translatedThreshold=c.yAxis.getThreshold(y),A=n(e.minPointLength,5);rc(m,function(a){var b,e=a.plotY,h=n(a.yBottom,z),i=a.plotX+x,j=qb(sb(e,h)),k=qb(rb(e,h)-j),l=c.yAxis.stacks[(a.y<0?"-":"")+c.stackKey];
f&&c.visible&&l&&l[a.x]&&l[a.x].setOffset(x,v),tb(k)<A&&A&&(k=A,j=tb(j-z)>A?h-A:z-(z>=e?A:0)),a.barX=i,a.pointWidth=u,a.shapeType="rect",a.shapeArgs=b=d.renderer.Element.prototype.crisp.call(0,g,i,j,v,k),g%2&&(b.y-=1,b.height+=1),a.trackerArgs=tb(k)<3&&vc(a.shapeArgs,{height:6,y:j-3})})},getSymbol:Lb,drawLegendSymbol:Pc.prototype.drawLegendSymbol,drawGraph:Lb,drawPoints:function(){var a,b=this,c=b.options,d=b.chart.renderer;rc(b.points,function(e){var f=e.plotY,g=e.graphic;f===T||isNaN(f)||null===e.y?g&&(e.graphic=g.destroy()):(a=e.shapeArgs,g?(Bc(g),g.animate(vc(a))):e.graphic=g=d[e.shapeType](a).attr(e.pointAttr[e.selected?Zb:Xb]).add(b.group).shadow(c.shadow,null,c.stacking&&!c.borderRadius))})},drawTracker:function(){var a,b,c,d,e,f=this,g=f.chart,h=g.renderer,i=+new Date,j=f.options,k=j.cursor,m=k&&{cursor:k},n=f.isCartesian&&f.plotGroup("trackerGroup",null,Rb,j.zIndex||1,g.trackerGroup);rc(f.points,function(k){b=k.tracker,a=k.trackerArgs||k.shapeArgs,d=k.plotY,e=!f.isCartesian||d!==T&&!isNaN(d),delete a.strokeWidth,null!==k.y&&e&&(b?b.attr(a):k.tracker=h[k.shapeType](a).attr({isTracker:i,fill:Wb,visibility:f.visible?Rb:Pb}).on(Ib?"touchstart":"mouseover",function(a){c=a.relatedTarget||a.fromElement,g.hoverSeries!==f&&l(c,"isTracker")!==i&&f.onMouseOver(),k.onMouseOver()}).on("mouseout",function(a){j.stickyTracking||(c=a.relatedTarget||a.toElement,l(c,"isTracker")!==i&&f.onMouseOut())}).css(m).add(k.group||n))})},alignDataLabel:function(a,b,c,d,e){var f=this.chart,g=f.inverted,h=a.below||a.plotY>(this.translatedThreshold||f.plotSizeY),i=this.options.stacking||c.inside;a.shapeArgs&&(d=vc(a.shapeArgs),g&&(d={x:f.plotWidth-d.y-d.height,y:f.plotHeight-d.x-d.width,width:d.height,height:d.width}),i||(g?(d.x+=h?0:d.width,d.width=0):(d.y+=h?d.height:0,d.height=0))),c.align=n(c.align,!g||i?"center":h?"right":"left"),c.verticalAlign=n(c.verticalAlign,g||i?"middle":h?"top":"bottom"),Nc.prototype.alignDataLabel.call(this,a,b,c,d,e)},animate:function(a){var b=this,c=b.points,d=b.options;a||(rc(c,function(a){var c=a.graphic,e=a.shapeArgs,f=b.yAxis,g=d.threshold;c&&(c.attr({height:0,y:k(g)?f.getThreshold(g):f.translate(f.getExtremes().min,0,1,0,1)}),c.animate({height:e.height,y:e.y},d.animation))}),b.animate=null)},remove:function(){var a=this,b=a.chart;b.hasRendered&&rc(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),Nc.prototype.remove.apply(a,arguments)}});lc.column=Tc,Dc.bar=vc(Dc.column);var Uc=q(Tc,{type:"bar",inverted:!0});lc.bar=Uc,Dc.scatter=vc(Ec,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var Vc=q(Nc,{type:"scatter",sorted:!1,translate:function(){var a=this;Nc.prototype.translate.apply(a),rc(a.points,function(b){b.shapeType="circle",b.shapeArgs={x:b.plotX,y:b.plotY,r:a.chart.options.tooltip.snap}})},drawTracker:function(){for(var a,b=this,c=b.options.cursor,d=c&&{cursor:c},e=b.points,f=e.length;f--;)a=e[f].graphic,a&&(a.element._i=f);b._hasTracking?b._hasTracking=!0:b.markerGroup.attr({isTracker:!0}).on(Ib?"touchstart":"mouseover",function(a){b.onMouseOver(),a.target._i!==T&&e[a.target._i].onMouseOver()}).on("mouseout",function(){b.options.stickyTracking||b.onMouseOut()}).css(d)}});lc.scatter=Vc,Dc.pie=vc(Ec,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}});var Wc=q(Mc,{init:function(){Mc.prototype.init.apply(this,arguments);var b,c=this;return a(c,{visible:c.visible!==!1,name:n(c.name,"Slice")}),b=function(){c.slice()},wc(c,"select",b),wc(c,"unselect",b),c},setVisible:function(a){var b,c=this,d=c.series,e=d.chart,f=c.tracker,g=c.dataLabel,h=c.connector,i=c.shadowGroup;c.visible=a=a===T?!c.visible:a,b=a?"show":"hide",c.group[b](),f&&f[b](),g&&g[b](),h&&h[b](),i&&i[b](),c.legendItem&&e.legend.colorizeItem(c,a),!d.isDirty&&d.options.ignoreHiddenPoint&&(d.isDirty=!0,e.redraw())},slice:function(a,b,c){var d,e=this,f=e.series,g=f.chart,h=e.slicedTranslation;G(c,g),b=n(b,!0),a=e.sliced=k(a)?a:!e.sliced,d={translateX:a?h[0]:g.plotLeft,translateY:a?h[1]:g.plotTop},e.group.animate(d),e.shadowGroup&&e.shadowGroup.animate(d)}}),Xc={type:"pie",isCartesian:!1,pointClass:Wc,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var a=this,b=a.points;rc(b,function(b){var c=b.graphic,d=b.shapeArgs,e=-wb/2;c&&(c.attr({r:0,start:e,end:e}),c.animate({r:d.r,start:d.start,end:d.end},a.options.animation))}),a.animate=null},setData:function(a,b){Nc.prototype.setData.call(this,a,!1),this.processData(),this.generatePoints(),n(b,!0)&&this.chart.redraw()},getCenter:function(){var a,b=this.options,d=this.chart,e=d.plotWidth,f=d.plotHeight,g=b.center.concat([b.size,b.innerSize||0]),h=sb(e,f);return uc(g,function(b,d){return a=/%$/.test(b),a?[e,f,h,h][d]*c(b)/100:b})},translate:function(){this.generatePoints();var a,b,c,d,e,f,g,h,i,j=0,k=this,l=-.25,m=1e3,n=k.options,o=n.slicedOffset,p=o+n.borderWidth,q=k.chart,r=k.points,s=2*wb,t=n.dataLabels.distance,u=n.ignoreHiddenPoint,v=r.length;for(k.center=a=k.getCenter(),k.getX=function(b,c){return d=nb.asin((b-a[1])/(a[2]/2+t)),a[0]+(c?-1:1)*ub(d)*(a[2]/2+t)},h=0;v>h;h++)i=r[h],j+=u&&!i.visible?0:i.y;for(h=0;v>h;h++)i=r[h],e=j?i.y/j:0,b=ob(l*s*m)/m,(!u||i.visible)&&(l+=e),c=ob(l*s*m)/m,i.shapeType="arc",i.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:b,end:c},d=(c+b)/2,i.slicedTranslation=uc([ub(d)*o+q.plotLeft,vb(d)*o+q.plotTop],ob),f=ub(d)*a[2]/2,g=vb(d)*a[2]/2,i.tooltipPos=[a[0]+.7*f,a[1]+.7*g],i.labelPos=[a[0]+f+ub(d)*t,a[1]+g+vb(d)*t,a[0]+f+ub(d)*p,a[1]+g+vb(d)*p,a[0]+f,a[1]+g,0>t?"center":s/4>d?"left":"right",d],i.percentage=100*e,i.total=j;this.setTooltipPoints()},render:function(){var a=this;a.getAttribs(),this.drawPoints(),a.options.enableMouseTracking!==!1&&a.drawTracker(),this.drawDataLabels(),a.options.animation&&a.animate&&a.animate(),a.isDirty=!1},drawPoints:function(){var b,c,d,e,f,g=this,h=g.chart,i=h.renderer,j=g.options.shadow;rc(g.points,function(k){c=k.graphic,f=k.shapeArgs,d=k.group,e=k.shadowGroup,j&&!e&&(e=k.shadowGroup=i.g("shadow").attr({zIndex:4}).add()),d||(d=k.group=i.g("point").attr({zIndex:5}).add()),b=k.sliced?k.slicedTranslation:[h.plotLeft,h.plotTop],d.translate(b[0],b[1]),e&&e.translate(b[0],b[1]),c?c.animate(f):k.graphic=c=i.arc(f).setRadialReference(g.center).attr(a(k.pointAttr[Xb],{"stroke-linejoin":"round"})).add(k.group).shadow(j,e),k.visible===!1&&k.setVisible(!1)})},drawDataLabels:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this,o=m.data,p=m.chart,q=m.options.dataLabels,r=n(q.connectorPadding,10),s=n(q.connectorWidth,1),t=n(q.softConnector,!0),u=q.distance,v=m.center,w=v[2]/2,x=v[1],y=u>0,z=[[],[]],A=2;if(q.enabled||m._hasPointLabels)for(Nc.prototype.drawDataLabels.apply(m),rc(o,function(a){a.dataLabel&&z[a.labelPos[7]<wb/2?0:1].push(a)}),z[1].reverse(),k=function(a,b){return b.y-a.y},f=z[0][0]&&z[0][0].dataLabel&&(z[0][0].dataLabel.getBBox().height||21);A--;){var B,C,D,E=[],F=[],G=z[A],H=G.length;if(u>0){for(C=x-w-u;x+w+u>=C;C+=f)E.push(C);if(B=E.length,H>B){for(j=[].concat(G),j.sort(k),l=H;l--;)j[l].rank=l;for(l=H;l--;)G[l].rank>=B&&G.splice(l,1);H=G.length}for(l=0;H>l;l++){a=G[l],e=a.labelPos;var I,J,K=9999;for(J=0;B>J;J++)I=tb(E[J]-e[1]),K>I&&(K=I,D=J);if(l>D&&null!==E[l])D=l;else if(H-l+D>B&&null!==E[l])for(D=B-H+l;null===E[D];)D++;else for(;null===E[D];)D++;F.push({i:D,y:E[D]}),E[D]=null}F.sort(k)}for(l=0;H>l;l++){var L,M;a=G[l],e=a.labelPos,d=a.dataLabel,i=a.visible===!1?Pb:Rb,M=e[1],u>0?(L=F.pop(),D=L.i,h=L.y,(M>h&&null!==E[D+1]||h>M&&null!==E[D-1])&&(h=M)):h=M,g=q.justify?v[0]+(A?-1:1)*(w+u):m.getX(0===D||D===E.length-1?M:h,A),d.attr({visibility:i,align:e[6]})[d.moved?"animate":"attr"]({x:g+q.x+({left:r,right:-r}[e[6]]||0),y:h+q.y-10}),d.moved=!0,y&&s&&(b=a.connector,c=t?[Ub,g+("left"===e[6]?5:-5),h,"C",g,h,2*e[2]-e[4],2*e[3]-e[5],e[2],e[3],Vb,e[4],e[5]]:[Ub,g+("left"===e[6]?5:-5),h,Vb,e[2],e[3],Vb,e[4],e[5]],b?(b.animate({d:c}),b.attr("visibility",i)):a.connector=b=m.chart.renderer.path(c).attr({"stroke-width":s,stroke:q.connectorColor||a.color||"#606060",visibility:i,zIndex:3}).translate(p.plotLeft,p.plotTop).add())}}},alignDataLabel:Lb,drawTracker:Tc.prototype.drawTracker,drawLegendSymbol:Pc.prototype.drawLegendSymbol,getSymbol:function(){}};Xc=q(Nc,Xc),lc.pie=Xc,a(Highcharts,{Axis:O,CanVGRenderer:Kc,Chart:S,Color:Fc,Legend:R,MouseTracker:Q,Point:Mc,Tick:L,Tooltip:P,Renderer:U,Series:Nc,SVGRenderer:Gc,VMLRenderer:Hc,dateFormat:X,pathAnim:Z,getOptions:J,hasBidiBug:Gb,numberFormat:s,seriesTypes:lc,setOptions:I,addEvent:wc,removeEvent:xc,createElement:p,discardElement:D,css:o,each:rc,extend:a,map:uc,merge:vc,pick:n,splat:m,extendClass:q,pInt:c,wrap:u,svg:Fb,canvas:Hb,vml:!Fb&&!Hb,product:"Highcharts",version:"2.3.3"})}(),function(){function a(a){for(var b=a.length;b--;)"number"==typeof a[b]&&(a[b]=Math.round(a[b])-.5);return a}var b,c=Highcharts,d=c.Chart,e=c.addEvent,f=c.removeEvent,g=c.createElement,h=c.discardElement,i=c.css,j=c.merge,k=c.each,l=c.extend,m=Math,n=m.max,o=document,p=window,q=void 0!==o.documentElement.ontouchstart,r="M",s="L",t="div",u="hidden",v="none",w="highcharts-",x="absolute",y="px",z=c.getOptions();l(z.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"}),z.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:v,color:"#303030",fontSize:q?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#F7F7F7"],[.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}},z.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}},l(d.prototype,{getSVG:function(a){var c,d,e,f,i=this,m=j(i.options,a);return o.createElementNS||(o.createElementNS=function(a,b){return o.createElement(b)}),d=g(t,null,{position:x,top:"-9999em",width:i.chartWidth+y,height:i.chartHeight+y},o.body),l(m.chart,{renderTo:d,forExport:!0}),m.exporting.enabled=!1,m.chart.plotBackgroundImage=null,m.series=[],k(i.series,function(a){f=j(a.options,{animation:!1,showCheckbox:!1,visible:a.visible}),f.isInternal||(f&&f.marker&&/^url\(/.test(f.marker.symbol)&&(f.marker.symbol="circle"),m.series.push(f))}),c=new Highcharts.Chart(m),k(["xAxis","yAxis"],function(a){k(i[a],function(d,e){var f=c[a][e],g=d.getExtremes(),h=g.userMin,i=g.userMax;(h!==b||i!==b)&&f.setExtremes(h,i,!0,!1)})}),e=c.container.innerHTML,m=null,c.destroy(),h(d),e=e.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()}),e=e.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'"),2===e.match(/ xmlns="/g).length&&(e=e.replace(/xmlns="[^"]+"/,"")),e},exportChart:function(a,b){var c,d=this,e=d.getSVG(j(d.options.exporting.chartOptions,b));a=j(d.options.exporting,a),c=g("form",{method:"post",action:a.url,enctype:"multipart/form-data"},{display:v},o.body),k(["filename","type","width","svg"],function(b){g("input",{type:u,name:b,value:{filename:a.filename||"chart",type:a.type,width:a.width,svg:e}[b]},null,c)}),c.submit(),h(c)},print:function(){var a=this,b=a.container,c=[],d=b.parentNode,e=o.body,f=e.childNodes;a.isPrinting||(a.isPrinting=!0,k(f,function(a,b){1===a.nodeType&&(c[b]=a.style.display,a.style.display=v)}),e.appendChild(b),p.print(),setTimeout(function(){d.appendChild(b),k(f,function(a,b){1===a.nodeType&&(a.style.display=c[b])}),a.isPrinting=!1},1e3))},contextMenu:function(a,b,c,d,f,h){var j,m,o,p=this,r=p.options.navigation,s=r.menuItemStyle,u=p.chartWidth,z=p.chartHeight,A="cache-"+a,B=p[A],C=n(f,h),D="3px 3px 10px #888";B||(p[A]=B=g(t,{className:w+a},{position:x,zIndex:1e3,padding:C+y},p.container),j=g(t,null,l({MozBoxShadow:D,WebkitBoxShadow:D,boxShadow:D},r.menuStyle),B),m=function(){i(B,{display:v})},e(B,"mouseleave",m),k(b,function(a){if(a){var b=g(t,{onmouseover:function(){i(this,r.menuItemHoverStyle)},onmouseout:function(){i(this,s)},innerHTML:a.text||p.options.lang[a.textKey]},l({cursor:"pointer"},s),j);b[q?"ontouchstart":"onclick"]=function(){m(),a.onclick.apply(p,arguments)},p.exportDivElements.push(b)}}),p.exportDivElements.push(j,B),p.exportMenuWidth=B.offsetWidth,p.exportMenuHeight=B.offsetHeight),o={display:"block"},c+p.exportMenuWidth>u?o.right=u-c-f-C+y:o.left=c-C+y,d+h+p.exportMenuHeight>z?o.bottom=z-d-C+y:o.top=d+h-C+y,i(B,o)},addButton:function(a){function b(){d.attr(q),c.attr(p)}var c,d,e,f=this,g=f.renderer,h=j(f.options.navigation.buttonOptions,a),i=h.onclick,k=h.menuItems,m=h.width,n=h.height,o=h.borderWidth,p={stroke:h.borderColor},q={stroke:h.symbolStroke,fill:h.symbolFill},r=h.symbolSize||12;f.exportDivElements||(f.exportDivElements=[],f.exportSVGElements=[]),h.enabled!==!1&&(c=g.rect(0,0,m,n,h.borderRadius,o).align(h,!0).attr(l({fill:h.backgroundColor,"stroke-width":o,zIndex:19},p)).add(),e=g.rect(0,0,m,n,0).align(h).attr({id:h._id,fill:"rgba(255, 255, 255, 0.001)",title:f.options.lang[h._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){d.attr({stroke:h.hoverSymbolStroke,fill:h.hoverSymbolFill}),c.attr({stroke:h.hoverBorderColor})}).on("mouseout",b).on("click",b).add(),k&&(i=function(){b();var a=e.getBBox();f.contextMenu("export-menu",k,a.x,a.y,m,n)}),e.on("click",function(){i.apply(f,arguments)}),d=g.symbol(h.symbol,h.symbolX-r/2,h.symbolY-r/2,r,r).align(h,!0).attr(l(q,{"stroke-width":h.symbolStrokeWidth||1,zIndex:20})).add(),f.exportSVGElements.push(c,e,d))},destroyExport:function(){var a,b,c=this;for(a=0;a<c.exportSVGElements.length;a++)b=c.exportSVGElements[a],b.onclick=b.ontouchstart=null,c.exportSVGElements[a]=b.destroy();for(a=0;a<c.exportDivElements.length;a++)b=c.exportDivElements[a],f(b,"mouseleave"),c.exportDivElements[a]=b.onmouseout=b.onmouseover=b.ontouchstart=b.onclick=null,h(b)}}),c.Renderer.prototype.symbols.exportIcon=function(b,c,d,e){return a([r,b,c+d,s,b+d,c+e,b+d,c+.8*e,b,c+.8*e,"Z",r,b+.5*d,c+.8*e,s,b+.8*d,c+.4*e,b+.4*d,c+.4*e,b+.4*d,c,b+.6*d,c,b+.6*d,c+.4*e,b+.2*d,c+.4*e,"Z"])},c.Renderer.prototype.symbols.printIcon=function(b,c,d,e){return a([r,b,c+.7*e,s,b+d,c+.7*e,b+d,c+.4*e,b,c+.4*e,"Z",r,b+.2*d,c+.4*e,s,b+.2*d,c,b+.8*d,c,b+.8*d,c+.4*e,"Z",r,b+.2*d,c+.7*e,s,b,c+e,b+d,c+e,b+.8*d,c+.7*e,"Z"])},d.prototype.callbacks.push(function(a){var b,c=a.options.exporting,d=c.buttons;if(c.enabled!==!1){for(b in d)a.addButton(d[b]);e(a,"destroy",a.destroyExport)}})}(),!function(a,b,c){function d(a,c){var d,e=b.createElement(a||"div");for(d in c)e[d]=c[d];return e}function e(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function f(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+100*(c/d),g=Math.max(1-(1-a)/b*(100-f),a),h=k.substring(0,k.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(n.insertRule("@"+i+"keyframes "+e+"{"+"0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}"+"100%{opacity:"+g+"}"+"}",n.cssRules.length),m[e]=1),e}function g(a,b){var d,e,f=a.style;if(f[b]!==c)return b;for(b=b.charAt(0).toUpperCase()+b.slice(1),e=0;e<l.length;e++)if(d=l[e]+b,f[d]!==c)return d}function h(a,b){for(var c in b)a.style[g(a,c)||c]=b[c];return a}function i(a){for(var b=1;b<arguments.length;b++){var d=arguments[b];for(var e in d)a[e]===c&&(a[e]=d[e])}return a}function j(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}var k,l=["webkit","Moz","ms","O"],m={},n=function(){var a=d("style",{type:"text/css"});return e(b.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),o={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},p=function q(a){return this.spin?(this.opts=i(a||{},q.defaults,o),void 0):new q(a)};p.defaults={},i(p.prototype,{spin:function(a){this.stop();var b,c,e=this,f=e.opts,g=e.el=h(d(0,{className:f.className}),{position:f.position,width:0,zIndex:f.zIndex}),i=f.radius+f.length+f.width;if(a&&(a.insertBefore(g,a.firstChild||null),c=j(a),b=j(g),h(g,{left:("auto"==f.left?c.x-b.x+(a.offsetWidth>>1):parseInt(f.left,10)+i)+"px",top:("auto"==f.top?c.y-b.y+(a.offsetHeight>>1):parseInt(f.top,10)+i)+"px"})),g.setAttribute("aria-role","progressbar"),e.lines(g,e.opts),!k){var l=0,m=f.fps,n=m/f.speed,o=(1-f.opacity)/(n*f.trail/100),p=n/f.lines;!function q(){l++;for(var a=f.lines;a;a--){var b=Math.max(1-(l+a*p)%n*o,f.opacity);e.opacity(g,f.lines-a,b,f)}e.timeout=e.el&&setTimeout(q,~~(1e3/m))}()}return e},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=c),this},lines:function(a,b){function c(a,c){return h(d(),{position:"absolute",width:b.length+b.width+"px",height:b.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*i+b.rotate)+"deg) translate("+b.radius+"px"+",0)",borderRadius:(b.corners*b.width>>1)+"px"})}for(var g,i=0;i<b.lines;i++)g=h(d(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:k&&f(b.opacity,b.trail,i,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&e(g,h(c("#000","0 0 4px #000"),{top:"2px"})),e(a,e(g,c(b.color,"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}}),function(){function a(a,b){return d("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',b)}var b=h(d("group"),{behavior:"url(#default#VML)"});!g(b,"transform")&&b.adj?(n.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(b,c){function d(){return h(a("group",{coordsize:j+" "+j,coordorigin:-i+" "+-i}),{width:j,height:j})}function f(b,f,g){e(l,e(h(d(),{rotation:360/c.lines*b+"deg",left:~~f}),e(h(a("roundrect",{arcsize:c.corners}),{width:i,height:c.width,left:c.radius,top:-c.width>>1,filter:g}),a("fill",{color:c.color,opacity:c.opacity}),a("stroke",{opacity:0}))))}var g,i=c.length+c.width,j=2*i,k=2*-(c.width+c.length)+"px",l=h(d(),{position:"absolute",top:k,left:k});if(c.shadow)for(g=1;g<=c.lines;g++)f(g,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(g=1;g<=c.lines;g++)f(g);return e(b,l)},p.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}):k=g(b,"animation")}(),"function"==typeof define&&define.amd?define(function(){return p}):a.Spinner=p}(window,document),$.fn.spin=function(a){return this.each(function(){var b=$(this),c=b.data();c.spinner&&(c.spinner.stop(),delete c.spinner),a!==!1&&(c.spinner=new Spinner($.extend({color:b.css("color")},a)).spin(this))}),this},function(a,b){function c(b){a.extend(!0,rb,b)}function d(c,d,j){function k(a){$?(y(),x(),G(),t(a)):l()}function l(){_=d.theme?"ui":"fc",c.addClass("fc"),d.isRTL&&c.addClass("fc-rtl"),d.theme&&c.addClass("ui-widget"),$=a("<div class='fc-content' style='position:relative'/>").prependTo(c),Y=new e(X,d),Z=Y.render(),Z&&c.prepend(Z),s(d.defaultView),a(window).resize(A),r()||n()}function n(){setTimeout(function(){!ab.start&&r()&&t()},0)}function o(){a(window).unbind("resize",A),Y.destroy(),$.remove(),c.removeClass("fc fc-rtl ui-widget")}function p(){return 0!==hb.offsetWidth}function r(){return 0!==a("body")[0].offsetWidth}function s(b){if(!ab||b!=ab.name){kb++,I();var c,d=ab;d?((d.beforeHide||O)(),N($,$.height()),d.element.hide()):N($,1),$.css("overflow","hidden"),ab=ib[b],ab?ab.element.show():ab=ib[b]=new ub[b](c=db=a("<div class='fc-view fc-view-"+b+"' style='position:absolute'/>").appendTo($),X),d&&Y.deactivateButton(d.name),Y.activateButton(b),t(),$.css("overflow",""),d&&N($,1),c||(ab.afterShow||O)(),kb--}}function t(a){if(p()){kb++,I(),cb===b&&y();var d=!1;!ab.start||a||lb<ab.start||lb>=ab.end?(ab.render(lb,a||0),z(!0),d=!0):ab.sizeDirty?(ab.clearEvents(),z(),d=!0):ab.eventsDirty&&(ab.clearEvents(),d=!0),ab.sizeDirty=!1,ab.eventsDirty=!1,B(d),bb=c.outerWidth(),Y.updateTitle(ab.title);var e=new Date;e>=ab.start&&e<ab.end?Y.disableButton("today"):Y.enableButton("today"),kb--,ab.trigger("viewDisplay",hb)}}function w(){x(),p()&&(y(),z(),I(),ab.clearEvents(),ab.renderEvents(mb),ab.sizeDirty=!1)}function x(){a.each(ib,function(a,b){b.sizeDirty=!0})}function y(){cb=d.contentHeight?d.contentHeight:d.height?d.height-(Z?Z.height():0)-J($):Math.round($.width()/Math.max(d.aspectRatio,.5))}function z(a){kb++,ab.setHeight(cb,a),db&&(db.css("position","relative"),db=null),ab.setWidth($.width(),a),kb--}function A(){if(!kb)if(ab.start){var a=++jb;setTimeout(function(){a==jb&&!kb&&p()&&bb!=(bb=c.outerWidth())&&(kb++,w(),ab.trigger("windowResize",hb),kb--)},200)}else n()}function B(a){!d.lazyFetching||fb(ab.visStart,ab.visEnd)?C():a&&F()}function C(){gb(ab.visStart,ab.visEnd)}function D(a){mb=a,F()}function E(a){F(a)}function F(a){G(),p()&&(ab.clearEvents(),ab.renderEvents(mb,a),ab.eventsDirty=!1)}function G(){a.each(ib,function(a,b){b.eventsDirty=!0})}function H(a,c,d){ab.select(a,c,d===b?!0:d)}function I(){ab&&ab.unselect()}function K(){t(-1)}function L(){t(1)}function M(){g(lb,-1),t()}function P(){g(lb,1),t()}function Q(){lb=new Date,t()}function R(a,b,c){a instanceof Date?lb=m(a):q(lb,a,b,c),t()}function S(a,c,d){a!==b&&g(lb,a),c!==b&&h(lb,c),d!==b&&i(lb,d),t()}function T(){return m(lb)}function U(){return ab}function V(a,c){return c===b?d[a]:(("height"==a||"contentHeight"==a||"aspectRatio"==a)&&(d[a]=c,w()),void 0)}function W(a,b){return d[a]?d[a].apply(b||hb,Array.prototype.slice.call(arguments,2)):void 0}var X=this;X.options=d,X.render=k,X.destroy=o,X.refetchEvents=C,X.reportEvents=D,X.reportEventChange=E,X.rerenderEvents=F,X.changeView=s,X.select=H,X.unselect=I,X.prev=K,X.next=L,X.prevYear=M,X.nextYear=P,X.today=Q,X.gotoDate=R,X.incrementDate=S,X.formatDate=function(a,b){return u(a,b,d)},X.formatDates=function(a,b,c){return v(a,b,c,d)},X.getDate=T,X.getView=U,X.option=V,X.trigger=W,f.call(X,d,j);var Y,Z,$,_,ab,bb,cb,db,eb,fb=X.isFetchNeeded,gb=X.fetchEvents,hb=c[0],ib={},jb=0,kb=0,lb=new Date,mb=[];q(lb,d.year,d.month,d.date),d.droppable&&a(document).bind("dragstart",function(b,c){var e=b.target,f=a(e);if(!f.parents(".fc").length){var g=d.dropAccept;(a.isFunction(g)?g.call(e,f):f.is(g))&&(eb=e,ab.dragStart(eb,b,c))}}).bind("dragstop",function(a,b){eb&&(ab.dragStop(eb,a,b),eb=null)})}function e(b,c){function d(){m=c.theme?"ui":"fc";var b=c.header;return b?n=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(f("left")).append(f("center")).append(f("right"))):void 0}function e(){n.remove()}function f(d){var e=a("<td class='fc-header-"+d+"'/>"),f=c.header[d];return f&&a.each(f.split(" "),function(d){d>0&&e.append("<span class='fc-header-space'/>");var f;a.each(this.split(","),function(d,g){if("title"==g)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),f&&f.addClass(m+"-corner-right"),f=null;else{var h;if(b[g]?h=b[g]:ub[g]&&(h=function(){k.removeClass(m+"-state-hover"),b.changeView(g)}),h){var i=c.theme?S(c.buttonIcons,g):null,j=S(c.buttonText,g),k=a("<span class='fc-button fc-button-"+g+" "+m+"-state-default'>"+"<span class='fc-button-inner'>"+"<span class='fc-button-content'>"+(i?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+i+"'/>"+"</span>":j)+"</span>"+"<span class='fc-button-effect'><span></span></span>"+"</span>"+"</span>");k&&(k.click(function(){k.hasClass(m+"-state-disabled")||h()}).mousedown(function(){k.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-down")}).mouseup(function(){k.removeClass(m+"-state-down")}).hover(function(){k.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-hover")},function(){k.removeClass(m+"-state-hover").removeClass(m+"-state-down")}).appendTo(e),f||k.addClass(m+"-corner-left"),f=k)}}}),f&&f.addClass(m+"-corner-right")}),e}function g(a){n.find("h2").html(a)}function h(a){n.find("span.fc-button-"+a).addClass(m+"-state-active")}function i(a){n.find("span.fc-button-"+a).removeClass(m+"-state-active")}function j(a){n.find("span.fc-button-"+a).addClass(m+"-state-disabled")}function k(a){n.find("span.fc-button-"+a).removeClass(m+"-state-disabled")}var l=this;l.render=d,l.destroy=e,l.updateTitle=g,l.activateButton=h,l.deactivateButton=i,l.disableButton=j,l.enableButton=k;var m,n=a([])}function f(c,d){function e(a,b){return!y||y>a||b>z}function f(a,b){y=a,z=b,I=[];var c=++F,d=E.length;G=d;for(var e=0;d>e;e++)g(E[e],c)}function g(a,b){h(a,function(c){if(b==F){if(c){for(var d=0;d<c.length;d++)c[d].source=a,t(c[d]);I=I.concat(c)}G--,G||C(I)}})}function h(b,d){var e,f,g=tb.sourceFetchers;for(e=0;e<g.length;e++){if(f=g[e](b,y,z,d),f===!0)return;if("object"==typeof f)return h(f,d),void 0}var i=b.events;if(i)a.isFunction(i)?(q(),i(m(y),m(z),function(a){d(a),s()})):a.isArray(i)?d(i):d();else{var j=b.url;if(j){var k=b.success,l=b.error,n=b.complete,o=a.extend({},b.data||{}),p=$(b.startParam,c.startParam),r=$(b.endParam,c.endParam);p&&(o[p]=Math.round(+y/1e3)),r&&(o[r]=Math.round(+z/1e3)),q(),a.ajax(a.extend({},vb,b,{data:o,success:function(b){b=b||[];var c=Z(k,this,arguments);a.isArray(c)&&(b=c),d(b)},error:function(){Z(l,this,arguments),d()},complete:function(){Z(n,this,arguments),s()}}))}else d()}}function i(a){a=j(a),a&&(G++,g(a,F))}function j(b){return a.isFunction(b)||a.isArray(b)?b={events:b}:"string"==typeof b&&(b={url:b}),"object"==typeof b?(u(b),E.push(b),b):void 0}function k(b){E=a.grep(E,function(a){return!v(a,b)}),I=a.grep(I,function(a){return!v(a.source,b)}),C(I)}function l(a){var b,c,d=I.length,e=B().defaultEventEnd,f=a.start-a._start,g=a.end?a.end-(a._end||e(a)):0;for(b=0;d>b;b++)c=I[b],c._id==a._id&&c!=a&&(c.start=new Date(+c.start+f),c.end=a.end?c.end?new Date(+c.end+g):new Date(+e(c)+g):null,c.title=a.title,c.url=a.url,c.allDay=a.allDay,c.className=a.className,c.editable=a.editable,c.draggable=a.draggable,c.resizable=a.resizable,c.color=a.color,c.backgroudColor=a.backgroudColor,c.borderColor=a.borderColor,c.textColor=a.textColor,t(c));t(a),C(I)}function n(a,b){t(a),a.source||(b&&(D.events.push(a),a.source=D),I.push(a)),C(I)}function o(b){if(b){if(!a.isFunction(b)){var c=b+"";b=function(a){return a._id==c}}I=a.grep(I,b,!0);for(var d=0;d<E.length;d++)a.isArray(E[d].events)&&(E[d].events=a.grep(E[d].events,b,!0))}else{I=[];for(var d=0;d<E.length;d++)a.isArray(E[d].events)&&(E[d].events=[])}C(I)}function p(b){return a.isFunction(b)?a.grep(I,b):b?(b+="",a.grep(I,function(a){return a._id==b})):I}function q(){H++||A("loading",null,!0)}function s(){--H||A("loading",null,!1)}function t(a){var d=a.source||{},e=$(d.ignoreTimezone,c.ignoreTimezone);a._id=a._id||(a.id===b?"_fc"+wb++:a.id+""),a.date&&(a.start||(a.start=a.date),delete a.date),a._start=m(a.start=r(a.start,e)),a.end=r(a.end,e),a.end&&a.end<=a.start&&(a.end=null),a._end=a.end?m(a.end):null,a.allDay===b&&(a.allDay=$(d.allDayDefault,c.allDayDefault)),a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[]}function u(a){a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=tb.sourceNormalizers,c=0;c<b.length;c++)b[c](a)}function v(a,b){return a&&b&&w(a)==w(b)}function w(a){return("object"==typeof a?a.events||a.url:"")||a}var x=this;x.isFetchNeeded=e,x.fetchEvents=f,x.addEventSource=i,x.removeEventSource=k,x.updateEvent=l,x.renderEvent=n,x.removeEvents=o,x.clientEvents=p,x.normalizeEvent=t;for(var y,z,A=x.trigger,B=x.getView,C=x.reportEvents,D={events:[]},E=[D],F=0,G=0,H=0,I=[],J=0;J<d.length;J++)j(d[J])}function g(a,b,c){return a.setFullYear(a.getFullYear()+b),c||l(a),a}function h(a,b,c){if(+a){var d=a.getMonth()+b,e=m(a);for(e.setDate(1),e.setMonth(d),a.setMonth(d),c||l(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(e>a?1:-1))}return a}function i(a,b,c){if(+a){var d=a.getDate()+b,e=m(a);e.setHours(9),e.setDate(d),a.setDate(d),c||l(a),j(a,e)}return a}function j(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(b>a?1:-1)*zb)}function k(a,b){return a.setMinutes(a.getMinutes()+b),a}function l(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function m(a,b){return b?l(new Date(+a)):new Date(+a)}function n(){var a,b=0;do a=new Date(1970,b++,1);while(a.getHours());return a}function o(a,b,c){for(b=b||1;!a.getDay()||c&&1==a.getDay()||!c&&6==a.getDay();)i(a,b);return a}function p(a,b){return Math.round((m(a,!0)-m(b,!0))/yb)}function q(a,c,d,e){c!==b&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c)),d!==b&&d!=a.getMonth()&&(a.setDate(1),a.setMonth(d)),e!==b&&a.setDate(e)}function r(a,c){if("object"==typeof a)return a;if("number"==typeof a){var d=new Date(1e3*a);return c&&(d=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds())),d}return"string"==typeof a?a.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(a)):(c===b&&(c=!0),s(a,c)||(a?new Date(a):null)):null}function s(a,b){var c=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!c)return null;var d=new Date(c[1],0,1);if(b||!c[13]){var e=new Date(c[1],0,1,9,0);c[3]&&(d.setMonth(c[3]-1),e.setMonth(c[3]-1)),c[5]&&(d.setDate(c[5]),e.setDate(c[5])),j(d,e),c[7]&&d.setHours(c[7]),c[8]&&d.setMinutes(c[8]),c[10]&&d.setSeconds(c[10]),c[12]&&d.setMilliseconds(1e3*Number("0."+c[12])),j(d,e)}else if(d.setUTCFullYear(c[1],c[3]?c[3]-1:0,c[5]||1),d.setUTCHours(c[7]||0,c[8]||0,c[10]||0,c[12]?1e3*Number("0."+c[12]):0),c[14]){var f=60*Number(c[16])+(c[18]?Number(c[18]):0);f*="-"==c[15]?1:-1,d=new Date(+d+1e3*60*f)}return d}function t(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();var b=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(b){var c=parseInt(b[1],10);return b[3]&&(c%=12,"p"==b[3].toLowerCase().charAt(0)&&(c+=12)),60*c+(b[2]?parseInt(b[2],10):0)}}function u(a,b,c){return v(a,null,b,c)}function v(a,b,c,d){d=d||rb;
var e,f,g,h,i=a,j=b,k=c.length,l="";for(e=0;k>e;e++)if(f=c.charAt(e),"'"==f){for(g=e+1;k>g;g++)if("'"==c.charAt(g)){i&&(l+=g==e+1?"'":c.substring(e+1,g),e=g);break}}else if("("==f){for(g=e+1;k>g;g++)if(")"==c.charAt(g)){var m=u(i,c.substring(e+1,g),d);parseInt(m.replace(/\D/,""),10)&&(l+=m),e=g;break}}else if("["==f){for(g=e+1;k>g;g++)if("]"==c.charAt(g)){var n=c.substring(e+1,g),m=u(i,n,d);m!=u(j,n,d)&&(l+=m),e=g;break}}else if("{"==f)i=b,j=a;else if("}"==f)i=a,j=b;else{for(g=k;g>e;g--)if(h=Bb[c.substring(e,g)]){i&&(l+=h(i,d)),e=g-1;break}g==e&&i&&(l+=f)}return l}function w(a){return a.end?x(a.end,a.allDay):i(m(a.start),1)}function x(a,b){return a=m(a),b||a.getHours()||a.getMinutes()?i(a,1):l(a)}function y(a,b){return 100*(b.msLength-a.msLength)+(a.event.start-b.event.start)}function z(a,b){return a.end>b.start&&a.start<b.end}function A(a,b,c,d){var e,f,g,h,i,j,k,l,n=[],o=a.length;for(e=0;o>e;e++)f=a[e],g=f.start,h=b[e],h>c&&d>g&&(c>g?(i=m(c),k=!1):(i=g,k=!0),h>d?(j=m(d),l=!1):(j=h,l=!0),n.push({event:f,start:i,end:j,isStart:k,isEnd:l,msLength:j-i}));return n.sort(y)}function B(a){var b,c,d,e,f,g=[],h=a.length;for(b=0;h>b;b++){for(c=a[b],d=0;;){if(e=!1,g[d])for(f=0;f<g[d].length;f++)if(z(g[d][f],c)){e=!0;break}if(!e)break;d++}g[d]?g[d].push(c):g[d]=[c]}return g}function C(c,d,e){c.unbind("mouseover").mouseover(function(c){for(var f,g,h,i=c.target;i!=this;)f=i,i=i.parentNode;(g=f._fci)!==b&&(f._fci=b,h=d[g],e(h.event,h.element,h),a(c.target).trigger(c)),c.stopPropagation()})}function D(b,c,d){for(var e,f=0;f<b.length;f++)e=a(b[f]),e.width(Math.max(0,c-F(e,d)))}function E(b,c,d){for(var e,f=0;f<b.length;f++)e=a(b[f]),e.height(Math.max(0,c-J(e,d)))}function F(a,b){return G(a)+I(a)+(b?H(a):0)}function G(b){return(parseFloat(a.css(b[0],"paddingLeft",!0))||0)+(parseFloat(a.css(b[0],"paddingRight",!0))||0)}function H(b){return(parseFloat(a.css(b[0],"marginLeft",!0))||0)+(parseFloat(a.css(b[0],"marginRight",!0))||0)}function I(b){return(parseFloat(a.css(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.css(b[0],"borderRightWidth",!0))||0)}function J(a,b){return K(a)+M(a)+(b?L(a):0)}function K(b){return(parseFloat(a.css(b[0],"paddingTop",!0))||0)+(parseFloat(a.css(b[0],"paddingBottom",!0))||0)}function L(b){return(parseFloat(a.css(b[0],"marginTop",!0))||0)+(parseFloat(a.css(b[0],"marginBottom",!0))||0)}function M(b){return(parseFloat(a.css(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.css(b[0],"borderBottomWidth",!0))||0)}function N(a,b){b="number"==typeof b?b+"px":b,a.each(function(a,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function O(){}function P(a,b){return a-b}function Q(a){return Math.max.apply(Math,a)}function R(a){return(10>a?"0":"")+a}function S(a,c){if(a[c]!==b)return a[c];for(var d,e=c.split(/(?=[A-Z])/),f=e.length-1;f>=0;f--)if(d=a[e[f].toLowerCase()],d!==b)return d;return a[""]}function T(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function U(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/gi,"")}function V(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function W(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function X(a,b){a.each(function(a,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+xb[b.getDay()])})}function Y(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f,h=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,i=a.textColor||c.textColor||b("eventTextColor"),j=[];return g&&j.push("background-color:"+g),h&&j.push("border-color:"+h),i&&j.push("color:"+i),j.join(";")}function Z(b,c,d){if(a.isFunction(b)&&(b=[b]),b){var e,f;for(e=0;e<b.length;e++)f=b[e].apply(c,d)||f;return f}}function $(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==b)return arguments[a]}function _(a,b){function c(a,b){b&&(h(a,b),a.setDate(1));var c=m(a,!0);c.setDate(1);var j=h(m(c),1),k=m(c),l=m(j),n=e("firstDay"),p=e("weekends")?0:1;p&&(o(k),o(l,-1,!0)),i(k,-((k.getDay()-Math.max(n,p)+7)%7)),i(l,(7-l.getDay()+Math.max(n,p))%7);var q=Math.round((l-k)/(7*yb));"fixed"==e("weekMode")&&(i(l,7*(6-q)),q=6),d.title=g(c,e("titleFormat")),d.start=c,d.end=j,d.visStart=k,d.visEnd=l,f(6,q,p?5:7,!0)}var d=this;d.render=c,cb.call(d,a,b,"month");var e=d.opt,f=d.renderBasic,g=b.formatDate}function ab(a,b){function c(a,b){b&&i(a,7*b);var c=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),h=i(m(c),7),j=m(c),k=m(h),l=e("weekends");l||(o(j),o(k,-1,!0)),d.title=g(j,i(m(k),-1),e("titleFormat")),d.start=c,d.end=h,d.visStart=j,d.visEnd=k,f(1,1,l?7:5,!1)}var d=this;d.render=c,cb.call(d,a,b,"basicWeek");var e=d.opt,f=d.renderBasic,g=b.formatDates}function bb(a,b){function c(a,b){b&&(i(a,b),e("weekends")||o(a,0>b?-1:1)),d.title=g(a,e("titleFormat")),d.start=d.visStart=m(a,!0),d.end=d.visEnd=i(m(d.start),1),f(1,1,1,!1)}var d=this;d.render=c,cb.call(d,a,b,"basicDay");var e=d.opt,f=d.renderBasic,g=b.formatDate}function cb(b,c,d){function e(a,b,c,d){$=b,_=c,f();var e=!O;e?g(a,d):tb(),h(e)}function f(){eb=rb("isRTL"),eb?(fb=-1,gb=_-1):(fb=1,gb=0),hb=rb("firstDay"),ib=rb("weekends")?0:1,kb=rb("theme")?"ui":"fc",pb=rb("columnFormat")}function g(c,d){var e,f,g,h,i=kb+"-widget-header",j=kb+"-widget-content";for(e="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",f=0;_>f;f++)e+="<th class='fc- "+i+"'/>";for(e+="</tr></thead><tbody>",f=0;c>f;f++){for(e+="<tr class='fc-week"+f+"'>",g=0;_>g;g++)e+="<td class='fc- "+j+" fc-day"+(f*_+g)+"'>"+"<div>"+(d?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";e+="</tr>"}e+="</tbody></table>",h=a(e).appendTo(b),L=h.find("thead"),M=L.find("th"),O=h.find("tbody"),P=O.find("tr"),Q=O.find("td"),R=Q.filter(":first-child"),S=P.eq(0).find("div.fc-day-content div"),W(L.add(L.find("tr"))),W(P),P.eq(0).addClass("fc-first"),n(Q),T=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function h(b){var c,d,e,f=b||1==$,g=K.start.getMonth(),h=l(new Date);f&&M.each(function(b,e){c=a(e),d=F(b),c.html(xb(d,pb)),X(c,d)}),Q.each(function(b,e){c=a(e),d=F(b),d.getMonth()==g?c.removeClass("fc-other-month"):c.addClass("fc-other-month"),+d==+h?c.addClass(kb+"-state-highlight fc-today"):c.removeClass(kb+"-state-highlight fc-today"),c.find("div.fc-day-number").text(d.getDate()),f&&X(c,d)}),P.each(function(b,c){e=a(c),$>b?(e.show(),b==$-1?e.addClass("fc-last"):e.removeClass("fc-last")):e.hide()})}function j(b){Y=b;var c,d,e,f=Y-L.height();"variable"==rb("weekMode")?c=d=Math.floor(f/(1==$?2:6)):(c=Math.floor(f/$),d=f-c*($-1)),R.each(function(b,f){$>b&&(e=a(f),N(e.find("> div"),(b==$-1?d:c)-J(e)))})}function k(a){U=a,cb.clear(),Z=Math.floor(U/_),D(M.slice(0,-1),Z)}function n(a){a.click(o).mousedown(wb)}function o(a){if(!rb("selectable")){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]),c=F(b);sb("dayClick",this,c,!0,a)}}function q(a,b,c){c&&ab.build();for(var d=m(K.visStart),e=i(m(d),_),f=0;$>f;f++){var g=new Date(Math.max(d,a)),h=new Date(Math.min(e,b));if(h>g){var j,k;eb?(j=p(h,d)*fb+gb+1,k=p(g,d)*fb+gb+1):(j=p(g,d),k=p(h,d)),n(r(f,j,f,k-1))}i(d,7),i(e,7)}}function r(a,c,d,e){var f=ab.rect(a,c,d,e,b);return ub(f,b)}function s(a){return m(a)}function t(a,b){q(a,i(m(b),1),!0)}function u(){vb()}function v(a,b,c){var d=B(a),e=Q[d.row*_+d.col];sb("dayClick",e,a,b,c)}function w(a,b){bb.start(function(a){vb(),a&&r(a.row,a.col,a.row,a.col)},b)}function x(a,b,c){var d=bb.stop();if(vb(),d){var e=C(d);sb("drop",a,e,!0,b,c)}}function y(a){return m(a.start)}function z(a){return cb.left(a)}function A(a){return cb.right(a)}function B(a){return{row:Math.floor(p(a,K.visStart)/7),col:G(a.getDay())}}function C(a){return E(a.row,a.col)}function E(a,b){return i(m(K.visStart),7*a+b*fb+gb)}function F(a){return E(Math.floor(a/_),a%_)}function G(a){return(a-Math.max(hb,ib)+_)%_*fb+gb}function H(a){return P.eq(a)}function I(){return{left:0,right:U}}var K=this;K.renderBasic=e,K.setHeight=j,K.setWidth=k,K.renderDayOverlay=q,K.defaultSelectionEnd=s,K.renderSelection=t,K.clearSelection=u,K.reportDayClick=v,K.dragStart=w,K.dragStop=x,K.defaultEventEnd=y,K.getHoverListener=function(){return bb},K.colContentLeft=z,K.colContentRight=A,K.dayOfWeekCol=G,K.dateCell=B,K.cellDate=C,K.cellIsAllDay=function(){return!0},K.allDayRow=H,K.allDayBounds=I,K.getRowCnt=function(){return $},K.getColCnt=function(){return _},K.getColWidth=function(){return Z},K.getDaySegmentContainer=function(){return T},jb.call(K,b,c,d),mb.call(K),lb.call(K),db.call(K);var L,M,O,P,Q,R,S,T,U,Y,Z,$,_,ab,bb,cb,eb,fb,gb,hb,ib,kb,pb,rb=K.opt,sb=K.trigger,tb=K.clearEvents,ub=K.renderOverlay,vb=K.clearOverlays,wb=K.daySelectionMousedown,xb=c.formatDate;V(b.addClass("fc-grid")),ab=new nb(function(b,c){var d,e,f;M.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),P.each(function(c,g){$>c&&(d=a(g),e=d.offset().top,c&&(f[1]=e),f=[e],b[c]=f)}),f[1]=e+d.outerHeight()}),bb=new ob(ab),cb=new qb(function(a){return S.eq(a)})}function db(){function b(a,b){n(a),C(d(a),b)}function c(){o(),t().empty()}function d(b){var c,d,e,f,h,j,k=y(),l=z(),n=m(g.visStart),o=i(m(n),l),p=a.map(b,w),q=[];for(c=0;k>c;c++){for(d=B(A(b,p,n,o)),e=0;e<d.length;e++)for(f=d[e],h=0;h<f.length;h++)j=f[h],j.row=c,j.level=e,q.push(j);i(n,7),i(o,7)}return q}function e(a,b,c){k(a)&&f(a,b),c.isEnd&&l(a)&&D(a,b,c),p(a,b)}function f(a,b){var c,d=u();b.draggable({zIndex:9,delay:50,opacity:h("dragOpacity"),revertDuration:h("dragRevertDuration"),start:function(e,f){j("eventDragStart",b,a,e,f),r(a,b),d.start(function(d,e,f,g){b.draggable("option","revert",!d||!f&&!g),x(),d?(c=7*f+g*(h("isRTL")?-1:1),v(i(m(a.start),c),i(w(a),c))):c=0},e,"drag")},stop:function(e,f){d.stop(),x(),j("eventDragStop",b,a,e,f),c?s(this,a,c,0,a.allDay,e,f):(b.css("filter",""),q(a,b))}})}var g=this;g.renderEvents=b,g.compileDaySegs=d,g.clearEvents=c,g.bindDaySeg=e,kb.call(g);var h=g.opt,j=g.trigger,k=g.isEventDraggable,l=g.isEventResizable,n=g.reportEvents,o=g.reportEventClear,p=g.eventElementHandlers,q=g.showEvents,r=g.hideEvents,s=g.eventDrop,t=g.getDaySegmentContainer,u=g.getHoverListener,v=g.renderDayOverlay,x=g.clearOverlays,y=g.getRowCnt,z=g.getColCnt,C=g.renderDaySegs,D=g.resizableDayEvent}function eb(a,b){function c(a,b){b&&i(a,7*b);var c=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),h=i(m(c),7),j=m(c),k=m(h),l=e("weekends");l||(o(j),o(k,-1,!0)),d.title=g(j,i(m(k),-1),e("titleFormat")),d.start=c,d.end=h,d.visStart=j,d.visEnd=k,f(l?7:5)}var d=this;d.render=c,gb.call(d,a,b,"agendaWeek");var e=d.opt,f=d.renderAgenda,g=b.formatDates}function fb(a,b){function c(a,b){b&&(i(a,b),e("weekends")||o(a,0>b?-1:1));var c=m(a,!0),h=i(m(c),1);d.title=g(a,e("titleFormat")),d.start=d.visStart=c,d.end=d.visEnd=h,f(1)}var d=this;d.render=c,gb.call(d,a,b,"agendaDay");var e=d.opt,f=d.renderAgenda,g=b.formatDate}function gb(c,d,e){function f(a){Ib=a,g(),ab?Yb():h(),j()}function g(){Nb=Wb("theme")?"ui":"fc",Pb=Wb("weekends")?0:1,Ob=Wb("firstDay"),(Qb=Wb("isRTL"))?(Rb=-1,Sb=Ib-1):(Rb=1,Sb=0),Tb=t(Wb("minTime")),Ub=t(Wb("maxTime")),Vb=Wb("columnFormat")}function h(){var b,d,e,f,g,h=Nb+"-widget-header",i=Nb+"-widget-content",j=0==Wb("slotMinutes")%15;for(b="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>",d=0;Ib>d;d++)b+="<th class='fc- fc-col"+d+" "+h+"'/>";for(b+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+"<th class='fc-agenda-axis "+h+"'>&nbsp;</th>",d=0;Ib>d;d++)b+="<td class='fc- fc-col"+d+" "+i+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";for(b+="<td class='fc-agenda-gutter "+i+"'>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>",ab=a(b).appendTo(c),bb=ab.find("thead"),cb=bb.find("th").slice(1,-1),db=ab.find("tbody"),eb=db.find("td").slice(0,-1),fb=eb.find("div.fc-day-content div"),gb=eb.eq(0),ib=gb.find("> div"),W(bb.add(bb.find("tr"))),W(db.add(db.find("tr"))),yb=bb.find("th:first"),zb=ab.find(".fc-agenda-gutter"),kb=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c),Wb("allDaySlot")?(pb=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(kb),b="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+Wb("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+h+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",rb=a(b).appendTo(kb),sb=rb.find("tr"),v(sb.find("td")),yb=yb.add(rb.find("th:first")),zb=zb.add(rb.find("th.fc-agenda-gutter")),kb.append("<div class='fc-agenda-divider "+h+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):pb=a([]),tb=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(kb),ub=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(tb),vb=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ub),b="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",e=n(),f=k(m(e),Ub),k(e,Tb),Jb=0,d=0;f>e;d++)g=e.getMinutes(),b+="<tr class='fc-slot"+d+" "+(g?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+h+"'>"+(j&&g?"&nbsp;":dc(e,Wb("axisFormat")))+"</th>"+"<td class='"+i+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",k(e,Wb("slotMinutes")),Jb++;b+="</tbody></table>",wb=a(b).appendTo(ub),xb=wb.find("div:first"),w(wb.find("td")),yb=yb.add(wb.find("th:first"))}function j(){var a,b,c,d,e=l(new Date);for(a=0;Ib>a;a++)d=H(a),b=cb.eq(a),b.html(dc(d,Vb)),c=eb.eq(a),+d==+e?c.addClass(Nb+"-state-highlight fc-today"):c.removeClass(Nb+"-state-highlight fc-today"),X(b.add(c),d)}function o(a,c){a===b&&(a=Cb),Cb=a,ec={};var d=db.position().top,e=tb.position().top,f=Math.min(a-d,wb.height()+e+1);ib.height(f-J(gb)),kb.css("top",d),tb.height(f-e-1),Gb=xb.height()+1,c&&r()}function q(b){Bb=b,Mb.clear(),Db=0,D(yb.width("").each(function(b,c){Db=Math.max(Db,a(c).outerWidth())}),Db);var c=tb[0].clientWidth;Fb=tb.width()-c,Fb?(D(zb,Fb),zb.show().prev().removeClass("fc-last")):zb.hide().prev().addClass("fc-last"),Eb=Math.floor((c-Db)/Ib),D(cb.slice(0,-1),Eb)}function r(){function a(){tb.scrollTop(d)}var b=n(),c=m(b);c.setHours(Wb("firstHour"));var d=L(b,c)+1;a(),setTimeout(a,0)}function s(){Hb=tb.scrollTop()}function u(){tb.scrollTop(Hb)}function v(a){a.click(x).mousedown(bc)}function w(a){a.click(x).mousedown(U)}function x(a){if(!Wb("selectable")){var b=Math.min(Ib-1,Math.floor((a.pageX-ab.offset().left-Db)/Eb)),c=H(b),d=this.parentNode.className.match(/fc-slot(\d+)/);if(d){var e=parseInt(d[1])*Wb("slotMinutes"),f=Math.floor(e/60);c.setHours(f),c.setMinutes(e%60+Tb),Xb("dayClick",eb[b],c,!1,a)}else Xb("dayClick",eb[b],c,!0,a)}}function y(a,b,c){c&&Kb.build();var d,e,f=m(_.visStart);Qb?(d=p(b,f)*Rb+Sb+1,e=p(a,f)*Rb+Sb+1):(d=p(a,f),e=p(b,f)),d=Math.max(0,d),e=Math.min(Ib,e),e>d&&v(z(0,d,0,e-1))}function z(a,b,c,d){var e=Kb.rect(a,b,c,d,kb);return Zb(e,kb)}function A(a,b){for(var c=m(_.visStart),d=i(m(c),1),e=0;Ib>e;e++){var f=new Date(Math.max(c,a)),g=new Date(Math.min(d,b));if(g>f){var h=e*Rb+Sb,j=Kb.rect(0,h,0,h,ub),k=L(c,f),l=L(c,g);j.top=k,j.height=l-k,w(Zb(j,ub))}i(c,1),i(d,1)}}function B(a){return Mb.left(a)}function C(a){return Mb.right(a)}function F(a){return{row:Math.floor(p(a,_.visStart)/7),col:K(a.getDay())}}function G(a){var b=H(a.col),c=a.row;return Wb("allDaySlot")&&c--,c>=0&&k(b,Tb+c*Wb("slotMinutes")),b}function H(a){return i(m(_.visStart),a*Rb+Sb)}function I(a){return Wb("allDaySlot")&&!a.row}function K(a){return(a-Math.max(Ob,Pb)+Ib)%Ib*Rb+Sb}function L(a,c){if(a=m(a,!0),c<k(m(a),Tb))return 0;if(c>=k(m(a),Ub))return wb.height();var d=Wb("slotMinutes"),e=60*c.getHours()+c.getMinutes()-Tb,f=Math.floor(e/d),g=ec[f];return g===b&&(g=ec[f]=wb.find("tr:eq("+f+") td div")[0].offsetTop),Math.max(0,Math.round(g-1+Gb*(e%d/d)))}function M(){return{left:Db,right:Bb-Fb}}function N(){return sb}function O(a){var b=m(a.start);return a.allDay?b:k(b,Wb("defaultEventMinutes"))}function Q(a,b){return b?m(a):k(m(a),Wb("slotMinutes"))}function R(a,b,c){c?Wb("allDaySlot")&&y(a,i(m(b),1),!0):S(a,b)}function S(b,c){var d=Wb("selectHelper");if(Kb.build(),d){var e=p(b,_.visStart)*Rb+Sb;if(e>=0&&Ib>e){var f=Kb.rect(0,e,0,e,ub),g=L(b,b),h=L(b,c);if(h>g){if(f.top=g,f.height=h-g,f.left+=2,f.width-=5,a.isFunction(d)){var i=d(b,c);i&&(f.position="absolute",f.zIndex=8,Ab=a(i).css(f).appendTo(ub))}else f.isStart=!0,f.isEnd=!0,Ab=a(cc({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},f)),Ab.css("opacity",Wb("dragOpacity"));Ab&&(w(Ab),ub.append(Ab),D(Ab,f.width,!0),E(Ab,f.height,!0))}}}else A(b,c)}function T(){$b(),Ab&&(Ab.remove(),Ab=null)}function U(b){if(1==b.which&&Wb("selectable")){ac(b);var c;Lb.start(function(a,b){if(T(),a&&a.col==b.col&&!I(a)){var d=G(b),e=G(a);c=[d,k(m(d),Wb("slotMinutes")),e,k(m(e),Wb("slotMinutes"))].sort(P),S(c[0],c[3])}else c=null},b),a(document).one("mouseup",function(a){Lb.stop(),c&&(+c[0]==+c[1]&&Y(c[0],!1,a),_b(c[0],c[3],!1,a))})}}function Y(a,b,c){Xb("dayClick",eb[K(a.getDay())],a,b,c)}function Z(a,b){Lb.start(function(a){if($b(),a)if(I(a))z(a.row,a.col,a.row,a.col);else{var b=G(a),c=k(m(b),Wb("defaultEventMinutes"));A(b,c)}},b)}function $(a,b,c){var d=Lb.stop();$b(),d&&Xb("drop",a,G(d),I(d),b,c)}var _=this;_.renderAgenda=f,_.setWidth=q,_.setHeight=o,_.beforeHide=s,_.afterShow=u,_.defaultEventEnd=O,_.timePosition=L,_.dayOfWeekCol=K,_.dateCell=F,_.cellDate=G,_.cellIsAllDay=I,_.allDayRow=N,_.allDayBounds=M,_.getHoverListener=function(){return Lb},_.colContentLeft=B,_.colContentRight=C,_.getDaySegmentContainer=function(){return pb},_.getSlotSegmentContainer=function(){return vb},_.getMinMinute=function(){return Tb},_.getMaxMinute=function(){return Ub},_.getBodyContent=function(){return ub},_.getRowCnt=function(){return 1},_.getColCnt=function(){return Ib},_.getColWidth=function(){return Eb},_.getSlotHeight=function(){return Gb},_.defaultSelectionEnd=Q,_.renderDayOverlay=y,_.renderSelection=R,_.clearSelection=T,_.reportDayClick=Y,_.dragStart=Z,_.dragStop=$,jb.call(_,c,d,e),mb.call(_),lb.call(_),hb.call(_);var ab,bb,cb,db,eb,fb,gb,ib,kb,pb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb=_.opt,Xb=_.trigger,Yb=_.clearEvents,Zb=_.renderOverlay,$b=_.clearOverlays,_b=_.reportSelection,ac=_.unselect,bc=_.daySelectionMousedown,cc=_.slotSegHtml,dc=d.formatDate,ec={};V(c.addClass("fc-agenda")),Kb=new nb(function(b,c){function d(a){return Math.max(i,Math.min(j,a))}var e,f,g;cb.each(function(b,d){e=a(d),f=e.offset().left,b&&(g[1]=f),g=[f],c[b]=g}),g[1]=f+e.outerWidth(),Wb("allDaySlot")&&(e=sb,f=e.offset().top,b[0]=[f,f+e.outerHeight()]);for(var h=ub.offset().top,i=tb.offset().top,j=i+tb.outerHeight(),k=0;Jb>k;k++)b.push([d(h+Gb*k),d(h+Gb*(k+1))])}),Lb=new ob(Kb),Mb=new qb(function(a){return fb.eq(a)})}function hb(){function c(a,b){y(a);var c,d=a.length,g=[],i=[];for(c=0;d>c;c++)a[c].allDay?g.push(a[c]):i.push(a[c]);s("allDaySlot")&&(Q(e(g),b),G()),h(f(i),b)}function d(){z(),H().empty(),I().empty()}function e(b){var c,d,e,f,g=B(A(b,a.map(b,w),r.visStart,r.visEnd)),h=g.length,i=[];for(c=0;h>c;c++)for(d=g[c],e=0;e<d.length;e++)f=d[e],f.row=0,f.level=c,i.push(f);return i}function f(b){var c,d,e,f,h,j,l=S(),n=M(),o=L(),p=k(m(r.visStart),n),q=a.map(b,g),s=[];for(c=0;l>c;c++){for(d=B(A(b,q,p,k(m(p),o-n))),ib(d),e=0;e<d.length;e++)for(f=d[e],h=0;h<f.length;h++)j=f[h],j.col=c,j.level=e,s.push(j);i(p,1,!0)}return s}function g(a){return a.end?m(a.end):k(m(a.start),s("defaultEventMinutes"))}function h(c,d){var e,f,g,h,i,k,l,m,o,p,q,r,u,v,w,x,y,z,A,B,D,E,G=c.length,H="",K={},L={},M=I(),Q=S();for((B=s("isRTL"))?(D=-1,E=Q-1):(D=1,E=0),e=0;G>e;e++)f=c[e],g=f.event,h=N(f.start,f.start),i=N(f.start,f.end),k=f.col,l=f.level,m=f.forward||0,o=O(k*D+E),p=P(k*D+E)-o,p=Math.min(p-6,.95*p),q=l?p/(l+m+1):m?2*(p/(m+1)-6):p,r=o+p/(l+m+1)*l*D+(B?p-q:0),f.top=h,f.left=r,f.outerWidth=q,f.outerHeight=i-h,H+=j(g,f);for(M[0].innerHTML=H,u=M.children(),e=0;G>e;e++)f=c[e],g=f.event,v=a(u[e]),w=t("eventRender",g,g,v),w===!1?v.remove():(w&&w!==!0&&(v.remove(),v=a(w).css({position:"absolute",top:f.top,left:f.left}).appendTo(M)),f.element=v,g._id===d?n(g,v,f):v[0]._fci=e,Z(g,v));for(C(M,c,n),e=0;G>e;e++)f=c[e],(v=f.element)&&(y=K[x=f.key=U(v[0])],f.vsides=y===b?K[x]=J(v,!0):y,y=L[x],f.hsides=y===b?L[x]=F(v,!0):y,z=v.find("div.fc-event-content"),z.length&&(f.contentTop=z[0].offsetTop));for(e=0;G>e;e++)f=c[e],(v=f.element)&&(v[0].style.width=Math.max(0,f.outerWidth-f.hsides)+"px",A=Math.max(0,f.outerHeight-f.vsides),v[0].style.height=A+"px",g=f.event,f.contentTop!==b&&A-f.contentTop<10&&(v.find("div.fc-event-time").text(fb(g.start,s("timeFormat"))+" - "+g.title),v.find("div.fc-event-title").remove()),t("eventAfterRender",g,g,v))}function j(a,b){var c="<",d=a.url,e=Y(a,s),f=e?" style='"+e+"'":"",g=["fc-event","fc-event-skin","fc-event-vert"];return u(a)&&g.push("fc-event-draggable"),b.isStart&&g.push("fc-corner-top"),b.isEnd&&g.push("fc-corner-bottom"),g=g.concat(a.className),a.source&&(g=g.concat(a.source.className||[])),c+=d?"a href='"+T(a.url)+"'":"div",c+=" class='"+g.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+b.top+"px;left:"+b.left+"px;"+e+"'"+">"+"<div class='fc-event-inner fc-event-skin'"+f+">"+"<div class='fc-event-head fc-event-skin'"+f+">"+"<div class='fc-event-time'>"+T(gb(a.start,a.end,s("timeFormat")))+"</div>"+"</div>"+"<div class='fc-event-content'>"+"<div class='fc-event-title'>"+T(a.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>"+"</div>",b.isEnd&&v(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),c+="</"+(d?"a":"div")+">"}function l(a,b,c){u(a)&&o(a,b,c.isStart),c.isEnd&&v(a)&&R(a,b,c),D(a,b)}function n(a,b,c){var d=b.find("div.fc-event-time");u(a)&&p(a,b,d),c.isEnd&&v(a)&&q(a,b,d),D(a,b)}function o(a,b,c){function d(){h||(b.width(e).height("").draggable("option","grid",null),h=!0)}var e,f,g,h=!0,j=s("isRTL")?-1:1,k=K(),l=V(),n=W(),o=M();b.draggable({zIndex:9,opacity:s("dragOpacity","month"),revertDuration:s("dragRevertDuration"),start:function(o,p){t("eventDragStart",b,a,o,p),_(a,b),e=b.width(),k.start(function(e,k,o,p){db(),e?(f=!1,g=p*j,e.row?c?h&&(b.width(l-10),E(b,n*Math.round((a.end?(a.end-a.start)/Ab:s("defaultEventMinutes"))/s("slotMinutes"))),b.draggable("option","grid",[l,1]),h=!1):f=!0:(cb(i(m(a.start),g),i(w(a),g)),d()),f=f||h&&!g):(d(),f=!0),b.draggable("option","revert",f)},o,"drag")},stop:function(c,e){if(k.stop(),db(),t("eventDragStop",b,a,c,e),f)d(),b.css("filter",""),$(a,b);else{var i=0;h||(i=Math.round((b.offset().top-X().offset().top)/n)*s("slotMinutes")+o-(60*a.start.getHours()+a.start.getMinutes())),ab(this,a,g,i,h,c,e)}}})}function p(a,b,c){function d(b){var d,e=k(m(a.start),b);a.end&&(d=k(m(a.end),b)),c.text(gb(e,d,s("timeFormat")))}function e(){l&&(c.css("display",""),b.draggable("option","grid",[q,r]),l=!1)}var f,g,h,j,l=!1,n=s("isRTL")?-1:1,o=K(),p=S(),q=V(),r=W();b.draggable({zIndex:9,scroll:!1,grid:[q,r],axis:1==p?"y":!1,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(d,k){t("eventDragStart",b,a,d,k),_(a,b),f=b.position(),h=j=0,o.start(function(d,f,h,j){b.draggable("option","revert",!d),db(),d&&(g=j*n,s("allDaySlot")&&!d.row?(l||(l=!0,c.hide(),b.draggable("option","grid",null)),cb(i(m(a.start),g),i(w(a),g))):e())},d,"drag")},drag:function(a,b){h=Math.round((b.position.top-f.top)/r)*s("slotMinutes"),h!=j&&(l||d(h),j=h)},stop:function(c,i){var j=o.stop();db(),t("eventDragStop",b,a,c,i),j&&(g||h||l)?ab(this,a,g,l?0:h,l,c,i):(e(),b.css("filter",""),b.css(f),d(0),$(a,b))}})}function q(a,b,c){var d,e,f=W();b.resizable({handles:{s:"div.ui-resizable-s"},grid:f,start:function(c,f){d=e=0,_(a,b),b.css("z-index",9),t("eventResizeStart",this,a,c,f)},resize:function(g,h){d=Math.round((Math.max(f,b.height())-h.originalSize.height)/f),d!=e&&(c.text(gb(a.start,d||a.end?k(x(a),s("slotMinutes")*d):null,s("timeFormat"))),e=d)},stop:function(c,e){t("eventResizeStop",this,a,c,e),d?bb(this,a,0,s("slotMinutes")*d,c,e):(b.css("z-index",8),$(a,b))}})}var r=this;r.renderEvents=c,r.compileDaySegs=e,r.clearEvents=d,r.slotSegHtml=j,r.bindDaySeg=l,kb.call(r);var s=r.opt,t=r.trigger,u=r.isEventDraggable,v=r.isEventResizable,x=r.eventEnd,y=r.reportEvents,z=r.reportEventClear,D=r.eventElementHandlers,G=r.setHeight,H=r.getDaySegmentContainer,I=r.getSlotSegmentContainer,K=r.getHoverListener,L=r.getMaxMinute,M=r.getMinMinute,N=r.timePosition,O=r.colContentLeft,P=r.colContentRight,Q=r.renderDaySegs,R=r.resizableDayEvent,S=r.getColCnt,V=r.getColWidth,W=r.getSlotHeight,X=r.getBodyContent,Z=r.reportEventElement,$=r.showEvents,_=r.hideEvents,ab=r.eventDrop,bb=r.eventResize,cb=r.renderDayOverlay,db=r.clearOverlays,eb=r.calendar,fb=eb.formatDate,gb=eb.formatDates}function ib(a){var b,c,d,e,f,g;for(b=a.length-1;b>0;b--)for(e=a[b],c=0;c<e.length;c++)for(f=e[c],d=0;d<a[b-1].length;d++)g=a[b-1][d],z(f,g)&&(g.forward=Math.max(g.forward||0,(f.forward||0)+1))}function jb(a,c,d){function e(a,b){var c=F[a];return"object"==typeof c?S(c,b||d):c}function f(a,b){return c.trigger.apply(c,[a,b||y].concat(Array.prototype.slice.call(arguments,2),[y]))}function g(a){return j(a)&&!e("disableDragging")}function h(a){return j(a)&&!e("disableResizing")}function j(a){return $(a.editable,(a.source||{}).editable,e("editable"))}function l(a){C={};var b,c,d=a.length;for(b=0;d>b;b++)c=a[b],C[c._id]?C[c._id].push(c):C[c._id]=[c]}function n(a){return a.end?m(a.end):z(a)}function o(a,b){D.push(b),E[a._id]?E[a._id].push(b):E[a._id]=[b]}function p(){D=[],E={}}function q(a,b){b.click(function(c){return b.hasClass("ui-draggable-dragging")||b.hasClass("ui-resizable-resizing")?void 0:f("eventClick",this,a,c)}).hover(function(b){f("eventMouseover",this,a,b)},function(b){f("eventMouseout",this,a,b)})}function r(a,b){t(a,b,"show")}function s(a,b){t(a,b,"hide")}function t(a,b,c){var d,e=E[a._id],f=e.length;for(d=0;f>d;d++)b&&e[d][0]==b[0]||e[d][c]()}function u(a,b,c,d,e,g,h){var i=b.allDay,j=b._id;w(C[j],c,d,e),f("eventDrop",a,b,c,d,e,function(){w(C[j],-c,-d,i),B(j)},g,h),B(j)}function v(a,b,c,d,e,g){var h=b._id;x(C[h],c,d),f("eventResize",a,b,c,d,function(){x(C[h],-c,-d),B(h)},e,g),B(h)}function w(a,c,d,e){d=d||0;for(var f,g=a.length,h=0;g>h;h++)f=a[h],e!==b&&(f.allDay=e),k(i(f.start,c,!0),d),f.end&&(f.end=k(i(f.end,c,!0),d)),A(f,F)}function x(a,b,c){c=c||0;for(var d,e=a.length,f=0;e>f;f++)d=a[f],d.end=k(i(n(d),b,!0),c),A(d,F)}var y=this;y.element=a,y.calendar=c,y.name=d,y.opt=e,y.trigger=f,y.isEventDraggable=g,y.isEventResizable=h,y.reportEvents=l,y.eventEnd=n,y.reportEventElement=o,y.reportEventClear=p,y.eventElementHandlers=q,y.showEvents=r,y.hideEvents=s,y.eventDrop=u,y.eventResize=v;var z=y.defaultEventEnd,A=c.normalizeEvent,B=c.reportEventChange,C={},D=[],E={},F=c.options}function kb(){function c(a,b){var c,d,i,m,q,r,s,t,u=N(),v=B(),w=D(),x=0,y=a.length;for(u[0].innerHTML=e(a),f(a,u.children()),g(a),h(a,u,b),j(a),k(a),l(a),c=n(),d=0;v>d;d++){for(i=0,m=[],q=0;w>q;q++)m[q]=0;for(;y>x&&(r=a[x]).row==d;){for(s=Q(m.slice(r.startCol,r.endCol)),r.top=s,s+=r.outerHeight,t=r.startCol;t<r.endCol;t++)m[t]=s;x++}c[d].height(Q(m))}p(a,o(c))}function d(b,c,d){var g,h,i,m=a("<div/>"),q=N(),r=b.length;for(m[0].innerHTML=e(b),g=m.children(),q.append(g),f(b,g),j(b),k(b),l(b),p(b,o(n())),g=[],h=0;r>h;h++)i=b[h].element,i&&(b[h].row===c&&i.css("top",d),g.push(i[0]));return a(g)}function e(a){var b,c,d,e,f,g,h,i,j,k,l=s("isRTL"),m=a.length,n=G(),o=n.left,p=n.right,q="";for(b=0;m>b;b++)c=a[b],d=c.event,f=["fc-event","fc-event-skin","fc-event-hori"],u(d)&&f.push("fc-event-draggable"),l?(c.isStart&&f.push("fc-corner-right"),c.isEnd&&f.push("fc-corner-left"),g=J(c.end.getDay()-1),h=J(c.start.getDay()),i=c.isEnd?H(g):o,j=c.isStart?I(h):p):(c.isStart&&f.push("fc-corner-left"),c.isEnd&&f.push("fc-corner-right"),g=J(c.start.getDay()),h=J(c.end.getDay()-1),i=c.isStart?H(g):o,j=c.isEnd?I(h):p),f=f.concat(d.className),d.source&&(f=f.concat(d.source.className||[])),e=d.url,k=Y(d,s),q+=e?"<a href='"+T(e)+"'":"<div",q+=" class='"+f.join(" ")+"'"+" style='position:absolute;z-index:8;left:"+i+"px;"+k+"'"+">"+"<div"+" class='fc-event-inner fc-event-skin'"+(k?" style='"+k+"'":"")+">",!d.allDay&&c.isStart&&(q+="<span class='fc-event-time'>"+T(P(d.start,d.end,s("timeFormat")))+"</span>"),q+="<span class='fc-event-title'>"+T(d.title)+"</span>"+"</div>",c.isEnd&&v(d)&&(q+="<div class='ui-resizable-handle ui-resizable-"+(l?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),q+="</"+(e?"a":"div")+">",c.left=i,c.outerWidth=j-i,c.startCol=g,c.endCol=h+1;return q}function f(b,c){var d,e,f,g,h,i=b.length;for(d=0;i>d;d++)e=b[d],f=e.event,g=a(c[d]),h=t("eventRender",f,f,g),h===!1?g.remove():(h&&h!==!0&&(h=a(h).css({position:"absolute",left:e.left}),g.replaceWith(h),g=h),e.element=g)}function g(a){var b,c,d,e=a.length;for(b=0;e>b;b++)c=a[b],d=c.element,d&&x(c.event,d)}function h(a,b,c){var d,e,f,g,h=a.length;for(d=0;h>d;d++)e=a[d],f=e.element,f&&(g=e.event,g._id===c?O(g,f,e):f[0]._fci=d);C(b,a,O)}function j(a){var c,d,e,f,g,h=a.length,i={};for(c=0;h>c;c++)d=a[c],e=d.element,e&&(f=d.key=U(e[0]),g=i[f],g===b&&(g=i[f]=F(e,!0)),d.hsides=g)}function k(a){var b,c,d,e=a.length;for(b=0;e>b;b++)c=a[b],d=c.element,d&&(d[0].style.width=Math.max(0,c.outerWidth-c.hsides)+"px")}function l(a){var c,d,e,f,g,h=a.length,i={};for(c=0;h>c;c++)d=a[c],e=d.element,e&&(f=d.key,g=i[f],g===b&&(g=i[f]=L(e)),d.outerHeight=e[0].offsetHeight+g)}function n(){var a,b=B(),c=[];for(a=0;b>a;a++)c[a]=E(a).find("td:first div.fc-day-content > div");return c}function o(a){var b,c=a.length,d=[];for(b=0;c>b;b++)d[b]=a[b][0].offsetTop;return d}function p(a,b){var c,d,e,f,g=a.length;for(c=0;g>c;c++)d=a[c],e=d.element,e&&(e[0].style.top=b[d.row]+(d.top||0)+"px",f=d.event,t("eventAfterRender",f,f,e))}function q(b,c,e){var f=s("isRTL"),g=f?"w":"e",h=c.find("div.ui-resizable-"+g),j=!1;V(c),c.mousedown(function(a){a.preventDefault()}).click(function(a){j&&(a.preventDefault(),a.stopImmediatePropagation())}),h.mousedown(function(h){function k(c){t("eventResizeStop",this,b,c),a("body").css("cursor",""),o.stop(),S(),l&&A(this,b,l,0,c),setTimeout(function(){j=!1},0)}if(1==h.which){j=!0;var l,n,o=r.getHoverListener(),p=B(),q=D(),s=f?-1:1,u=f?q-1:0,v=c.css("top"),x=a.extend({},b),C=K(b.start);W(),a("body").css("cursor",g+"-resize").one("mouseup",k),t("eventResizeStart",this,b,h),o.start(function(a,c){if(a){var h=Math.max(C.row,a.row),j=a.col;1==p&&(h=0),h==C.row&&(j=f?Math.min(C.col,j):Math.max(C.col,j)),l=7*h+j*s+u-(7*c.row+c.col*s+u);var k=i(w(b),l,!0);if(l){x.end=k;var o=n;n=d(M([x]),e.row,v),n.find("*").css("cursor",g+"-resize"),o&&o.remove(),z(b)}else n&&(y(b),n.remove(),n=null);S(),R(b.start,i(m(k),1))}},h)}})}var r=this;r.renderDaySegs=c,r.resizableDayEvent=q;var s=r.opt,t=r.trigger,u=r.isEventDraggable,v=r.isEventResizable,w=r.eventEnd,x=r.reportEventElement,y=r.showEvents,z=r.hideEvents,A=r.eventResize,B=r.getRowCnt,D=r.getColCnt;r.getColWidth;var E=r.allDayRow,G=r.allDayBounds,H=r.colContentLeft,I=r.colContentRight,J=r.dayOfWeekCol,K=r.dateCell,M=r.compileDaySegs,N=r.getDaySegmentContainer,O=r.bindDaySeg,P=r.calendar.formatDates,R=r.renderDayOverlay,S=r.clearOverlays,W=r.clearSelection}function lb(){function b(a,b,e){c(),b||(b=i(a,e)),j(a,b,e),d(a,b,e)}function c(a){l&&(l=!1,k(),h("unselect",null,a))}function d(a,b,c,d){l=!0,h("select",null,a,b,c,d)}function e(b){var e=f.cellDate,h=f.cellIsAllDay,i=f.getHoverListener(),l=f.reportDayClick;if(1==b.which&&g("selectable")){c(b);var m;i.start(function(a,b){k(),a&&h(a)?(m=[e(b),e(a)].sort(P),j(m[0],m[1],!0)):m=null},b),a(document).one("mouseup",function(a){i.stop(),m&&(+m[0]==+m[1]&&l(m[0],!0,a),d(m[0],m[1],!0,a))})}}var f=this;f.select=b,f.unselect=c,f.reportSelection=d,f.daySelectionMousedown=e;
var g=f.opt,h=f.trigger,i=f.defaultSelectionEnd,j=f.renderSelection,k=f.clearSelection,l=!1;g("selectable")&&g("unselectAuto")&&a(document).mousedown(function(b){var d=g("unselectCancel");d&&a(b.target).parents(d).length||c(b)})}function mb(){function b(b,c){var d=f.shift();return d||(d=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),d[0].parentNode!=c[0]&&d.appendTo(c),e.push(d.css(b).show()),d}function c(){for(var a;a=e.shift();)f.push(a.hide().unbind())}var d=this;d.renderOverlay=b,d.clearOverlays=c;var e=[],f=[]}function nb(a){var b,c,d=this;d.build=function(){b=[],c=[],a(b,c)},d.cell=function(a,d){var e,f=b.length,g=c.length,h=-1,i=-1;for(e=0;f>e;e++)if(d>=b[e][0]&&d<b[e][1]){h=e;break}for(e=0;g>e;e++)if(a>=c[e][0]&&a<c[e][1]){i=e;break}return h>=0&&i>=0?{row:h,col:i}:null},d.rect=function(a,d,e,f,g){var h=g.offset();return{top:b[a][0]-h.top,left:c[d][0]-h.left,width:c[f][1]-c[d][0],height:b[e][1]-b[a][0]}}}function ob(b){function c(a){pb(a);var c=b.cell(a.pageX,a.pageY);(!c!=!g||c&&(c.row!=g.row||c.col!=g.col))&&(c?(f||(f=c),e(c,f,c.row-f.row,c.col-f.col)):e(c,f),g=c)}var d,e,f,g,h=this;h.start=function(h,i,j){e=h,f=g=null,b.build(),c(i),d=j||"mousemove",a(document).bind(d,c)},h.stop=function(){return a(document).unbind(d,c),g}}function pb(a){a.pageX===b&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function qb(a){function c(b){return e[b]=e[b]||a(b)}var d=this,e={},f={},g={};d.left=function(a){return f[a]=f[a]===b?c(a).position().left:f[a]},d.right=function(a){return g[a]=g[a]===b?d.left(a)+c(a).width():g[a]},d.clear=function(){e={},f={},g={}}}var rb={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},sb={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},tb=a.fullCalendar={version:"1.5.4"},ub=tb.views={};a.fn.fullCalendar=function(c){if("string"==typeof c){var e,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a.data(this,"fullCalendar");if(d&&a.isFunction(d[c])){var g=d[c].apply(d,f);e===b&&(e=g),"destroy"==c&&a.removeData(this,"fullCalendar")}}),e!==b?e:this}var g=c.eventSources||[];return delete c.eventSources,c.events&&(g.push(c.events),delete c.events),c=a.extend(!0,{},rb,c.isRTL||c.isRTL===b&&rb.isRTL?sb:{},c),this.each(function(b,e){var f=a(e),h=new d(f,c,g);f.data("fullCalendar",h),h.render()}),this},tb.sourceNormalizers=[],tb.sourceFetchers=[];var vb={dataType:"json",cache:!1},wb=1;tb.addDays=i,tb.cloneDate=m,tb.parseDate=r,tb.parseISO8601=s,tb.parseTime=t,tb.formatDate=u,tb.formatDates=v;var xb=["sun","mon","tue","wed","thu","fri","sat"],yb=864e5,zb=36e5,Ab=6e4,Bb={s:function(a){return a.getSeconds()},ss:function(a){return R(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return R(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return R(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return R(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return R(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return R(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return u(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){var b=a.getDate();return b>10&&20>b?"th":["st","nd","rd"][b%10-1]||"th"}};tb.applyAll=Z,ub.month=_,ub.basicWeek=ab,ub.basicDay=bb,c({weekMode:"fixed"}),ub.agendaWeek=eb,ub.agendaDay=fb,c({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery),jQuery&&function(){$.extend($.fn,{contextMenu:function(a,b,c){return void 0==a.menu?!1:(void 0==a.inSpeed&&(a.inSpeed=100),void 0==a.outSpeed&&(a.outSpeed=75),0==a.inSpeed&&(a.inSpeed=-1),0==a.outSpeed&&(a.outSpeed=-1),$(this).each(function(){var d=$(this),e=$(d).offset();$("#"+a.menu).addClass("contextMenu"),$(this).mousedown(function(f){var g=f;2==g.button&&g.stopPropagation(),$(this).mouseup(function(f,h){var i=$(this);if($(this).unbind("mouseup"),f=void 0==h||null==h?g:h,2==f.button){$(".contextMenu").hide();var j=$("#"+a.menu);if($(d).hasClass("disabled"))return!1;var k,l,m={};self.innerHeight?(m.pageYOffset=self.pageYOffset,m.pageXOffset=self.pageXOffset,m.innerHeight=self.innerHeight,m.innerWidth=self.innerWidth):document.documentElement&&document.documentElement.clientHeight?(m.pageYOffset=document.documentElement.scrollTop,m.pageXOffset=document.documentElement.scrollLeft,m.innerHeight=document.documentElement.clientHeight,m.innerWidth=document.documentElement.clientWidth):document.body&&(m.pageYOffset=document.body.scrollTop,m.pageXOffset=document.body.scrollLeft,m.innerHeight=document.body.clientHeight,m.innerWidth=document.body.clientWidth),k=f.pageX?f.pageX:f.clientX+m.scrollLeft,l=f.pageY?f.pageY:f.clientY+m.scrollTop,c&&(c($(this)),$(document).unbind("click.contextmenu"),$(j).width()+k>$("body").width()?$(j).css({top:l,left:k-$(j).width()}).slideDown(a.inSpeed):$(j).css({top:l,left:k}).slideDown(a.inSpeed)),$(j).find("A").mouseover(function(){$(j).find("LI.hover").removeClass("hover"),$(this).parent().addClass("hover")}).mouseout(function(){$(j).find("LI.hover").removeClass("hover")}),$("#"+a.menu).find("A").unbind("click"),$("#"+a.menu).find("LI:not(.disabled) A").click(function(){return $(document).unbind("click.contextmenu"),$(".contextMenu").hide(),b&&b($(this).attr("href").substr(1),$(i),{x:k-e.left,y:l-e.top,docX:k,docY:l}),!1}),setTimeout(function(){$(document).bind("click.contextmenu",function(){return $(document).unbind("click.contextmenu"),$(j).fadeOut(a.outSpeed),!0})},0)}})}),$.browser.mozilla?$("#"+a.menu).each(function(){$(this).css({MozUserSelect:"none"})}):$.browser.msie?$("#"+a.menu).each(function(){$(this).bind("selectstart.disableTextSelect",function(){return!1})}):$("#"+a.menu).each(function(){$(this).bind("mousedown.disableTextSelect",function(){return!1})}),$(d).add($("UL.contextMenu")).bind("contextmenu",function(){return!1})}),$(this))},disableContextMenuItems:function(a){return void 0==a?($(this).find("LI").addClass("disabled"),$(this)):($(this).each(function(){if(void 0!=a)for(var b=a.split(","),c=0;c<b.length;c++)$(this).find('A[href="'+b[c]+'"]').parent().addClass("disabled")}),$(this))},enableContextMenuItems:function(a){return void 0==a?($(this).find("LI.disabled").removeClass("disabled"),$(this)):($(this).each(function(){if(void 0!=a)for(var b=a.split(","),c=0;c<b.length;c++)$(this).find('A[href="'+b[c]+'"]').parent().removeClass("disabled")}),$(this))},disableContextMenu:function(){return $(this).each(function(){$(this).addClass("disabled")}),$(this)},enableContextMenu:function(){return $(this).each(function(){$(this).removeClass("disabled")}),$(this)},destroyContextMenu:function(){return $(this).each(function(){$(this).unbind("mousedown").unbind("mouseup")}),$(this)}})}(jQuery);var _canLog=!0,getDynaTreePersistData=null,DTNodeStatus_Error=-1,DTNodeStatus_Loading=1,DTNodeStatus_Ok=0;!function($){function getDtNodeFromElement(a){return $.ui.dynatree.getNode(a)}function noop(){}function _initDragAndDrop(a){var b=a.options.dnd||null;b&&(b.onDragStart||b.onDrop)&&_registerDnd(),b&&b.onDragStart&&a.$tree.draggable({addClasses:!1,appendTo:"body",containment:!1,delay:0,distance:4,revert:!1,scroll:!0,scrollSpeed:7,scrollSensitivity:10,connectToDynatree:!0,helper:function(a){var b=$.ui.dynatree.getNode(a.target);return b?b.tree._onDragEvent("helper",b,null,a,null,null):"<div></div>"},start:function(){},_last:null}),b&&b.onDrop&&a.$tree.droppable({addClasses:!1,tolerance:"intersect",greedy:!1,_last:null})}var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}},DynaTreeNode=Class.create();DynaTreeNode.prototype={initialize:function(a,b,c){this.parent=a,this.tree=b,"string"==typeof c&&(c={title:c}),void 0===c.key&&(c.key="_"+b._nodeCount++),this.data=$.extend({},$.ui.dynatree.nodedatadefaults,c),this.li=null,this.span=null,this.ul=null,this.childList=null,this._isLoading=!1,this.hasSubSel=!1,this.bExpanded=!1,this.bSelected=!1},toString:function(){return"DynaTreeNode<"+this.data.key+">: '"+this.data.title+"'"},toDict:function(a,b){var c=$.extend({},this.data);if(c.activate=this.tree.activeNode===this,c.focus=this.tree.focusNode===this,c.expand=this.bExpanded,c.select=this.bSelected,b&&b(c),a&&this.childList){c.children=[];for(var d=0,e=this.childList.length;e>d;d++)c.children.push(this.childList[d].toDict(!0,b))}else delete c.children;return c},fromDict:function(a){var b=a.children;return void 0===b?(this.data=$.extend(this.data,a),this.render(),void 0):(a=$.extend({},a),a.children=void 0,this.data=$.extend(this.data,a),this.removeChildren(),this.addChild(b),void 0)},_getInnerHtml:function(){var a=this.tree,b=a.options,c=a.cache,d=this.getLevel(),e=this.data,f="";d<b.minExpandLevel?d>1&&(f+=c.tagConnector):f+=this.hasChildren()!==!1?c.tagExpander:c.tagConnector,b.checkbox&&e.hideCheckbox!==!0&&!e.isStatusNode&&(f+=c.tagCheckbox),e.icon?f+="<img src='"+b.imagePath+e.icon+"' alt='' />":e.icon===!1?noop():f+=c.tagNodeIcon;var g="";if(b.onCustomRender&&(g=b.onCustomRender.call(a,this)||""),!g){var h=e.tooltip?' title="'+e.tooltip.replace(/\"/g,"&quot;")+'"':"",i=e.href||"#";g=b.noLink||e.noLink?'<span style="display:inline-block;" class="'+b.classNames.title+'"'+h+">"+e.title+"</span>":'<a href="'+i+'" class="'+b.classNames.title+'"'+h+">"+e.title+"</a>"}return f+=g},_fixOrder:function(){var a=this.childList;if(a&&this.ul)for(var b=this.ul.firstChild,c=0,d=a.length-1;d>c;c++){var e=a[c],f=b.dtnode;e!==f?(this.tree.logDebug("_fixOrder: mismatch at index "+c+": "+e+" != "+f),this.ul.insertBefore(e.li,f.li)):b=b.nextSibling}},render:function(a,b){var c=this.tree,d=this.parent,e=this.data,f=c.options,g=f.classNames,h=this.isLastSibling(),i=!1;if(d||this.ul){if(d){this.li||(i=!0,this.li=document.createElement("li"),this.li.dtnode=this,e.key&&f.generateIds&&(this.li.id=f.idPrefix+e.key),this.span=document.createElement("span"),this.span.className=g.title,this.li.appendChild(this.span),d.ul||(d.ul=document.createElement("ul"),d.ul.style.display="none",d.li.appendChild(d.ul)),d.ul.appendChild(this.li)),this.span.innerHTML=this._getInnerHtml();var j=[];j.push(g.node),e.isFolder&&j.push(g.folder),this.bExpanded&&j.push(g.expanded),this.hasChildren()!==!1&&j.push(g.hasChildren),e.isLazy&&null===this.childList&&j.push(g.lazy),h&&j.push(g.lastsib),this.bSelected&&j.push(g.selected),this.hasSubSel&&j.push(g.partsel),c.activeNode===this&&j.push(g.active),e.addClass&&j.push(e.addClass),j.push(g.combinedExpanderPrefix+(this.bExpanded?"e":"c")+(e.isLazy&&null===this.childList?"d":"")+(h?"l":"")),j.push(g.combinedIconPrefix+(this.bExpanded?"e":"c")+(e.isFolder?"f":"")),this.span.className=j.join(" "),this.li.className=h?g.lastsib:"",i&&f.onCreate&&f.onCreate.call(c,this,this.span),f.onRender&&f.onRender.call(c,this,this.span)}}else this.li=this.span=null,this.ul=document.createElement("ul"),this.ul.className=f.minExpandLevel>1?g.container+" "+g.noConnector:g.container;if((this.bExpanded||b===!0)&&this.childList){for(var k=0,l=this.childList.length;l>k;k++)this.childList[k].render(!1,b);this._fixOrder()}if(this.ul){var m="none"===this.ul.style.display,n=!!this.bExpanded;if(a&&f.fx&&m===n){var o=f.fx.duration||200;$(this.ul).animate(f.fx,o)}else this.ul.style.display=this.bExpanded||!d?"":"none"}},getKeyPath:function(a){var b=[];return this.visitParents(function(a){a.parent&&b.unshift(a.data.key)},!a),"/"+b.join(this.tree.options.keyPathSeparator)},getParent:function(){return this.parent},getChildren:function(){return void 0===this.hasChildren()?void 0:this.childList},hasChildren:function(){return this.data.isLazy?null===this.childList||void 0===this.childList?void 0:0===this.childList.length?!1:1===this.childList.length&&this.childList[0].isStatusNode()?void 0:!0:!!this.childList},isFirstSibling:function(){var a=this.parent;return!a||a.childList[0]===this},isLastSibling:function(){var a=this.parent;return!a||a.childList[a.childList.length-1]===this},isLoading:function(){return!!this._isLoading},getPrevSibling:function(){if(!this.parent)return null;for(var a=this.parent.childList,b=1,c=a.length;c>b;b++)if(a[b]===this)return a[b-1];return null},getNextSibling:function(){if(!this.parent)return null;for(var a=this.parent.childList,b=0,c=a.length-1;c>b;b++)if(a[b]===this)return a[b+1];return null},isStatusNode:function(){return this.data.isStatusNode===!0},isChildOf:function(a){return this.parent&&this.parent===a},isDescendantOf:function(a){if(!a)return!1;for(var b=this.parent;b;){if(b===a)return!0;b=b.parent}return!1},countChildren:function(){var a=this.childList;if(!a)return 0;for(var b=a.length,c=0,d=b;d>c;c++){var e=a[c];b+=e.countChildren()}return b},sortChildren:function(a,b){var c=this.childList;if(c){if(a=a||function(a,b){var c=a.data.title.toLowerCase(),d=b.data.title.toLowerCase();return c===d?0:c>d?1:-1},c.sort(a),b)for(var d=0,e=c.length;e>d;d++)c[d].childList&&c[d].sortChildren(a,"$norender$");"$norender$"!==b&&this.render()}},_setStatusNode:function(a){var b=this.childList?this.childList[0]:null;if(a)b?(a.isStatusNode=!0,a.key="_statusNode",b.data=a,b.render()):(a.isStatusNode=!0,a.key="_statusNode",b=this.addChild(a));else if(b&&b.isStatusNode()){try{this.ul&&(this.ul.removeChild(b.li),b.li=null)}catch(c){}1===this.childList.length?this.childList=[]:this.childList.shift()}},setLazyNodeStatus:function(a,b){var c=b&&b.tooltip?b.tooltip:null,d=b&&b.info?" ("+b.info+")":"";switch(a){case DTNodeStatus_Ok:this._setStatusNode(null),$(this.span).removeClass(this.tree.options.classNames.nodeLoading),this._isLoading=!1,this.tree.options.autoFocus&&(this===this.tree.tnRoot&&this.childList&&this.childList.length>0?this.childList[0].focus():this.focus());break;case DTNodeStatus_Loading:this._isLoading=!0,$(this.span).addClass(this.tree.options.classNames.nodeLoading),this.parent||this._setStatusNode({title:this.tree.options.strings.loading+d,tooltip:c,addClass:this.tree.options.classNames.nodeWait});break;case DTNodeStatus_Error:this._isLoading=!1,this._setStatusNode({title:this.tree.options.strings.loadError+d,tooltip:c,addClass:this.tree.options.classNames.nodeError});break;default:throw"Bad LazyNodeStatus: '"+a+"'."}},_parentList:function(a,b){for(var c=[],d=b?this:this.parent;d;)(a||d.parent)&&c.unshift(d),d=d.parent;return c},getLevel:function(){for(var a=0,b=this.parent;b;)a++,b=b.parent;return a},_getTypeForOuterNodeEvent:function(a){var b=this.tree.options.classNames,c=a.target;if(c.className.indexOf(b.node)<0)return null;for(var d=a.pageX-c.offsetLeft,e=a.pageY-c.offsetTop,f=0,g=c.childNodes.length;g>f;f++){var h=c.childNodes[f],i=h.offsetLeft-c.offsetLeft,j=h.offsetTop-c.offsetTop,k=h.clientWidth,l=h.clientHeight;if(d>=i&&i+k>=d&&e>=j&&j+l>=e){if(h.className==b.title)return"title";if(h.className==b.expander)return"expander";if(h.className==b.checkbox)return"checkbox";if(h.className==b.nodeIcon)return"icon"}}return"prefix"},getEventTargetType:function(a){var b=a&&a.target?a.target.className:"",c=this.tree.options.classNames;return b===c.title?"title":b===c.expander?"expander":b===c.checkbox?"checkbox":b===c.nodeIcon?"icon":b===c.empty||b===c.vline||b===c.connector?"prefix":b.indexOf(c.node)>=0?this._getTypeForOuterNodeEvent(a):null},isVisible:function(){for(var a=this._parentList(!0,!1),b=0,c=a.length;c>b;b++)if(!a[b].bExpanded)return!1;return!0},makeVisible:function(){for(var a=this._parentList(!0,!1),b=0,c=a.length;c>b;b++)a[b]._expand(!0)},focus:function(){this.makeVisible();try{$(this.span).find(">a").focus()}catch(a){}},isFocused:function(){return this.tree.tnFocused===this},_activate:function(a,b){this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o",a,b,this);var c=this.tree.options;if(!(this.data.isStatusNode||b&&c.onQueryActivate&&c.onQueryActivate.call(this.tree,a,this)===!1))if(a){if(this.tree.activeNode){if(this.tree.activeNode===this)return;this.tree.activeNode.deactivate()}c.activeVisible&&this.makeVisible(),this.tree.activeNode=this,c.persist&&$.cookie(c.cookieId+"-active",this.data.key,c.cookie),this.tree.persistence.activeKey=this.data.key,$(this.span).addClass(c.classNames.active),b&&c.onActivate&&c.onActivate.call(this.tree,this)}else if(this.tree.activeNode===this){if(c.onQueryActivate&&c.onQueryActivate.call(this.tree,!1,this)===!1)return;$(this.span).removeClass(c.classNames.active),c.persist&&$.cookie(c.cookieId+"-active","",c.cookie),this.tree.persistence.activeKey=null,this.tree.activeNode=null,b&&c.onDeactivate&&c.onDeactivate.call(this.tree,this)}},activate:function(){this._activate(!0,!0)},activateSilently:function(){this._activate(!0,!1)},deactivate:function(){this._activate(!1,!0)},isActive:function(){return this.tree.activeNode===this},_userActivate:function(){var a=!0,b=!1;if(this.data.isFolder)switch(this.tree.options.clickFolderMode){case 2:a=!1,b=!0;break;case 3:a=b=!0}null===this.parent&&(b=!1),b&&(this.toggleExpand(),this.focus()),a&&this.activate()},_setSubSel:function(a){a?(this.hasSubSel=!0,$(this.span).addClass(this.tree.options.classNames.partsel)):(this.hasSubSel=!1,$(this.span).removeClass(this.tree.options.classNames.partsel))},_updatePartSelectionState:function(){var a;if(!this.hasChildren())return a=this.bSelected&&!this.data.unselectable&&!this.data.isStatusNode,this._setSubSel(!1),a;var b,c,d=this.childList,e=!0,f=!0;for(b=0,c=d.length;c>b;b++){var g=d[b],h=g._updatePartSelectionState();h!==!1&&(f=!1),h!==!0&&(e=!1)}return a=e?!0:f?!1:void 0,this._setSubSel(void 0===a),this.bSelected=a===!0,a},_fixSelectionState:function(){var a,b,c;if(this.bSelected)for(this.visit(function(a){a.parent._setSubSel(!0),a.data.unselectable||a._select(!0,!1,!1)}),a=this.parent;a;){a._setSubSel(!0);var d=!0;for(b=0,c=a.childList.length;c>b;b++){var e=a.childList[b];if(!e.bSelected&&!e.data.isStatusNode&&!e.data.unselectable){d=!1;break}}d&&a._select(!0,!1,!1),a=a.parent}else for(this._setSubSel(!1),this.visit(function(a){a._setSubSel(!1),a._select(!1,!1,!1)}),a=this.parent;a;){a._select(!1,!1,!1);var f=!1;for(b=0,c=a.childList.length;c>b;b++)if(a.childList[b].bSelected||a.childList[b].hasSubSel){f=!0;break}a._setSubSel(f),a=a.parent}},_select:function(a,b,c){var d=this.tree.options;this.data.isStatusNode||this.bSelected!==a&&(b&&d.onQuerySelect&&d.onQuerySelect.call(this.tree,a,this)===!1||(1==d.selectMode&&a&&this.tree.visit(function(a){return a.bSelected?(a._select(!1,!1,!1),!1):void 0}),this.bSelected=a,a?(d.persist&&this.tree.persistence.addSelect(this.data.key),$(this.span).addClass(d.classNames.selected),c&&3===d.selectMode&&this._fixSelectionState(),b&&d.onSelect&&d.onSelect.call(this.tree,!0,this)):(d.persist&&this.tree.persistence.clearSelect(this.data.key),$(this.span).removeClass(d.classNames.selected),c&&3===d.selectMode&&this._fixSelectionState(),b&&d.onSelect&&d.onSelect.call(this.tree,!1,this))))},select:function(a){return this.data.unselectable?this.bSelected:this._select(a!==!1,!0,!0)},toggleSelect:function(){return this.select(!this.bSelected)},isSelected:function(){return this.bSelected},isLazy:function(){return!!this.data.isLazy},_loadContent:function(){try{var a=this.tree.options;this.tree.logDebug("_loadContent: start - %o",this),this.setLazyNodeStatus(DTNodeStatus_Loading),!0===a.onLazyRead.call(this.tree,this)&&(this.setLazyNodeStatus(DTNodeStatus_Ok),this.tree.logDebug("_loadContent: succeeded - %o",this))}catch(b){this.tree.logWarning("_loadContent: failed - %o",b),this.setLazyNodeStatus(DTNodeStatus_Error,{tooltip:""+b})}},_expand:function(a,b){if(this.bExpanded===a)return this.tree.logDebug("dtnode._expand(%o) IGNORED - %o",a,this),void 0;this.tree.logDebug("dtnode._expand(%o) - %o",a,this);var c=this.tree.options;if(!a&&this.getLevel()<c.minExpandLevel)return this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o",a,this),void 0;if(!c.onQueryExpand||c.onQueryExpand.call(this.tree,a,this)!==!1){this.bExpanded=a,c.persist&&(a?this.tree.persistence.addExpand(this.data.key):this.tree.persistence.clearExpand(this.data.key));var d=!(this.data.isLazy&&null===this.childList||this._isLoading||b);if(this.render(d),this.bExpanded&&this.parent&&c.autoCollapse)for(var e=this._parentList(!1,!0),f=0,g=e.length;g>f;f++)e[f].collapseSiblings();return c.activeVisible&&this.tree.activeNode&&!this.tree.activeNode.isVisible()&&this.tree.activeNode.deactivate(),a&&this.data.isLazy&&null===this.childList&&!this._isLoading?(this._loadContent(),void 0):(c.onExpand&&c.onExpand.call(this.tree,a,this),void 0)}},isExpanded:function(){return this.bExpanded},expand:function(a){a=a!==!1,(this.childList||this.data.isLazy||!a)&&(null!==this.parent||a)&&this._expand(a)},scheduleAction:function(a,b){this.tree.timer&&(clearTimeout(this.tree.timer),this.tree.logDebug("clearTimeout(%o)",this.tree.timer));var c=this;switch(a){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){c.tree.logDebug("setTimeout: trigger expand"),c.expand(!0)},b);break;case"activate":this.tree.timer=setTimeout(function(){c.tree.logDebug("setTimeout: trigger activate"),c.activate()},b);break;default:throw"Invalid mode "+a}this.tree.logDebug("setTimeout(%s, %s): %s",a,b,this.tree.timer)},toggleExpand:function(){this.expand(!this.bExpanded)},collapseSiblings:function(){if(null!==this.parent)for(var a=this.parent.childList,b=0,c=a.length;c>b;b++)a[b]!==this&&a[b].bExpanded&&a[b]._expand(!1)},_onClick:function(a){var b=this.getEventTargetType(a);if("expander"===b)this.toggleExpand(),this.focus();else if("checkbox"===b)this.toggleSelect(),this.focus();else{this._userActivate();var c=this.span.getElementsByTagName("a");if(!c[0])return!0;$.browser.msie||c[0].focus()}a.preventDefault()},_onDblClick:function(){},_onKeydown:function(a){var b,c=!0;switch(a.which){case 107:case 187:this.bExpanded||this.toggleExpand();break;case 109:case 189:this.bExpanded&&this.toggleExpand();break;case 32:this._userActivate();break;case 8:this.parent&&this.parent.focus();break;case 37:this.bExpanded?(this.toggleExpand(),this.focus()):this.parent&&this.parent.parent&&this.parent.focus();break;case 39:this.bExpanded||!this.childList&&!this.data.isLazy?this.childList&&this.childList[0].focus():(this.toggleExpand(),this.focus());break;case 38:for(b=this.getPrevSibling();b&&b.bExpanded&&b.childList;)b=b.childList[b.childList.length-1];!b&&this.parent&&this.parent.parent&&(b=this.parent),b&&b.focus();break;case 40:if(this.bExpanded&&this.childList)b=this.childList[0];else for(var d=this._parentList(!1,!0),e=d.length-1;e>=0&&!(b=d[e].getNextSibling());e--);b&&b.focus();break;default:c=!1}c&&a.preventDefault()},_onKeypress:function(){},_onFocus:function(a){var b=this.tree.options;"blur"==a.type||"focusout"==a.type?(b.onBlur&&b.onBlur.call(this.tree,this),this.tree.tnFocused&&$(this.tree.tnFocused.span).removeClass(b.classNames.focused),this.tree.tnFocused=null,b.persist&&$.cookie(b.cookieId+"-focus","",b.cookie)):("focus"==a.type||"focusin"==a.type)&&(this.tree.tnFocused&&this.tree.tnFocused!==this&&(this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o",this.tree.tnFocused),$(this.tree.tnFocused.span).removeClass(b.classNames.focused)),this.tree.tnFocused=this,b.onFocus&&b.onFocus.call(this.tree,this),$(this.tree.tnFocused.span).addClass(b.classNames.focused),b.persist&&$.cookie(b.cookieId+"-focus",this.data.key,b.cookie))},visit:function(a,b){var c=!0;if(b===!0&&(c=a(this),c===!1||"skip"==c))return c;if(this.childList)for(var d=0,e=this.childList.length;e>d&&(c=this.childList[d].visit(a,!0),c!==!1);d++);return c},visitParents:function(a,b){if(b&&a(this)===!1)return!1;for(var c=this.parent;c;){if(a(c)===!1)return!1;c=c.parent}return!0},remove:function(){if(this===this.tree.root)throw"Cannot remove system root";return this.parent.removeChild(this)},removeChild:function(a){var b=this.childList;if(1==b.length){if(a!==b[0])throw"removeChild: invalid child";return this.removeChildren()}a===this.tree.activeNode&&a.deactivate(),this.tree.options.persist&&(a.bSelected&&this.tree.persistence.clearSelect(a.data.key),a.bExpanded&&this.tree.persistence.clearExpand(a.data.key)),a.removeChildren(!0),this.ul.removeChild(a.li);for(var c=0,d=b.length;d>c;c++)if(b[c]===a){this.childList.splice(c,1);break}},removeChildren:function(a,b){this.tree.logDebug("%s.removeChildren(%o)",this,a);var c=this.tree,d=this.childList;if(d){for(var e=0,f=d.length;f>e;e++){var g=d[e];g!==c.activeNode||b||g.deactivate(),this.tree.options.persist&&!b&&(g.bSelected&&this.tree.persistence.clearSelect(g.data.key),g.bExpanded&&this.tree.persistence.clearExpand(g.data.key)),g.removeChildren(!0,b),this.ul&&$("li",$(this.ul)).remove()}this.childList=null}a||(this._isLoading=!1,this.render())},setTitle:function(a){this.fromDict({title:a})},reload:function(){throw"Use reloadChildren() instead"},reloadChildren:function(a){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.reloadChildren() requires lazy nodes.";if(a){var b=this,c="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;this.tree.$tree.bind(c,function(d,e,f){if(b.tree.$tree.unbind(c),b.tree.logDebug("loaded %o, %o, %o",d,e,f),e!==b)throw"got invalid load event";a.call(b.tree,e,f)})}this.removeChildren(),this._loadContent()},_loadKeyPath:function(a,b){var c=this.tree;if(c.logDebug("%s._loadKeyPath(%s)",this,a),""===a)throw"Key path must not be empty";var d=a.split(c.options.keyPathSeparator);if(""===d[0])throw"Key path must be relative (don't start with '/')";for(var e=d.shift(),f=0,g=this.childList.length;g>f;f++){var h=this.childList[f];if(h.data.key===e){if(0===d.length)b.call(c,h,"ok");else if(!h.data.isLazy||null!==h.childList&&void 0!==h.childList)b.call(c,h,"loaded"),h._loadKeyPath(d.join(c.options.keyPathSeparator),b);else{c.logDebug("%s._loadKeyPath(%s) -> reloading %s...",this,a,h);var i=this;h.reloadChildren(function(e,f){f?(c.logDebug("%s._loadKeyPath(%s) -> reloaded %s.",e,a,e),b.call(c,h,"loaded"),e._loadKeyPath(d.join(c.options.keyPathSeparator),b)):(c.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.",i,a),b.call(c,h,"error"))})}return}}c.logWarning("Node not found: "+e)},resetLazy:function(){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.resetLazy() requires lazy nodes.";this.expand(!1),this.removeChildren()},_addChildNode:function(a,b){var c=this.tree,d=c.options,e=c.persistence;if(a.parent=this,null===this.childList?this.childList=[]:b||this.childList.length>0&&$(this.childList[this.childList.length-1].span).removeClass(d.classNames.lastsib),b){var f=$.inArray(b,this.childList);if(0>f)throw"<beforeNode> must be a child of <this>";this.childList.splice(f,0,a)}else this.childList.push(a);var g=c.isInitializing();if(d.persist&&e.cookiesFound&&g?(e.activeKey===a.data.key&&(c.activeNode=a),e.focusedKey===a.data.key&&(c.focusNode=a),a.bExpanded=$.inArray(a.data.key,e.expandedKeyList)>=0,a.bSelected=$.inArray(a.data.key,e.selectedKeyList)>=0):(a.data.activate&&(c.activeNode=a,d.persist&&(e.activeKey=a.data.key)),a.data.focus&&(c.focusNode=a,d.persist&&(e.focusedKey=a.data.key)),a.bExpanded=a.data.expand===!0,a.bExpanded&&d.persist&&e.addExpand(a.data.key),a.bSelected=a.data.select===!0,a.bSelected&&d.persist&&e.addSelect(a.data.key)),d.minExpandLevel>=a.getLevel()&&(this.bExpanded=!0),a.bSelected&&3==d.selectMode)for(var h=this;h;)h.hasSubSel||h._setSubSel(!0),h=h.parent;return c.bEnableUpdate&&this.render(),a},addChild:function(a,b){if("string"==typeof a)throw"Invalid data type for "+a;if(a&&0!==a.length){if(a instanceof DynaTreeNode)return this._addChildNode(a,b);a.length||(a=[a]);for(var c=this.tree.enableUpdate(!1),d=null,e=0,f=a.length;f>e;e++){var g=a[e],h=this._addChildNode(new DynaTreeNode(this,this.tree,g),b);d||(d=h),g.children&&h.addChild(g.children,null)}return this.tree.enableUpdate(c),d}},append:function(a){return this.tree.logWarning("node.append() is deprecated (use node.addChild() instead)."),this.addChild(a,null)},appendAjax:function(a){var b=this;if(this.removeChildren(!1,!0),this.setLazyNodeStatus(DTNodeStatus_Loading),a.debugLazyDelay){var c=a.debugLazyDelay;return a.debugLazyDelay=0,this.tree.logInfo("appendAjax: waiting for debugLazyDelay "+c),setTimeout(function(){b.appendAjax(a)},c),void 0}var d=a.success,e=a.error,f="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key,g=$.extend({},this.tree.options.ajaxDefaults,a,{success:function(a,c){var e=b.tree.phase;b.tree.phase="init",g.postProcess?a=g.postProcess.call(this,a,this.dataType):a&&a.hasOwnProperty("d")&&(a="string"==typeof a.d?$.parseJSON(a.d):response.d),$.isArray(a)&&0===a.length||b.addChild(a,null),b.tree.phase="postInit",d&&d.call(g,b,a,c),b.tree.logDebug("trigger "+f),b.tree.$tree.trigger(f,[b,!0]),b.tree.phase=e,b.setLazyNodeStatus(DTNodeStatus_Ok),$.isArray(a)&&0===a.length&&(b.childList=[],b.render())},error:function(a,c,d){b.tree.logWarning("appendAjax failed:",c,":\n",a,"\n",d),e&&e.call(g,b,a,c,d),b.tree.$tree.trigger(f,[b,!1]),b.setLazyNodeStatus(DTNodeStatus_Error,{info:c,tooltip:""+d})}});$.ajax(g)},move:function(a,b){var c;if(this!==a){if(!this.parent)throw"Cannot move system root";(void 0===b||"over"==b)&&(b="child");var d=this.parent,e="child"===b?a:a.parent;if(e.isDescendantOf(this))throw"Cannot move a node to it's own descendant";if(1==this.parent.childList.length)this.parent.childList=null,this.parent.bExpanded=!1;else{if(c=$.inArray(this,this.parent.childList),0>c)throw"Internal error";this.parent.childList.splice(c,1)}if(this.parent.ul.removeChild(this.li),this.parent=e,e.hasChildren())switch(b){case"child":e.childList.push(this);break;case"before":if(c=$.inArray(a,e.childList),0>c)throw"Internal error";e.childList.splice(c,0,this);break;case"after":if(c=$.inArray(a,e.childList),0>c)throw"Internal error";e.childList.splice(c+1,0,this);break;default:throw"Invalid mode "+b}else e.childList=[this];if(e.ul||(e.ul=document.createElement("ul"),e.ul.style.display="none",e.li.appendChild(e.ul)),e.ul.appendChild(this.li),this.tree!==a.tree)throw this.visit(function(b){b.tree=a.tree},null,!0),"Not yet implemented.";d.isDescendantOf(e)||d.render(),e.isDescendantOf(d)||e.render()}},lastentry:void 0};var DynaTreeStatus=Class.create();DynaTreeStatus._getTreePersistData=function(a,b){var c=new DynaTreeStatus(a,b);return c.read(),c.toDict()},getDynaTreePersistData=DynaTreeStatus._getTreePersistData,DynaTreeStatus.prototype={initialize:function(a,b){void 0===a&&(a=$.ui.dynatree.prototype.options.cookieId),b=$.extend({},$.ui.dynatree.prototype.options.cookie,b),this.cookieId=a,this.cookieOpts=b,this.cookiesFound=void 0,this.activeKey=null,this.focusedKey=null,this.expandedKeyList=null,this.selectedKeyList=null
},_log:function(){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)},read:function(){this.cookiesFound=!1;var a=$.cookie(this.cookieId+"-active");this.activeKey=null===a?"":a,null!==a&&(this.cookiesFound=!0),a=$.cookie(this.cookieId+"-focus"),this.focusedKey=null===a?"":a,null!==a&&(this.cookiesFound=!0),a=$.cookie(this.cookieId+"-expand"),this.expandedKeyList=null===a?[]:a.split(","),null!==a&&(this.cookiesFound=!0),a=$.cookie(this.cookieId+"-select"),this.selectedKeyList=null===a?[]:a.split(","),null!==a&&(this.cookiesFound=!0)},write:function(){$.cookie(this.cookieId+"-active",null===this.activeKey?"":this.activeKey,this.cookieOpts),$.cookie(this.cookieId+"-focus",null===this.focusedKey?"":this.focusedKey,this.cookieOpts),$.cookie(this.cookieId+"-expand",null===this.expandedKeyList?"":this.expandedKeyList.join(","),this.cookieOpts),$.cookie(this.cookieId+"-select",null===this.selectedKeyList?"":this.selectedKeyList.join(","),this.cookieOpts)},addExpand:function(a){$.inArray(a,this.expandedKeyList)<0&&(this.expandedKeyList.push(a),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},clearExpand:function(a){var b=$.inArray(a,this.expandedKeyList);b>=0&&(this.expandedKeyList.splice(b,1),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},addSelect:function(a){$.inArray(a,this.selectedKeyList)<0&&(this.selectedKeyList.push(a),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},clearSelect:function(a){var b=$.inArray(a,this.selectedKeyList);b>=0&&(this.selectedKeyList.splice(b,1),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},isReloading:function(){return this.cookiesFound===!0},toDict:function(){return{cookiesFound:this.cookiesFound,activeKey:this.activeKey,focusedKey:this.activeKey,expandedKeyList:this.expandedKeyList,selectedKeyList:this.selectedKeyList}},lastentry:void 0};var DynaTree=Class.create();DynaTree.version="$Version: 1.2.1_rc3$",DynaTree.prototype={initialize:function(a){this.phase="init",this.$widget=a,this.options=a.options,this.$tree=a.element,this.timer=null,this.divTree=this.$tree.get(0),_initDragAndDrop(this)},_load:function(a){this.$widget;var b=this.options,c=this;this.bEnableUpdate=!0,this._nodeCount=1,this.activeNode=null,this.focusNode=null,void 0!==b.rootVisible&&this.logWarning("Option 'rootVisible' is no longer supported."),b.minExpandLevel<1&&(this.logWarning("Option 'minExpandLevel' must be >= 1."),b.minExpandLevel=1),b.classNames!==$.ui.dynatree.prototype.options.classNames&&(b.classNames=$.extend({},$.ui.dynatree.prototype.options.classNames,b.classNames)),b.ajaxDefaults!==$.ui.dynatree.prototype.options.ajaxDefaults&&(b.ajaxDefaults=$.extend({},$.ui.dynatree.prototype.options.ajaxDefaults,b.ajaxDefaults)),b.dnd!==$.ui.dynatree.prototype.options.dnd&&(b.dnd=$.extend({},$.ui.dynatree.prototype.options.dnd,b.dnd)),b.imagePath||$("script").each(function(){var a=/.*dynatree[^\/]*\.js$/i;return this.src.search(a)>=0?(b.imagePath=this.src.indexOf("/")>=0?this.src.slice(0,this.src.lastIndexOf("/"))+"/skin/":"skin/",c.logDebug("Guessing imagePath from '%s': '%s'",this.src,b.imagePath),!1):void 0}),this.persistence=new DynaTreeStatus(b.cookieId,b.cookie),b.persist&&($.cookie||_log("warn","Please include jquery.cookie.js to use persistence."),this.persistence.read()),this.logDebug("DynaTree.persistence: %o",this.persistence.toDict()),this.cache={tagEmpty:"<span class='"+b.classNames.empty+"'></span>",tagVline:"<span class='"+b.classNames.vline+"'></span>",tagExpander:"<span class='"+b.classNames.expander+"'></span>",tagConnector:"<span class='"+b.classNames.connector+"'></span>",tagNodeIcon:"<span class='"+b.classNames.nodeIcon+"'></span>",tagCheckbox:"<span class='"+b.classNames.checkbox+"'></span>",lastentry:void 0},(b.children||b.initAjax&&b.initAjax.url||b.initId)&&$(this.divTree).empty();var d=this.$tree.find(">ul:first").hide();this.tnRoot=new DynaTreeNode(null,this,{}),this.tnRoot.bExpanded=!0,this.tnRoot.render(),this.divTree.appendChild(this.tnRoot.ul);var e=this.tnRoot,f=b.persist&&this.persistence.isReloading(),g=!1,h=this.enableUpdate(!1);this.logDebug("Dynatree._load(): read tree structure..."),b.children?e.addChild(b.children):b.initAjax&&b.initAjax.url?(g=!0,e.data.isLazy=!0,this._reloadAjax(a)):b.initId?this._createFromTag(e,$("#"+b.initId)):(this._createFromTag(e,d),d.remove()),this._checkConsistency(),g||3!=b.selectMode||e._updatePartSelectionState(),this.logDebug("Dynatree._load(): render nodes..."),this.enableUpdate(h),this.logDebug("Dynatree._load(): bind events..."),this.$widget.bind(),this.logDebug("Dynatree._load(): postInit..."),this.phase="postInit",b.persist&&this.persistence.write(),this.focusNode&&this.focusNode.isVisible()&&(this.logDebug("Focus on init: %o",this.focusNode),this.focusNode.focus()),g||(b.onPostInit&&b.onPostInit.call(this,f,!1),a&&a.call(this,"ok")),this.phase="idle"},_reloadAjax:function(a){var b=this.options;if(!b.initAjax||!b.initAjax.url)throw"tree.reload() requires 'initAjax' mode.";var c=this.persistence,d=$.extend({},b.initAjax);d.addActiveKey&&(d.data.activeKey=c.activeKey),d.addFocusedKey&&(d.data.focusedKey=c.focusedKey),d.addExpandedKeyList&&(d.data.expandedKeyList=c.expandedKeyList.join(",")),d.addSelectedKeyList&&(d.data.selectedKeyList=c.selectedKeyList.join(",")),d.success&&this.logWarning("initAjax: success callback is ignored; use onPostInit instead."),d.error&&this.logWarning("initAjax: error callback is ignored; use onPostInit instead.");var e=c.isReloading();d.success=function(c){3==b.selectMode&&c.tree.tnRoot._updatePartSelectionState(),b.onPostInit&&b.onPostInit.call(c.tree,e,!1),a&&a.call(c.tree,"ok")},d.error=function(c,d,f,g){b.onPostInit&&b.onPostInit.call(c.tree,e,!0,d,f,g),a&&a.call(c.tree,"error",d,f,g)},this.logDebug("Dynatree._init(): send Ajax request..."),this.tnRoot.appendAjax(d)},toString:function(){return"Dynatree '"+this.$tree.attr("id")+"'"},toDict:function(){return this.tnRoot.toDict(!0)},serializeArray:function(a){for(var b=this.getSelectedNodes(a),c=this.$tree.attr("name")||this.$tree.attr("id"),d=[],e=0,f=b.length;f>e;e++)d.push({name:c,value:b[e].data.key});return d},getPersistData:function(){return this.persistence.toDict()},logDebug:function(){this.options.debugLevel>=2&&(Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments))},logInfo:function(){this.options.debugLevel>=1&&(Array.prototype.unshift.apply(arguments,["info"]),_log.apply(this,arguments))},logWarning:function(){Array.prototype.unshift.apply(arguments,["warn"]),_log.apply(this,arguments)},isInitializing:function(){return"init"==this.phase||"postInit"==this.phase},isReloading:function(){return("init"==this.phase||"postInit"==this.phase)&&this.options.persist&&this.persistence.cookiesFound},isUserEvent:function(){return"userEvent"==this.phase},redraw:function(){this.tnRoot.render(!1,!1)},renderInvisibleNodes:function(){this.tnRoot.render(!1,!0)},reload:function(a){this._load(a)},getRoot:function(){return this.tnRoot},enable:function(){this.$widget.enable()},disable:function(){this.$widget.disable()},getNodeByKey:function(a){var b=document.getElementById(this.options.idPrefix+a);if(b)return b.dtnode?b.dtnode:null;var c=null;return this.visit(function(b){return b.data.key==a?(c=b,!1):void 0},!0),c},getActiveNode:function(){return this.activeNode},reactivate:function(a){var b=this.activeNode;b&&(this.activeNode=null,b.activate(),a&&b.focus())},getSelectedNodes:function(a){var b=[];return this.tnRoot.visit(function(c){return c.bSelected&&(b.push(c),a===!0)?"skip":void 0}),b},activateKey:function(a){var b=null===a?null:this.getNodeByKey(a);return b?(b.focus(),b.activate(),b):(this.activeNode&&this.activeNode.deactivate(),this.activeNode=null,null)},loadKeyPath:function(a,b){var c=a.split(this.options.keyPathSeparator);return""===c[0]&&c.shift(),c[0]==this.tnRoot.data.key&&(this.logDebug("Removed leading root key."),c.shift()),a=c.join(this.options.keyPathSeparator),this.tnRoot._loadKeyPath(a,b)},selectKey:function(a,b){var c=this.getNodeByKey(a);return c?(c.select(b),c):null},enableUpdate:function(a){return this.bEnableUpdate==a?a:(this.bEnableUpdate=a,a&&this.redraw(),!a)},count:function(){return this.tnRoot.countChildren()},visit:function(a,b){return this.tnRoot.visit(a,b)},_createFromTag:function(parentTreeNode,$ulParent){var self=this;$ulParent.find(">li").each(function(){var $li=$(this),$liSpan=$li.find(">span:first"),$liA=$li.find(">a:first"),title,href=null,target=null,tooltip;if($liSpan.length)title=$liSpan.html();else if($liA.length)title=$liA.html(),href=$liA.attr("href"),target=$liA.attr("target"),tooltip=$liA.attr("title");else{title=$li.html();var iPos=title.search(/<ul/i);title=iPos>=0?$.trim(title.substring(0,iPos)):$.trim(title)}var data={title:title,tooltip:tooltip,isFolder:$li.hasClass("folder"),isLazy:$li.hasClass("lazy"),expand:$li.hasClass("expanded"),select:$li.hasClass("selected"),activate:$li.hasClass("active"),focus:$li.hasClass("focused"),noLink:$li.hasClass("noLink")};if(href&&(data.href=href,data.target=target),$li.attr("title")&&(data.tooltip=$li.attr("title")),$li.attr("id")&&(data.key=$li.attr("id")),$li.attr("data")){var dataAttr=$.trim($li.attr("data"));if(dataAttr){"{"!=dataAttr.charAt(0)&&(dataAttr="{"+dataAttr+"}");try{$.extend(data,eval("("+dataAttr+")"))}catch(e){throw"Error parsing node data: "+e+"\ndata:\n'"+dataAttr+"'"}}}var childNode=parentTreeNode.addChild(data),$ul=$li.find(">ul:first");$ul.length&&self._createFromTag(childNode,$ul)})},_checkConsistency:function(){},_setDndStatus:function(a,b,c,d,e){var f=a?$(a.span):null,g=$(b.span);if(this.$dndMarker||(this.$dndMarker=$("<div id='dynatree-drop-marker'></div>").hide().prependTo($(this.divTree).parent())),"after"===d||"before"===d||"over"===d){var h=g.offset();switch(d){case"before":this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-before"),h.top-=8;break;case"after":this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-after"),h.top+=8;break;default:this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before"),this.$dndMarker.addClass("dynatree-drop-over"),g.addClass("dynatree-drop-target"),h.left+=8}this.$dndMarker.css({left:h.left,top:h.top,"z-index":1e3}).show()}else g.removeClass("dynatree-drop-target"),this.$dndMarker.hide();"after"===d?g.addClass("dynatree-drop-after"):g.removeClass("dynatree-drop-after"),"before"===d?g.addClass("dynatree-drop-before"):g.removeClass("dynatree-drop-before"),e===!0?(f&&f.addClass("dynatree-drop-accept"),g.addClass("dynatree-drop-accept"),c.addClass("dynatree-drop-accept")):(f&&f.removeClass("dynatree-drop-accept"),g.removeClass("dynatree-drop-accept"),c.removeClass("dynatree-drop-accept")),e===!1?(f&&f.addClass("dynatree-drop-reject"),g.addClass("dynatree-drop-reject"),c.addClass("dynatree-drop-reject")):(f&&f.removeClass("dynatree-drop-reject"),g.removeClass("dynatree-drop-reject"),c.removeClass("dynatree-drop-reject"))},_onDragEvent:function(a,b,c,d,e,f){var g,h=(this.options,this.options.dnd),i=null,j=$(b.span);switch(a){case"helper":var k=$("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /></div>").append($(d.target).closest("a").clone());$("ul.dynatree-container",b.tree.divTree).append(k),k.data("dtSourceNode",b),i=k;break;case"start":b.isStatusNode()?i=!1:h.onDragStart&&(i=h.onDragStart(b)),i===!1?(this.logDebug("tree.onDragStart() cancelled"),e.helper.trigger("mouseup"),e.helper.hide()):j.addClass("dynatree-drag-source");break;case"enter":i=h.onDragEnter?h.onDragEnter(b,c):null,i={over:i!==!1&&(i===!0||"over"===i||$.inArray("over",i)>=0),before:i!==!1&&(i===!0||"before"===i||$.inArray("before",i)>=0),after:i!==!1&&(i===!0||"after"===i||$.inArray("after",i)>=0)},e.helper.data("enterResponse",i);break;case"over":var l=e.helper.data("enterResponse");if(g=null,l===!1)break;if("string"==typeof l)g=l;else{var m=j.offset(),n={x:d.pageX-m.left,y:d.pageY-m.top},o={x:n.x/j.width(),y:n.y/j.height()};l.after&&o.y>.75?g="after":!l.over&&l.after&&o.y>.5?g="after":l.before&&o.y<=.25?g="before":!l.over&&l.before&&o.y<=.5?g="before":l.over&&(g="over"),h.preventVoidMoves&&(b===c?g=null:"before"===g&&c&&b===c.getNextSibling()?g=null:"after"===g&&c&&b===c.getPrevSibling()?g=null:"over"===g&&c&&c.parent===b&&c.isLastSibling()&&(g=null)),e.helper.data("hitMode",g)}"over"===g&&h.autoExpandMS&&b.hasChildren()!==!1&&!b.bExpanded&&b.scheduleAction("expand",h.autoExpandMS),g&&h.onDragOver&&(i=h.onDragOver(b,c,g)),this._setDndStatus(c,b,e.helper,g,i!==!1);break;case"drop":g=e.helper.data("hitMode"),g&&h.onDrop&&h.onDrop(b,c,g,e,f);break;case"leave":b.scheduleAction("cancel"),e.helper.data("enterResponse",null),e.helper.data("hitMode",null),this._setDndStatus(c,b,e.helper,"out",void 0),h.onDragLeave&&h.onDragLeave(b,c);break;case"stop":j.removeClass("dynatree-drag-source"),h.onDragStop&&h.onDragStop(b);break;default:throw"Unsupported drag event: "+a}return i},cancelDrag:function(){var a=$.ui.ddmanager.current;a&&a.cancel()},lastentry:void 0},$.widget("ui.dynatree",{_init:function(){return parseFloat($.ui.version)<1.8?(this.options.debugLevel>=0&&_log("warn","ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher."),this._create()):(this.options.debugLevel>=2&&_log("debug","ui.dynatree._init() was called; no current default functionality."),void 0)},_create:function(){var a=this.options;a.debugLevel>=1&&logMsg("Dynatree._create(): version='%s', debugLevel=%o.",$.ui.dynatree.version,this.options.debugLevel),this.options.event+=".dynatree",this.element.get(0),this.tree=new DynaTree(this),this.tree._load(),this.tree.logDebug("Dynatree._init(): done.")},bind:function(){function a(a){a=$.event.fix(a||window.event);var b=$.ui.dynatree.getNode(a.target);return b?b._onFocus(a):!1}this.unbind();var b="click.dynatree dblclick.dynatree";this.options.keyboard&&(b+=" keypress.dynatree keydown.dynatree"),this.element.bind(b,function(a){var b=$.ui.dynatree.getNode(a.target);if(!b)return!0;var c=b.tree,d=c.options;c.logDebug("event(%s): dtnode: %s",a.type,b);var e=c.phase;c.phase="userEvent";try{switch(a.type){case"click":return d.onClick&&d.onClick.call(c,b,a)===!1?!1:b._onClick(a);case"dblclick":return d.onDblClick&&d.onDblClick.call(c,b,a)===!1?!1:b._onDblClick(a);case"keydown":return d.onKeydown&&d.onKeydown.call(c,b,a)===!1?!1:b._onKeydown(a);case"keypress":return d.onKeypress&&d.onKeypress.call(c,b,a)===!1?!1:b._onKeypress(a)}}catch(f){c.logWarning("bind(%o): dtnode: %o, error: %o",a,b,f)}finally{c.phase=e}});var c=this.tree.divTree;c.addEventListener?(c.addEventListener("focus",a,!0),c.addEventListener("blur",a,!0)):c.onfocusin=c.onfocusout=a},unbind:function(){this.element.unbind(".dynatree")},enable:function(){this.bind(),$.Widget.prototype.enable.apply(this,arguments)},disable:function(){this.unbind(),$.Widget.prototype.disable.apply(this,arguments)},getTree:function(){return this.tree},getRoot:function(){return this.tree.getRoot()},getActiveNode:function(){return this.tree.getActiveNode()},getSelectedNodes:function(){return this.tree.getSelectedNodes()},lastentry:void 0}),parseFloat($.ui.version)<1.8&&($.ui.dynatree.getter="getTree getRoot getActiveNode getSelectedNodes"),$.ui.dynatree.version="$Version: 1.2.1_rc3$",$.ui.dynatree.getNode=function(a){if(a instanceof DynaTreeNode)return a;for(void 0!==a.selector&&(a=a[0]);a;){if(a.dtnode)return a.dtnode;a=a.parentNode}return null},$.ui.dynatree.getPersistData=DynaTreeStatus._getTreePersistData,$.ui.dynatree.prototype.options={title:"Dynatree",minExpandLevel:1,imagePath:null,children:null,initId:null,initAjax:null,autoFocus:!0,keyboard:!0,persist:!1,autoCollapse:!1,clickFolderMode:3,activeVisible:!0,checkbox:!1,selectMode:2,fx:null,noLink:!1,onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onLazyRead:null,onCustomRender:null,onCreate:null,onRender:null,dnd:{onDragStart:null,onDragStop:null,autoExpandMS:1e3,preventVoidMoves:!0,onDragEnter:null,onDragOver:null,onDrop:null,onDragLeave:null},ajaxDefaults:{cache:!1,timeout:0,dataType:"json"},strings:{loading:"Loading&#8230;",loadError:"Load error!"},generateIds:!1,idPrefix:"dynatree-id-",keyPathSeparator:"/",cookieId:"dynatree",cookie:{expires:null},classNames:{container:"dynatree-container",node:"dynatree-node",folder:"dynatree-folder",empty:"dynatree-empty",vline:"dynatree-vline",expander:"dynatree-expander",connector:"dynatree-connector",checkbox:"dynatree-checkbox",nodeIcon:"dynatree-icon",title:"dynatree-title",noConnector:"dynatree-no-connector",nodeError:"dynatree-statusnode-error",nodeWait:"dynatree-statusnode-wait",hidden:"dynatree-hidden",combinedExpanderPrefix:"dynatree-exp-",combinedIconPrefix:"dynatree-ico-",nodeLoading:"dynatree-loading",hasChildren:"dynatree-has-children",active:"dynatree-active",selected:"dynatree-selected",expanded:"dynatree-expanded",lazy:"dynatree-lazy",focused:"dynatree-focused",partsel:"dynatree-partsel",lastsib:"dynatree-lastsib"},debugLevel:1,lastentry:void 0},parseFloat($.ui.version)<1.8&&($.ui.dynatree.defaults=$.ui.dynatree.prototype.options),$.ui.dynatree.nodedatadefaults={title:null,key:null,isFolder:!1,isLazy:!1,tooltip:null,href:null,icon:null,addClass:null,noLink:!1,activate:!1,focus:!1,expand:!1,select:!1,hideCheckbox:!1,unselectable:!1,children:null,lastentry:void 0};var didRegisterDnd=!1,_registerDnd=function(){didRegisterDnd||($.ui.plugin.add("draggable","connectToDynatree",{start:function(a,b){var c=$(this).data("draggable"),d=b.helper.data("dtSourceNode")||null;return d?(c.offset.click.top=-2,c.offset.click.left=16,d.tree._onDragEvent("start",d,null,a,b,c)):void 0},drag:function(a,b){var c=$(this).data("draggable"),d=b.helper.data("dtSourceNode")||null,e=b.helper.data("dtTargetNode")||null,f=$.ui.dynatree.getNode(a.target);if(a.target&&!f){var g=$(a.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length>0;if(g)return}b.helper.data("dtTargetNode",f),e&&e!==f&&e.tree._onDragEvent("leave",e,d,a,b,c),f&&(f.tree.options.dnd.onDrop?f===e?f.tree._onDragEvent("over",f,d,a,b,c):f.tree._onDragEvent("enter",f,d,a,b,c):noop())},stop:function(a,b){var c=$(this).data("draggable"),d=b.helper.data("dtSourceNode")||null,e=b.helper.data("dtTargetNode")||null,f=(c._mouseDownEvent,a.type),g="mouseup"==f&&1==a.which;g||logMsg("Drag was cancelled"),e&&(g&&e.tree._onDragEvent("drop",e,d,a,b,c),e.tree._onDragEvent("leave",e,d,a,b,c)),d&&d.tree._onDragEvent("stop",d,null,a,b,c)}}),didRegisterDnd=!0)}}(jQuery),function(a){var b=function(){var b={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},c={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>","<tr>",'<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>','<th colspan="6" class="datepickerMonth"><a href="#"><span></span></a></th>','<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=week%></span></th>","<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[0].week%></span></a></th>','<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[1].week%></span></a></th>','<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[2].week%></span></a></th>','<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[3].week%></span></a></th>','<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[4].week%></span></a></th>','<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[5].week%></span></a></th>','<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]},d={flat:!1,starts:1,prev:"&#9664;",next:"&#9654;",lastSel:!1,mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",eventName:"click",onRender:function(){return{}},onChange:function(){return!0},onShow:function(){return!0},onBeforeShow:function(){return!0},onHide:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekMin:"wk"}},e=function(b){var d,e,f,h,i,j,k,l,m,n=a(b).data("datepicker"),o=a(b),p=Math.floor(n.calendars/2),q=0;o.find("td>table tbody").remove();for(var r=0;r<n.calendars;r++){switch(d=new Date(n.current),d.addMonths(-p+r),m=o.find("table").eq(r+1),m[0].className){case"datepickerViewDays":f=g(d,"B, Y");break;case"datepickerViewMonths":f=d.getFullYear();break;case"datepickerViewYears":f=d.getFullYear()-6+" - "+(d.getFullYear()+5)}m.find("thead tr:first th:eq(1) span").text(f),f=d.getFullYear()-6,e={data:[],className:"datepickerYears"};for(var s=0;12>s;s++)e.data.push(f+s);l=tmpl(c.months.join(""),e),d.setDate(1),e={weeks:[],test:10},h=d.getMonth();var f=(d.getDay()-n.starts)%7;for(d.addDays(-(f+(0>f?7:0))),i=-1,q=0;42>q;){j=parseInt(q/7,10),k=q%7,e.weeks[j]||(i=d.getWeekNumber(),e.weeks[j]={week:i,days:[]}),e.weeks[j].days[k]={text:d.getDate(),classname:[]},h!=d.getMonth()&&e.weeks[j].days[k].classname.push("datepickerNotInMonth"),0==d.getDay()&&e.weeks[j].days[k].classname.push("datepickerSunday"),6==d.getDay()&&e.weeks[j].days[k].classname.push("datepickerSaturday");var t=n.onRender(d),u=d.valueOf();(t.selected||n.date==u||a.inArray(u,n.date)>-1||"range"==n.mode&&u>=n.date[0]&&u<=n.date[1])&&e.weeks[j].days[k].classname.push("datepickerSelected"),t.disabled&&e.weeks[j].days[k].classname.push("datepickerDisabled"),t.className&&e.weeks[j].days[k].classname.push(t.className),e.weeks[j].days[k].classname=e.weeks[j].days[k].classname.join(" "),q++,d.addDays(1)}l=tmpl(c.days.join(""),e)+l,e={data:n.locale.monthsShort,className:"datepickerMonths"},l=tmpl(c.months.join(""),e)+l,m.append(l)}},f=function(a,b){if(a.constructor==Date)return new Date(a);for(var c,d,e,f,g,h=a.split(/\W+/),i=b.split(/\W+/),j=new Date,k=0;k<h.length;k++)switch(i[k]){case"d":case"e":c=parseInt(h[k],10);break;case"m":d=parseInt(h[k],10)-1;break;case"Y":case"y":e=parseInt(h[k],10),e+=e>100?0:29>e?2e3:1900;break;case"H":case"I":case"k":case"l":f=parseInt(h[k],10);break;case"P":case"p":/pm/i.test(h[k])&&12>f?f+=12:/am/i.test(h[k])&&f>=12&&(f-=12);break;case"M":g=parseInt(h[k],10)}return new Date(void 0===e?j.getFullYear():e,void 0===d?j.getMonth():d,void 0===c?j.getDate():c,void 0===f?j.getHours():f,void 0===g?j.getMinutes():g,0)},g=function(a,b){var c=a.getMonth(),d=a.getDate(),e=a.getFullYear();a.getWeekNumber();var f=a.getDay(),g=a.getHours(),h=g>=12,i=h?g-12:g,j=a.getDayOfYear();0==i&&(i=12);for(var k,l=a.getMinutes(),m=a.getSeconds(),n=b.split(""),o=0;o<n.length;o++){switch(k=n[o],n[o]){case"a":k=a.getDayName();break;case"A":k=a.getDayName(!0);break;case"b":k=a.getMonthName();break;case"B":k=a.getMonthName(!0);break;case"C":k=1+Math.floor(e/100);break;case"d":k=10>d?"0"+d:d;break;case"e":k=d;break;case"H":k=10>g?"0"+g:g;break;case"I":k=10>i?"0"+i:i;break;case"j":k=100>j?10>j?"00"+j:"0"+j:j;break;case"k":k=g;break;case"l":k=i;break;case"m":k=9>c?"0"+(1+c):1+c;break;case"M":k=10>l?"0"+l:l;break;case"p":case"P":k=h?"PM":"AM";break;case"s":k=Math.floor(a.getTime()/1e3);break;case"S":k=10>m?"0"+m:m;break;case"u":k=f+1;break;case"w":k=f;break;case"y":k=(""+e).substr(2,2);break;case"Y":k=e}n[o]=k}return n.join("")},h=function(a){Date.prototype.tempDate||(Date.prototype.tempDate=null,Date.prototype.months=a.months,Date.prototype.monthsShort=a.monthsShort,Date.prototype.days=a.days,Date.prototype.daysShort=a.daysShort,Date.prototype.getMonthName=function(a){return this[a?"months":"monthsShort"][this.getMonth()]},Date.prototype.getDayName=function(a){return this[a?"days":"daysShort"][this.getDay()]},Date.prototype.addDays=function(a){this.setDate(this.getDate()+a),this.tempDate=this.getDate()},Date.prototype.addMonths=function(a){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setMonth(this.getMonth()+a),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.addYears=function(a){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setFullYear(this.getFullYear()+a),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.getMaxDays=function(){var a,b=new Date(Date.parse(this)),c=28;for(a=b.getMonth(),c=28;b.getMonth()==a;)c++,b.setDate(c);return c-1},Date.prototype.getFirstDay=function(){var a=new Date(Date.parse(this));return a.setDate(1),a.getDay()},Date.prototype.getWeekNumber=function(){var a=new Date(this);a.setDate(a.getDate()-(a.getDay()+6)%7+3);var b=a.valueOf();return a.setMonth(0),a.setDate(4),Math.round((b-a.valueOf())/6048e5)+1},Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),b=new Date(this.getFullYear(),0,0,0,0,0),c=a-b;return Math.floor(1e3*60*60*(c/24))})},i=function(b){var c=a(b).data("datepicker"),d=a("#"+c.id);if(!c.extraHeight){var e=a(b).find("div");c.extraHeight=e.get(0).offsetHeight+e.get(1).offsetHeight,c.extraWidth=e.get(2).offsetWidth+e.get(3).offsetWidth}var f=d.find("table:first").get(0),g=f.offsetWidth,h=f.offsetHeight;d.css({width:g+c.extraWidth+"px",height:h+c.extraHeight+"px"}).find("div.datepickerContainer").css({width:g+"px",height:h+"px"})},j=function(b){a(b.target).is("span")&&(b.target=b.target.parentNode);var c=a(b.target);if(c.is("a")){if(b.target.blur(),c.hasClass("datepickerDisabled"))return!1;var d=a(this).data("datepicker"),f=c.parent(),h=f.parent().parent().parent(),i=a("table",this).index(h.get(0))-1,j=new Date(d.current),l=!1,m=!1;
if(f.is("th")){if(f.hasClass("datepickerWeek")&&"range"==d.mode&&!f.next().hasClass("datepickerDisabled")){var n=parseInt(f.next().text(),10);j.addMonths(i-Math.floor(d.calendars/2)),f.next().hasClass("datepickerNotInMonth")&&j.addMonths(n>15?-1:1),j.setDate(n),d.date[0]=j.setHours(0,0,0,0).valueOf(),j.setHours(23,59,59,0),j.addDays(6),d.date[1]=j.valueOf(),m=!0,l=!0,d.lastSel=!1}else if(f.hasClass("datepickerMonth"))switch(j.addMonths(i-Math.floor(d.calendars/2)),h.get(0).className){case"datepickerViewDays":h.get(0).className="datepickerViewMonths",c.find("span").text(j.getFullYear());break;case"datepickerViewMonths":h.get(0).className="datepickerViewYears",c.find("span").text(j.getFullYear()-6+" - "+(j.getFullYear()+5));break;case"datepickerViewYears":h.get(0).className="datepickerViewDays",c.find("span").text(g(j,"B, Y"))}else if(f.parent().parent().is("thead")){switch(h.get(0).className){case"datepickerViewDays":d.current.addMonths(f.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":d.current.addYears(f.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":d.current.addYears(f.hasClass("datepickerGoPrev")?-12:12)}m=!0}}else if(f.is("td")&&!f.hasClass("datepickerDisabled")){switch(h.get(0).className){case"datepickerViewMonths":d.current.setMonth(h.find("tbody.datepickerMonths td").index(f)),d.current.setFullYear(parseInt(h.find("thead th.datepickerMonth span").text(),10)),d.current.addMonths(Math.floor(d.calendars/2)-i),h.get(0).className="datepickerViewDays";break;case"datepickerViewYears":d.current.setFullYear(parseInt(c.text(),10)),h.get(0).className="datepickerViewMonths";break;default:l=!0;var n=parseInt(c.text(),10);switch(j.addMonths(i-Math.floor(d.calendars/2)),f.hasClass("datepickerNotInMonth")&&j.addMonths(n>15?-1:1),j.setDate(n),d.mode){case"multiple":n=j.setHours(0,0,0,0).valueOf(),a.inArray(n,d.date)>-1?a.each(d.date,function(a,b){return b==n?(d.date.splice(a,1),!1):void 0}):d.date.push(n);break;case"range":d.lastSel||(d.date[0]=j.setHours(0,0,0,0).valueOf()),n=j.setHours(23,59,59,0).valueOf(),n<d.date[0]?(d.date[1]=d.date[0]+86399e3,d.date[0]=n-86399e3):d.date[1]=n,d.lastSel=!d.lastSel;break;default:d.date=j.valueOf()}}m=!0}m&&e(this),l&&d.onChange.apply(this,k(d))}return!1},k=function(b){var c;return"single"==b.mode?(c=new Date(b.date),[g(c,b.format),c,b.el]):(c=[[],[],b.el],a.each(b.date,function(a,d){var e=new Date(d);c[0].push(g(e,b.format)),c[1].push(e)}),c)},l=function(){var a="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(a?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(a?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(a?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(a?document.documentElement.clientHeight:document.body.clientHeight)}},m=function(a,b,c){if(a==b)return!0;if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(var d=b.parentNode;d&&d!=c;){if(d==a)return!0;d=d.parentNode}return!1},n=function(){var b=a("#"+a(this).data("datepickerId"));if(!b.is(":visible")){var c=b.get(0);e(c);var d=b.data("datepicker");d.onBeforeShow.apply(this,[b.get(0)]);var f=a(this).offset(),g=l(),h=f.top,j=f.left;switch(a.css(c,"display"),b.css({visibility:"hidden",display:"block"}),i(c),d.position){case"top":h-=c.offsetHeight;break;case"left":j-=c.offsetWidth;break;case"right":j+=this.offsetWidth;break;case"bottom":h+=this.offsetHeight}h+c.offsetHeight>g.t+g.h&&(h=f.top-c.offsetHeight),h<g.t&&(h=f.top+this.offsetHeight+c.offsetHeight),j+c.offsetWidth>g.l+g.w&&(j=f.left-c.offsetWidth),j<g.l&&(j=f.left+this.offsetWidth),b.css({visibility:"visible",display:"block",top:h+"px",left:j+"px"}),0!=d.onShow.apply(this,[b.get(0)])&&b.show(),a(document).bind("mousedown",{cal:b,trigger:this},o),gemini_commons.inputKeyHandler(this,null,function(){b.hide(),a(document).unbind("mousedown",o),gemini_commons.inputKeyHandlerUnbind(this)},null)}return!1},o=function(b){b.target==b.data.trigger||m(b.data.cal.get(0),b.target,b.data.cal.get(0))||(0!=b.data.cal.data("datepicker").onHide.apply(this,[b.data.cal.get(0)])&&b.data.cal.hide(),a(document).unbind("mousedown",o),gemini_commons.inputKeyHandlerUnbind(this))};return{init:function(g){return g=a.extend({},d,g||{}),h(g.locale),g.calendars=Math.max(1,parseInt(g.calendars,10)||1),g.mode=/single|multiple|range/.test(g.mode)?g.mode:"single",this.each(function(){if(!a(this).data("datepicker")){if(g.el=this,g.date.constructor==String&&(g.date=f(g.date,g.format),isNaN(g.date)&&(g.date=new Date),g.date.setHours(0,0,0,0)),"single"!=g.mode)if(g.date.constructor!=Array)g.date=[g.date.valueOf()],"range"==g.mode&&g.date.push(new Date(g.date[0]).setHours(23,59,59,0).valueOf());else{for(var d=0;d<g.date.length;d++)g.date[d]=f(g.date[d],g.format).setHours(0,0,0,0).valueOf();"range"==g.mode&&(g.date[1]=new Date(g.date[1]).setHours(23,59,59,0).valueOf())}else g.date=g.date.valueOf();g.current=g.current?f(g.current,g.format):new Date,g.current.setDate(1),g.current.setHours(0,0,0,0);var h,k="datepicker_"+parseInt(1e3*Math.random());g.id=k,a(this).data("datepickerId",g.id);var l=a(c.wrapper).attr("id",k).bind("click",j).data("datepicker",g);g.className&&l.addClass(g.className);for(var m="",d=0;d<g.calendars;d++)h=g.starts,d>0&&(m+=c.space),m+=tmpl(c.head.join(""),{week:g.locale.weekMin,prev:g.prev,next:g.next,day1:g.locale.daysMin[h++%7],day2:g.locale.daysMin[h++%7],day3:g.locale.daysMin[h++%7],day4:g.locale.daysMin[h++%7],day5:g.locale.daysMin[h++%7],day6:g.locale.daysMin[h++%7],day7:g.locale.daysMin[h++%7]});l.find("tr:first").append(m).find("table").addClass(b[g.view]),e(l.get(0)),g.flat?(l.appendTo(this).show().css("position","relative"),i(l.get(0))):(l.appendTo(document.body),a(this).bind(g.eventName,n))}})},showPicker:function(){return this.each(function(){a(this).data("datepickerId")&&n.apply(this)})},hidePicker:function(){return this.each(function(){a(this).data("datepickerId")&&a("#"+a(this).data("datepickerId")).hide()})},setDate:function(b,c){return this.each(function(){if(a(this).data("datepickerId")){var d=a("#"+a(this).data("datepickerId")),g=d.data("datepicker");if(g.date=b,g.date.constructor==String&&(g.date=f(g.date,g.format),isNaN(g.date)&&(g.date=new Date),g.date.setHours(0,0,0,0)),"single"!=g.mode)if(g.date.constructor!=Array)g.date=[g.date.valueOf()],"range"==g.mode&&g.date.push(new Date(g.date[0]).setHours(23,59,59,0).valueOf());else{for(var h=0;h<g.date.length;h++)g.date[h]=f(g.date[h],g.format).setHours(0,0,0,0).valueOf();"range"==g.mode&&(g.date[1]=new Date(g.date[1]).setHours(23,59,59,0).valueOf())}else g.date=g.date.valueOf();c&&(g.current=new Date("single"!=g.mode?g.date[0]:g.date)),e(d.get(0))}})},getDate:function(b){return this.size()>0?k(a("#"+a(this).data("datepickerId")).data("datepicker"))[b?0:1]:void 0},clear:function(){return this.each(function(){if(a(this).data("datepickerId")){var b=a("#"+a(this).data("datepickerId")),c=b.data("datepicker");"single"!=c.mode&&(c.date=[],e(b.get(0)))}})},fixLayout:function(){return this.each(function(){if(a(this).data("datepickerId")){var b=a("#"+a(this).data("datepickerId")),c=b.data("datepicker");c.flat&&i(b.get(0))}})}}}();a.fn.extend({DatePicker:b.init,DatePickerHide:b.hidePicker,DatePickerShow:b.showPicker,DatePickerSetDate:b.setDate,DatePickerGetDate:b.getDate,DatePickerClear:b.clear,DatePickerLayout:b.fixLayout})}(jQuery),function(){var a={};this.tmpl=function b(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(document.getElementById(c).innerHTML);return d?e(d):e}}(),function(a,b,c){a.fn.jScrollPane=function(b){function d(b,d){function e(d){var g,i,k,l,m,p,q=!1,r=!1;if(P=d,Q===c)m=b.scrollTop(),p=b.scrollLeft(),b.css({overflow:"hidden",padding:0}),R=b.innerWidth()+tb,S=b.innerHeight(),b.width(R),P.skipDivWrap?(Q=a(".jspPane",b).css("padding",sb),T=a(".jspContainer",b).css({width:R+"px",height:S+"px"})):(Q=a('<div class="jspPane" />').css("padding",sb).append(b.children()),T=a('<div class="jspContainer" />').css({width:R+"px",height:S+"px"}).append(Q).appendTo(b));else{if(b.css("width",""),q=P.stickToBottom&&B(),r=P.stickToRight&&C(),l=b.innerWidth()+tb!=R||b.outerHeight()!=S,l&&(R=b.innerWidth()+tb,S=b.innerHeight(),T.css({width:R+"px",height:S+"px"})),!l&&ub==U&&Q.outerHeight()==V)return b.width(R),void 0;ub=U,Q.css("width",""),b.width(R),T.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}Q.css("overflow","auto"),U=d.contentWidth?d.contentWidth:Q[0].scrollWidth,V=Q[0].scrollHeight,Q.css("overflow",""),W=U/R,X=V/S,Y=X>1,Z=W>1,Z||Y?(b.addClass("jspScrollable"),g=P.maintainPosition&&(ab||db),g&&(i=z(),k=A()),f(),h(),j(),g&&(x(r?U-R:i,!1),w(q?V-S:k,!1)),G(),D(),N(),P.enableKeyboardNavigation&&I(),P.clickOnTrack&&n(),K(),P.hijackInternalLinks&&M()):(b.removeClass("jspScrollable"),Q.css({top:0,width:T.width()-tb}),E(),H(),J(),o(),L()),P.autoReinitialise&&!rb?rb=setInterval(function(){e(P)},P.autoReinitialiseDelay):!P.autoReinitialise&&rb&&clearInterval(rb),m&&b.scrollTop(0)&&w(m,!1),p&&b.scrollLeft(0)&&x(p,!1),b.trigger("jsp-initialised",[Z||Y])}function f(){Y&&(T.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),eb=T.find(">.jspVerticalBar"),fb=eb.find(">.jspTrack"),$=fb.find(">.jspDrag"),P.showArrows&&(jb=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",l(0,-1)).bind("click.jsp",F),kb=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",l(0,1)).bind("click.jsp",F),P.arrowScrollOnHover&&(jb.bind("mouseover.jsp",l(0,-1,jb)),kb.bind("mouseover.jsp",l(0,1,kb))),k(fb,P.verticalArrowPositions,jb,kb)),hb=S,T.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){hb-=a(this).outerHeight()}),$.hover(function(){$.addClass("jspHover")},function(){$.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",F),$.addClass("jspActive");var c=b.pageY-$.position().top;return a("html").bind("mousemove.jsp",function(a){q(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",p),!1}),g())}function g(){fb.height(hb+"px"),ab=0,gb=P.verticalGutter+fb.outerWidth(),Q.width(R-gb-tb);try{0===eb.position().left&&Q.css("margin-left",gb+"px")}catch(a){}}function h(){Z&&(T.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),lb=T.find(">.jspHorizontalBar"),mb=lb.find(">.jspTrack"),bb=mb.find(">.jspDrag"),P.showArrows&&(pb=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",l(-1,0)).bind("click.jsp",F),qb=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",l(1,0)).bind("click.jsp",F),P.arrowScrollOnHover&&(pb.bind("mouseover.jsp",l(-1,0,pb)),qb.bind("mouseover.jsp",l(1,0,qb))),k(mb,P.horizontalArrowPositions,pb,qb)),bb.hover(function(){bb.addClass("jspHover")},function(){bb.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",F),bb.addClass("jspActive");var c=b.pageX-bb.position().left;return a("html").bind("mousemove.jsp",function(a){s(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",p),!1}),nb=T.innerWidth(),i())}function i(){T.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){nb-=a(this).outerWidth()}),mb.width(nb+"px"),db=0}function j(){if(Z&&Y){var b=mb.outerHeight(),c=fb.outerWidth();hb-=b,a(lb).find(">.jspCap:visible,>.jspArrow").each(function(){nb+=a(this).outerWidth()}),nb-=c,S-=c,R-=b,mb.parent().append(a('<div class="jspCorner" />').css("width",b+"px")),g(),i()}Z&&Q.width(T.outerWidth()-tb+"px"),V=Q.outerHeight(),X=V/S,Z&&(ob=Math.ceil(1/W*nb),ob>P.horizontalDragMaxWidth?ob=P.horizontalDragMaxWidth:ob<P.horizontalDragMinWidth&&(ob=P.horizontalDragMinWidth),bb.width(ob+"px"),cb=nb-ob,t(db)),Y&&(ib=Math.ceil(1/X*hb),ib>P.verticalDragMaxHeight?ib=P.verticalDragMaxHeight:ib<P.verticalDragMinHeight&&(ib=P.verticalDragMinHeight),$.height(ib+"px"),_=hb-ib,r(ab))}function k(a,b,c,d){var e,f="before",g="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split"),b==f?g=b:b==g&&(f=b,e=c,c=d,d=e),a[f](c)[g](d)}function l(a,b,c){return function(){return m(a,b,this,c),this.blur(),!1}}function m(b,c,d,e){d=a(d).addClass("jspActive");var f,g,h=!0,i=function(){0!==b&&vb.scrollByX(b*P.arrowButtonSpeed),0!==c&&vb.scrollByY(c*P.arrowButtonSpeed),g=setTimeout(i,h?P.initialDelay:P.arrowRepeatFreq),h=!1};i(),f=e?"mouseout.jsp":"mouseup.jsp",e=e||a("html"),e.bind(f,function(){d.removeClass("jspActive"),g&&clearTimeout(g),g=null,e.unbind(f)})}function n(){o(),Y&&fb.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageY-f.top-ab,h=!0,i=function(){var a=e.offset(),c=b.pageY-a.top-ib/2,f=S*P.scrollPagePercent,k=_*f/(V-S);if(0>g)ab-k>c?vb.scrollByY(-f):q(c);else{if(!(g>0))return j(),void 0;c>ab+k?vb.scrollByY(f):q(c)}d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}}),Z&&mb.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageX-f.left-db,h=!0,i=function(){var a=e.offset(),c=b.pageX-a.left-ob/2,f=R*P.scrollPagePercent,k=cb*f/(U-R);if(0>g)db-k>c?vb.scrollByX(-f):s(c);else{if(!(g>0))return j(),void 0;c>db+k?vb.scrollByX(f):s(c)}d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}})}function o(){mb&&mb.unbind("mousedown.jsp"),fb&&fb.unbind("mousedown.jsp")}function p(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),$&&$.removeClass("jspActive"),bb&&bb.removeClass("jspActive")}function q(a,b){Y&&(0>a?a=0:a>_&&(a=_),b===c&&(b=P.animateScroll),b?vb.animate($,"top",a,r):($.css("top",a),r(a)))}function r(a){a===c&&(a=$.position().top),T.scrollTop(0),ab=a;var d=0===ab,e=ab==_,f=a/_,g=-f*(V-S);(wb!=d||yb!=e)&&(wb=d,yb=e,b.trigger("jsp-arrow-change",[wb,yb,xb,zb])),u(d,e),Q.css("top",g),b.trigger("jsp-scroll-y",[-g,d,e]).trigger("scroll")}function s(a,b){Z&&(0>a?a=0:a>cb&&(a=cb),b===c&&(b=P.animateScroll),b?vb.animate(bb,"left",a,t):(bb.css("left",a),t(a)))}function t(a){a===c&&(a=bb.position().left),T.scrollTop(0),db=a;var d=0===db,e=db==cb,f=a/cb,g=-f*(U-R);(xb!=d||zb!=e)&&(xb=d,zb=e,b.trigger("jsp-arrow-change",[wb,yb,xb,zb])),v(d,e),Q.css("left",g),b.trigger("jsp-scroll-x",[-g,d,e]).trigger("scroll")}function u(a,b){P.showArrows&&(jb[a?"addClass":"removeClass"]("jspDisabled"),kb[b?"addClass":"removeClass"]("jspDisabled"))}function v(a,b){P.showArrows&&(pb[a?"addClass":"removeClass"]("jspDisabled"),qb[b?"addClass":"removeClass"]("jspDisabled"))}function w(a,b){var c=a/(V-S);q(c*_,b)}function x(a,b){var c=a/(U-R);s(c*cb,b)}function y(b,c,d){var e,f,g,h,i,j,k,l,m,n=0,o=0;try{e=a(b)}catch(p){return}for(f=e.outerHeight(),g=e.outerWidth(),T.scrollTop(0),T.scrollLeft(0);!e.is(".jspPane");)if(n+=e.position().top,o+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;h=A(),j=h+S,h>n||c?l=n-P.verticalGutter:n+f>j&&(l=n-S+f+P.verticalGutter),l&&w(l,d),i=z(),k=i+R,i>o||c?m=o-P.horizontalGutter:o+g>k&&(m=o-R+g+P.horizontalGutter),m&&x(m,d)}function z(){return-Q.position().left}function A(){return-Q.position().top}function B(){var a=V-S;return a>20&&a-A()<10}function C(){var a=U-R;return a>20&&a-z()<10}function D(){T.unbind(Bb).bind(Bb,function(a,b,c,d){return vb.scrollBy(c*P.mouseWheelSpeed,-d*P.mouseWheelSpeed,!1),!1})}function E(){T.unbind(Bb)}function F(){return!1}function G(){Q.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){y(a.target,!1)})}function H(){Q.find(":input,a").unbind("focus.jsp")}function I(){function c(){var a=db,b=ab;switch(d){case 40:vb.scrollByY(P.keyboardSpeed,!1);break;case 38:vb.scrollByY(-P.keyboardSpeed,!1);break;case 34:case 32:vb.scrollByY(S*P.scrollPagePercent,!1);break;case 33:vb.scrollByY(-S*P.scrollPagePercent,!1);break;case 39:vb.scrollByX(P.keyboardSpeed,!1);break;case 37:vb.scrollByX(-P.keyboardSpeed,!1)}return e=a!=db||b!=ab}var d,e,f=[];Z&&f.push(lb[0]),Y&&f.push(eb[0]),Q.focus(function(){b.focus()}),b.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(b){if(b.target===this||f.length&&a(b.target).closest(f).length){var g=db,h=ab;switch(b.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:d=b.keyCode,c();break;case 35:w(V-S),d=null;break;case 36:w(0),d=null}return e=b.keyCode==d&&g!=db||h!=ab,!e}}).bind("keypress.jsp",function(a){return a.keyCode==d&&c(),!e}),P.hideFocus?(b.css("outline","none"),"hideFocus"in T[0]&&b.attr("hideFocus",!0)):(b.css("outline",""),"hideFocus"in T[0]&&b.attr("hideFocus",!1))}function J(){b.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function K(){if(location.hash&&location.hash.length>1){var b,c,d=escape(location.hash);try{b=a(d)}catch(e){return}b.length&&Q.find(d)&&(0===T.scrollTop()?c=setInterval(function(){T.scrollTop()>0&&(y(d,!0),a(document).scrollTop(T.position().top),clearInterval(c))},50):(y(d,!0),a(document).scrollTop(T.position().top)))}}function L(){a("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function M(){L(),a("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var a,b=this.href.split("#");return b.length>1&&(a=b[1],a.length>0&&Q.find("#"+a).length>0)?(y("#"+a,!0),!1):void 0})}function N(){var a,b,c,d,e,f=!1;T.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(g){var h=g.originalEvent.touches[0];a=z(),b=A(),c=h.pageX,d=h.pageY,e=!1,f=!0}).bind("touchmove.jsp",function(g){if(f){var h=g.originalEvent.touches[0],i=db,j=ab;return vb.scrollTo(a+c-h.pageX,b+d-h.pageY),e=e||Math.abs(c-h.pageX)>5||Math.abs(d-h.pageY)>5,i==db&&j==ab}}).bind("touchend.jsp",function(){f=!1}).bind("click.jsp-touchclick",function(){return e?(e=!1,!1):void 0})}function O(){var a=A(),c=z();b.removeClass("jspScrollable").unbind(".jsp"),P.skipDivWrap||b.replaceWith(Ab.append(Q.children())),Ab.scrollTop(a),Ab.scrollLeft(c),rb&&clearInterval(rb)}var P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb=this,wb=!0,xb=!0,yb=!1,zb=!1,Ab=b.clone(!1,!1).empty(),Bb=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";sb=b.css("paddingTop")+" "+b.css("paddingRight")+" "+b.css("paddingBottom")+" "+b.css("paddingLeft"),tb=(parseInt(b.css("paddingLeft"),10)||0)+(parseInt(b.css("paddingRight"),10)||0),a.extend(vb,{reinitialise:function(b){b=a.extend({},P,b),e(b)},scrollToElement:function(a,b,c){y(a,b,c)},scrollTo:function(a,b,c){x(a,c),w(b,c)},scrollToX:function(a,b){x(a,b)},scrollToY:function(a,b){w(a,b)},scrollToPercentX:function(a,b){x(a*(U-R),b)},scrollToPercentY:function(a,b){w(a*(V-S),b)},scrollBy:function(a,b,c){vb.scrollByX(a,c),vb.scrollByY(b,c)},scrollByX:function(a,b){var c=z()+Math[0>a?"floor":"ceil"](a),d=c/(U-R);s(d*cb,b)},scrollByY:function(a,b){var c=A()+Math[0>a?"floor":"ceil"](a),d=c/(V-S);q(d*_,b)},positionDragX:function(a,b){s(a,b)},positionDragY:function(a,b){q(a,b)},animate:function(a,b,c,d){var e={};e[b]=c,a.animate(e,{duration:P.animateDuration,easing:P.animateEase,queue:!1,step:d})},getContentPositionX:function(){return z()},getContentPositionY:function(){return A()},getContentWidth:function(){return U},getContentHeight:function(){return V},getPercentScrolledX:function(){return z()/(U-R)},getPercentScrolledY:function(){return A()/(V-S)},getIsScrollableH:function(){return Z},getIsScrollableV:function(){return Y},getContentPane:function(){return Q},scrollToBottom:function(a){q(_,a)},hijackInternalLinks:function(){M()},destroy:function(){O()}}),e(d)}return b=a.extend({},a.fn.jScrollPane.defaults,b),a.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){b[this]=b[this]||b.speed}),this.each(function(){var c=a(this),e=c.data("jsp");e?e.reinitialise(b):(e=new d(c,b),c.data("jsp",e))})},a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8,skipDivWrap:!1}}(jQuery,this),function(a,b,c){function d(c,d,e){var f=b.createElement(c);return d&&(f.id=Z+d),e&&(f.style.cssText=e),a(f)}function e(a){var b=x.length,c=(P+a)%b;return 0>c?b+c:c}function f(a,b){return Math.round((/%/.test(a)?("x"===b?h():i())/100:1)*parseInt(a,10))}function g(a){return J.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(a)}function h(){return c.innerWidth||y.width()}function i(){return c.innerHeight||y.height()}function j(){var b,c=a.data(O,Y);null==c?(J=a.extend({},X),console&&console.log&&console.log("Error: cboxElement missing settings object")):J=a.extend({},c);for(b in J)a.isFunction(J[b])&&"on"!==b.slice(0,2)&&(J[b]=J[b].call(O));J.rel=J.rel||O.rel||"nofollow",J.href=J.href||a(O).attr("href"),J.title=J.title||O.title,"string"==typeof J.href&&(J.href=a.trim(J.href))}function k(b,c){a.event.trigger(b),c&&c.call(O)}function l(){var a,b,c,d=Z+"Slideshow_",e="click."+Z;J.slideshow&&x[1]?(b=function(){E.text(J.slideshowStop).unbind(e).bind(bb,function(){(J.loop||x[P+1])&&(a=setTimeout(V.next,J.slideshowSpeed))}).bind(ab,function(){clearTimeout(a)}).one(e+" "+cb,c),q.removeClass(d+"off").addClass(d+"on"),a=setTimeout(V.next,J.slideshowSpeed)},c=function(){clearTimeout(a),E.text(J.slideshowStart).unbind([bb,ab,cb,e].join(" ")).one(e,function(){V.next(),b()}),q.removeClass(d+"on").addClass(d+"off")},J.slideshowAuto?b():c()):q.removeClass(d+"off "+d+"on")}function m(b){T||(O=b,j(),x=a(O),P=0,"nofollow"!==J.rel&&(x=a("."+$).filter(function(){var b,c=a.data(this,Y);return c&&(b=c.rel||this.rel),b===J.rel}),P=x.index(O),-1===P&&(x=x.add(O),P=x.length-1)),R||(R=S=!0,q.show(),J.returnFocus&&a(O).blur().one(db,function(){a(this).focus()}),p.css({opacity:+J.opacity,cursor:J.overlayClose?"pointer":"auto"}).show(),J.w=f(J.initialWidth,"x"),J.h=f(J.initialHeight,"y"),V.position(),gb&&y.bind("resize."+hb+" scroll."+hb,function(){p.css({width:h(),height:i(),top:y.scrollTop(),left:y.scrollLeft()})}).trigger("resize."+hb),k(_,J.onOpen),I.add(C).hide(),H.html(J.close).show()),V.load(!0))}function n(){!q&&b.body&&(W=!1,y=a(c),q=d(ib).attr({id:Y,"class":fb?Z+(gb?"IE6":"IE"):""}).hide(),p=d(ib,"Overlay",gb?"position:absolute":"").hide(),B=d(ib,"LoadingOverlay").add(d(ib,"LoadingGraphic")),r=d(ib,"Wrapper"),s=d(ib,"Content").append(z=d(ib,"LoadedContent","width:0; height:0; overflow:hidden"),C=d(ib,"Title"),D=d(ib,"Current"),F=d(ib,"Next"),G=d(ib,"Previous"),E=d(ib,"Slideshow").bind(_,l),H=d(ib,"Close")),r.append(d(ib).append(d(ib,"TopLeft"),t=d(ib,"TopCenter"),d(ib,"TopRight")),d(ib,!1,"clear:left").append(u=d(ib,"MiddleLeft"),s,v=d(ib,"MiddleRight")),d(ib,!1,"clear:left").append(d(ib,"BottomLeft"),w=d(ib,"BottomCenter"),d(ib,"BottomRight"))).find("div div").css({"float":"left"}),A=d(ib,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),I=F.add(G).add(D).add(E),a(b.body).append(p,q.append(r,A)))}function o(){return q?(W||(W=!0,K=t.height()+w.height()+s.outerHeight(!0)-s.height(),L=u.width()+v.width()+s.outerWidth(!0)-s.width(),M=z.outerHeight(!0),N=z.outerWidth(!0),q.css({"padding-bottom":K,"padding-right":L}),F.click(function(){V.next()}),G.click(function(){V.prev()}),H.click(function(){V.close()}),p.click(function(){J.overlayClose&&V.close()}),a(b).bind("keydown."+Z,function(a){var b=a.keyCode;R&&J.escKey&&27===b&&(a.preventDefault(),V.close()),R&&J.arrowKey&&x[1]&&(37===b?(a.preventDefault(),G.click()):39===b&&(a.preventDefault(),F.click()))}),a("."+$,b).live("click",function(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||(a.preventDefault(),m(this))})),!0):!1}var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!1,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.6,preloading:!0,current:"",previous:"",next:"",close:"",xhrError:"",imgError:"",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"",slideshowStop:"",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},Y="colorbox",Z="cbox",$=Z+"Element",_=Z+"_open",ab=Z+"_load",bb=Z+"_complete",cb=Z+"_cleanup",db=Z+"_closed",eb=Z+"_purge",fb=!a.support.opacity&&!a.support.style,gb=fb&&!c.XMLHttpRequest,hb=Z+"_IE6",ib="div";a.colorbox||(a(n),V=a.fn[Y]=a[Y]=function(b,c){var d=this;if(b=b||{},n(),o()){if(!d[0]){if(d.selector)return d;d=a("<a/>"),b.open=!0}c&&(b.onComplete=c),d.each(function(){a.data(this,Y,a.extend({},a.data(this,Y)||X,b))}).addClass($),(a.isFunction(b.open)&&b.open.call(d)||b.open)&&m(d[0])}return d},V.position=function(a,b){function c(a){t[0].style.width=w[0].style.width=s[0].style.width=a.style.width,s[0].style.height=u[0].style.height=v[0].style.height=a.style.height}var d,e,g,j=0,k=0,l=q.offset();y.unbind("resize."+Z),q.css({top:-9e4,left:-9e4}),e=y.scrollTop(),g=y.scrollLeft(),J.fixed&&!gb?(l.top-=e,l.left-=g,q.css({position:"fixed"})):(j=e,k=g,q.css({position:"absolute"})),k+=J.right!==!1?Math.max(h()-J.w-N-L-f(J.right,"x"),0):J.left!==!1?f(J.left,"x"):Math.round(Math.max(h()-J.w-N-L,0)/2),j+=J.bottom!==!1?Math.max(i()-J.h-M-K-f(J.bottom,"y"),0):J.top!==!1?f(J.top,"y"):Math.round(Math.max(i()-J.h-M-K,0)/2),q.css({top:l.top,left:l.left}),a=q.width()===J.w+N&&q.height()===J.h+M?0:a||0,r[0].style.width=r[0].style.height="9999px",d={width:J.w+N,height:J.h+M,top:j,left:k},0===a&&q.css(d),q.dequeue().animate(d,{duration:a,complete:function(){c(this),S=!1,r[0].style.width=J.w+N+L+"px",r[0].style.height=J.h+M+K+"px",J.reposition&&setTimeout(function(){y.bind("resize."+Z,V.position)},1),b&&b()},step:function(){c(this)}})},V.resize=function(a){R&&(a=a||{},a.width&&(J.w=f(a.width,"x")-N-L),a.innerWidth&&(J.w=f(a.innerWidth,"x")),z.css({width:J.w}),a.height&&(J.h=f(a.height,"y")-M-K),a.innerHeight&&(J.h=f(a.innerHeight,"y")),a.innerHeight||a.height||(z.css({height:"auto"}),J.h=z.height()),z.css({height:J.h}),V.position("none"===J.transition?0:J.speed))},V.prep=function(b){function c(){return J.w=J.w||z.width(),J.w=J.mw&&J.mw<J.w?J.mw:J.w,J.w}function f(){return J.h=J.h||z.height(),J.h=J.mh&&J.mh<J.h?J.mh:J.h,J.h}if(R){var h,i="none"===J.transition?0:J.speed;z.remove(),z=d(ib,"LoadedContent").append(b),z.hide().appendTo(A.show()).css({width:c(),overflow:J.scrolling?"auto":"hidden"}).css({height:f()}).prependTo(s),A.hide(),a(Q).css({"float":"none"}),gb&&a("select").not(q.find("select")).filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one(cb,function(){this.style.visibility="inherit"}),h=function(){function b(){fb&&q[0].style.removeAttribute("filter")}var c,f,h,j,l,m,n,o=x.length,p="frameBorder",r="allowTransparency";if(R){if(j=function(){clearTimeout(U),B.detach().hide(),k(bb,J.onComplete)},fb&&Q&&z.fadeIn(100),C.html(J.title).add(z).show(),o>1){if("string"==typeof J.current&&D.html(J.current.replace("{current}",P+1).replace("{total}",o)).show(),F[J.loop||o-1>P?"show":"hide"]().html(J.next),G[J.loop||P?"show":"hide"]().html(J.previous),J.slideshow&&E.show(),J.preloading)for(c=[e(-1),e(1)];f=x[c.pop()];)n=a.data(f,Y),n&&n.href?(l=n.href,a.isFunction(l)&&(l=l.call(f))):l=f.href,g(l)&&(m=new Image,m.src=l)}else I.hide();J.iframe?(h=d("iframe")[0],p in h&&(h[p]=0),r in h&&(h[r]="true"),h.name=Z+ +new Date,J.fastIframe?j():a(h).one("load",j),h.src=J.href,J.scrolling||(h.scrolling="no"),a(h).addClass(Z+"Iframe").appendTo(z).one(eb,function(){h.src="//about:blank"})):j(),"fade"===J.transition?q.fadeTo(i,1,b):b()}},"fade"===J.transition?q.fadeTo(i,0,function(){V.position(0,h)}):V.position(i,h)}},V.load=function(b){var c,e,h=V.prep;S=!0,Q=!1,O=x[P],b||j(),k(eb),k(ab,J.onLoad),J.h=J.height?f(J.height,"y")-M-K:J.innerHeight&&f(J.innerHeight,"y"),J.w=J.width?f(J.width,"x")-N-L:J.innerWidth&&f(J.innerWidth,"x"),J.mw=J.w,J.mh=J.h,J.maxWidth&&(J.mw=f(J.maxWidth,"x")-N-L,J.mw=J.w&&J.w<J.mw?J.w:J.mw),J.maxHeight&&(J.mh=f(J.maxHeight,"y")-M-K,J.mh=J.h&&J.h<J.mh?J.h:J.mh),c=J.href,U=setTimeout(function(){B.show().appendTo(s)},100),J.inline?(d(ib).hide().insertBefore(a(c)[0]).one(eb,function(){a(this).replaceWith(z.children())}),h(a(c))):J.iframe?h(" "):J.html?h(J.html):g(c)?(a(Q=new Image).addClass(Z+"Photo").error(function(){J.title=!1,h(d(ib,"Error").html(J.imgError))}).load(function(){var a;Q.onload=null,J.scalePhotos&&(e=function(){Q.height-=Q.height*a,Q.width-=Q.width*a},J.mw&&Q.width>J.mw&&(a=(Q.width-J.mw)/Q.width,e()),J.mh&&Q.height>J.mh&&(a=(Q.height-J.mh)/Q.height,e())),J.h&&(Q.style.marginTop=Math.max(J.h-Q.height,0)/2+"px"),x[1]&&(J.loop||x[P+1])&&(Q.style.cursor="pointer",Q.onclick=function(){V.next()}),fb&&(Q.style.msInterpolationMode="bicubic"),setTimeout(function(){h(Q)},1)}),setTimeout(function(){Q.src=c},1)):c&&A.load(c,J.data,function(b,c){h("error"===c?d(ib,"Error").html(J.xhrError):a(this).contents())})},V.next=function(){!S&&x[1]&&(J.loop||x[P+1])&&(P=e(1),V.load())},V.prev=function(){!S&&x[1]&&(J.loop||P)&&(P=e(-1),V.load())},V.close=function(){R&&!T&&(T=!0,R=!1,k(cb,J.onCleanup),y.unbind("."+Z+" ."+hb),p.fadeTo(200,0),q.stop().fadeTo(300,0,function(){q.add(p).css({opacity:1,cursor:"auto"}).hide(),k(eb),z.remove(),setTimeout(function(){T=!1,k(db,J.onClosed)},1)}))},V.remove=function(){a([]).add(q).add(p).remove(),q=null,a("."+$).removeData(Y).removeClass($).die()},V.element=function(){return a(O)},V.settings=X)}(jQuery,document,this);var qq=qq||{};qq.extend=function(a,b){for(var c in b)a[c]=b[c]},qq.indexOf=function(a,b,c){if(a.indexOf)return a.indexOf(b,c);c=c||0;var d=a.length;for(0>c&&(c+=d);d>c;c++)if(c in a&&a[c]===b)return c;return-1},qq.getUniqueId=function(){var a=0;return function(){return a++}}(),qq.attach=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},qq.detach=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.attachEvent&&a.detachEvent("on"+b,c)},qq.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b)},qq.remove=function(a){a.parentNode.removeChild(a)},qq.contains=function(a,b){return a==b?!0:a.contains?a.contains(b):!!(8&b.compareDocumentPosition(a))},qq.toElement=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;var c=a.firstChild;return a.removeChild(c),c}}(),qq.css=function(a,b){null!=b.opacity&&"string"!=typeof a.style.opacity&&"undefined"!=typeof a.filters&&(b.filter="alpha(opacity="+Math.round(100*b.opacity)+")"),qq.extend(a.style,b)
},qq.hasClass=function(a,b){var c=new RegExp("(^| )"+b+"( |$)");return c.test(a.className)},qq.addClass=function(a,b){qq.hasClass(a,b)||(a.className+=" "+b)},qq.removeClass=function(a,b){var c=new RegExp("(^| )"+b+"( |$)");a.className=a.className.replace(c," ").replace(/^\s+|\s+$/g,"")},qq.setText=function(a,b){a.innerText=b,a.textContent=b},qq.children=function(a){for(var b=[],c=a.firstChild;c;)1==c.nodeType&&b.push(c),c=c.nextSibling;return b},qq.getByClass=function(a,b){if(a.querySelectorAll)return a.querySelectorAll("."+b);for(var c=[],d=a.getElementsByTagName("*"),e=d.length,f=0;e>f;f++)qq.hasClass(d[f],b)&&c.push(d[f]);return c},qq.obj2url=function(a,b,c){var d=[],e="&",f=function(a,c){var e=b?/\[\]$/.test(b)?b:b+"["+c+"]":c;"undefined"!=e&&"undefined"!=c&&d.push("object"==typeof a?qq.obj2url(a,e,!0):"[object Function]"===Object.prototype.toString.call(a)?encodeURIComponent(e)+"="+encodeURIComponent(a()):encodeURIComponent(e)+"="+encodeURIComponent(a))};if(!c&&b)e=/\?/.test(b)?/\?$/.test(b)?"":"&":"?",d.push(b),d.push(qq.obj2url(a));else if("[object Array]"===Object.prototype.toString.call(a)&&"undefined"!=typeof a)for(var g=0,h=a.length;h>g;++g)f(a[g],g);else if("undefined"!=typeof a&&null!==a&&"object"==typeof a)for(var g in a)f(a[g],g);else d.push(encodeURIComponent(b)+"="+encodeURIComponent(a));return d.join(e).replace(/^&/,"").replace(/%20/g,"+")};var qq=qq||{};qq.FileUploaderBasic=function(a){this._options={debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(){},taxonomy:{uploadButton:"Upload the files!",dropZone:"drop files here to upload"}},qq.extend(this._options,a),this._filesInProgress=0,this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FileUploaderBasic.prototype={setParams:function(a){this._options.params=a},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(a){var b=this;return new qq.UploadButton({element:a,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(a){b._onInputChange(a)}})},_createUploadHandler:function(){var a,b=this;a=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm";var c=new qq[a]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(a,c,d,e){b._onProgress(a,c,d,e),b._options.onProgress(a,c,d,e)},onComplete:function(a,c,d){b._onComplete(a,c,d),b._options.onComplete(a,c,d)},onCancel:function(a,c){b._onCancel(a,c),b._options.onCancel(a,c)}});return c},_preventLeaveInProgress:function(){var a=this;qq.attach(window,"beforeunload",function(b){if(a._filesInProgress){var b=b||window.event;return b.returnValue=a._options.messages.onLeave,a._options.messages.onLeave}})},_onSubmit:function(){this._filesInProgress++},_onProgress:function(){},_onComplete:function(a,b,c){this._filesInProgress--,c.error&&this._options.showMessage(c.error)},_onCancel:function(){this._filesInProgress--},_onInputChange:function(a){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(a.files):this._validateFile(a)&&this._uploadFile(a),this._button.reset()},_uploadFileList:function(a){for(var b=0;b<a.length;b++)if(!this._validateFile(a[b]))return;for(var b=0;b<a.length;b++)this._uploadFile(a[b])},_uploadFile:function(a){var b=this._handler.add(a),c=this._handler.getName(b);this._options.onSubmit(b,c)!==!1&&(this._onSubmit(b,c),this._handler.upload(b,this._options.params))},_validateFile:function(a){var b,c;return a.value?b=a.value.replace(/.*(\/|\\)/,""):(b=null!=a.fileName?a.fileName:a.name,c=null!=a.fileSize?a.fileSize:a.size),this._isAllowedExtension(b)?0===c?(this._error("emptyError",b),!1):c&&this._options.sizeLimit&&c>this._options.sizeLimit?(this._error("sizeError",b),!1):c&&c<this._options.minSizeLimit?(this._error("minSizeError",b),!1):!0:(this._error("typeError",b),!1)},_error:function(a,b){function c(a,b){d=d.replace(a,b)}var d=this._options.messages[a];c("{file}",this._formatFileName(b)),c("{extensions}",this._options.allowedExtensions.join(", ")),c("{sizeLimit}",this._formatSize(this._options.sizeLimit)),c("{minSizeLimit}",this._formatSize(this._options.minSizeLimit)),this._options.showMessage(d)},_formatFileName:function(a){return a.length>33&&(a=a.slice(0,19)+"..."+a.slice(-13)),a},_isAllowedExtension:function(a){var b=-1!==a.indexOf(".")?a.replace(/.*[.]/,"").toLowerCase():"",c=this._options.allowedExtensions;if(!c.length)return!0;for(var d=0;d<c.length;d++)if(c[d].toLowerCase()==b)return!0;return!1},_formatSize:function(a){var b=-1;do a/=1024,b++;while(a>99);return Math.max(a,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][b]}},qq.FileUploader=function(a){qq.FileUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>'+a.taxonomy.dropZone+"</span></div>"+'<div class="qq-upload-button">'+a.taxonomy.uploadButton+"</div>"+'<ul class="qq-upload-list"></ul>'+"</div>",fileTemplate:'<li><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">Cancel</a><span class="qq-upload-failed-text">Failed</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}}),qq.extend(this._options,a),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button=this._createUploadButton(this._find(this._element,"button")),this._bindCancelEvent(),this._setupDragDrop()},qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype),qq.extend(qq.FileUploader.prototype,{_find:function(a,b){var c=qq.getByClass(a,this._options.classes[b])[0];if(!c)throw new Error("element not found "+b);return c},_setupDragDrop:function(){var a=this,b=this._find(this._element,"drop"),c=new qq.UploadDropZone({element:b,onEnter:function(c){qq.addClass(b,a._classes.dropActive),c.stopPropagation()},onLeave:function(a){a.stopPropagation()},onLeaveNotDescendants:function(){qq.removeClass(b,a._classes.dropActive)},onDrop:function(c){b.style.display="none",qq.removeClass(b,a._classes.dropActive),a._uploadFileList(c.dataTransfer.files)}});b.style.display="none",qq.attach(document,"dragenter",function(a){c._isValidFileDrag(a)&&(b.style.display="block")}),qq.attach(document,"dragleave",function(a){if(c._isValidFileDrag(a)){var d=document.elementFromPoint(a.clientX,a.clientY);d&&"HTML"!=d.nodeName||(b.style.display="none")}})},_onSubmit:function(a,b){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(a,b)},_onProgress:function(a,b,c,d){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var e=this._getItemByFileId(a),f=this._find(e,"size");f.style.display="inline";var g;g=c!=d?Math.round(100*(c/d))+"% from "+this._formatSize(d):this._formatSize(d),qq.setText(f,g)},_onComplete:function(a,b,c){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var d=this._getItemByFileId(a);qq.remove(this._find(d,"cancel")),qq.remove(this._find(d,"spinner")),c.success?qq.addClass(d,this._classes.success):qq.addClass(d,this._classes.fail)},_addToList:function(a,b){var c=qq.toElement(this._options.fileTemplate);c.qqFileId=a;var d=this._find(c,"file");qq.setText(d,this._formatFileName(b)),this._find(c,"size").style.display="none",this._listElement.appendChild(c)},_getItemByFileId:function(a){for(var b=this._listElement.firstChild;b;){if(b.qqFileId==a)return b;b=b.nextSibling}},_bindCancelEvent:function(){var a=this,b=this._listElement;qq.attach(b,"click",function(b){b=b||window.event;var c=b.target||b.srcElement;if(qq.hasClass(c,a._classes.cancel)){qq.preventDefault(b);var d=c.parentNode;a._handler.cancel(d.qqFileId),qq.remove(d)}})}}),qq.UploadDropZone=function(a){this._options={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}},qq.extend(this._options,a),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_disableDropOutside:function(){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(a){a.dataTransfer&&(a.dataTransfer.dropEffect="none",a.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var a=this;qq.attach(a._element,"dragover",function(b){if(a._isValidFileDrag(b)){var c=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"==c||"linkMove"==c?"move":"copy",b.stopPropagation(),b.preventDefault()}}),qq.attach(a._element,"dragenter",function(b){a._isValidFileDrag(b)&&a._options.onEnter(b)}),qq.attach(a._element,"dragleave",function(b){if(a._isValidFileDrag(b)){a._options.onLeave(b);var c=document.elementFromPoint(b.clientX,b.clientY);qq.contains(this,c)||a._options.onLeaveNotDescendants(b)}}),qq.attach(a._element,"drop",function(b){a._isValidFileDrag(b)&&(b.preventDefault(),a._options.onDrop(b))})},_isValidFileDrag:function(a){var b=a.dataTransfer,c=navigator.userAgent.indexOf("AppleWebKit")>-1;return b&&"none"!=b.effectAllowed&&(b.files||!c&&b.types.contains&&b.types.contains("Files"))}},qq.UploadButton=function(a){this._options={element:null,multiple:!1,name:"file",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,a),this._element=this._options.element,qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input),qq.removeClass(this._element,this._options.focusClass),this._input=this._createInput()},_createInput:function(){var a=document.createElement("input");this._options.multiple&&a.setAttribute("multiple","multiple"),a.setAttribute("type","file"),a.setAttribute("name",this._options.name),qq.css(a,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(a);var b=this;return qq.attach(a,"change",function(){b._options.onChange(a)}),qq.attach(a,"mouseover",function(){qq.addClass(b._element,b._options.hoverClass)}),qq.attach(a,"mouseout",function(){qq.removeClass(b._element,b._options.hoverClass)}),qq.attach(a,"focus",function(){qq.addClass(b._element,b._options.focusClass)}),qq.attach(a,"blur",function(){qq.removeClass(b._element,b._options.focusClass)}),window.attachEvent&&a.setAttribute("tabIndex","-1"),a}},qq.UploadHandlerAbstract=function(a){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(){},onComplete:function(){},onCancel:function(){}},qq.extend(this._options,a),this._queue=[],this._params=[]},qq.UploadHandlerAbstract.prototype={log:function(a){this._options.debug&&window.console&&console.log("[uploader] "+a)},add:function(){},upload:function(a,b){var c=this._queue.push(a),d={};qq.extend(d,b),this._params[a]=d,c<=this._options.maxConnections&&this._upload(a,this._params[a])},cancel:function(a){this._cancel(a),this._dequeue(a)},cancelAll:function(){for(var a=0;a<this._queue.length;a++)this._cancel(this._queue[a]);this._queue=[]},getName:function(){},getSize:function(){},getQueue:function(){return this._queue},_upload:function(){},_cancel:function(){},_dequeue:function(a){var b=qq.indexOf(this._queue,a);this._queue.splice(b,1);var c=this._options.maxConnections;if(this._queue.length>=c&&c>b){var d=this._queue[c-1];this._upload(d,this._params[d])}}},qq.UploadHandlerForm=function(){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(a){a.setAttribute("name","qqfile");var b="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[b]=a,a.parentNode&&qq.remove(a),b},getName:function(a){return this._inputs[a].value.replace(/.*(\/|\\)/,"")},_cancel:function(a){this._options.onCancel(a,this.getName(a)),delete this._inputs[a];var b=document.getElementById(a);b&&(b.setAttribute("src","javascript:false;"),qq.remove(b))},_upload:function(a,b){var c=this._inputs[a];if(!c)throw new Error("file with passed id was not added, or already uploaded or cancelled");var d=this.getName(a),e=this._createIframe(a),f=this._createForm(e,b);f.appendChild(c);var g=this;return this._attachLoadEvent(e,function(){g.log("iframe loaded");var b=g._getIframeContentJSON(e);g._options.onComplete(a,d,b),g._dequeue(a),delete g._inputs[a],setTimeout(function(){qq.remove(e)},1)}),f.submit(),qq.remove(f),a},_attachLoadEvent:function(a,b){qq.attach(a,"load",function(){a.parentNode&&(a.contentDocument&&a.contentDocument.body&&"false"==a.contentDocument.body.innerHTML||b())})},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(err){response={}}return response},_createIframe:function(a){var b=qq.toElement('<iframe src="javascript:false;" name="'+a+'" />');return b.setAttribute("id",a),b.style.display="none",document.body.appendChild(b),b},_createForm:function(a,b){var c=qq.toElement('<form method="post" enctype="multipart/form-data"></form>'),d=qq.obj2url(b,this._options.action);return c.setAttribute("action",d),c.setAttribute("target",a.name),c.style.display="none",document.body.appendChild(c),c}}),qq.UploadHandlerXhr=function(){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var a=document.createElement("input");return a.type="file","multiple"in a&&"undefined"!=typeof File&&"undefined"!=typeof(new XMLHttpRequest).upload},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(a){if(!(a instanceof File))throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return this._files.push(a)-1},getName:function(a){var b=this._files[a];return null!=b.fileName?b.fileName:b.name},getSize:function(a){var b=this._files[a];return null!=b.fileSize?b.fileSize:b.size},getLoaded:function(a){return this._loaded[a]||0},_upload:function(a,b){var c=this._files[a],d=this.getName(a);this.getSize(a),this._loaded[a]=0;var e=this._xhrs[a]=new XMLHttpRequest,f=this;e.upload.onprogress=function(b){b.lengthComputable&&(f._loaded[a]=b.loaded,f._options.onProgress(a,d,b.loaded,b.total))},e.onreadystatechange=function(){4==e.readyState&&f._onComplete(a,e)},b=b||{},b.qqfile=d;var g=qq.obj2url(b,this._options.action);e.open("POST",g,!0),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-File-Name",encodeURIComponent(d)),e.setRequestHeader("Content-Type","application/octet-stream"),e.send(c)},_onComplete:function(id,xhr){if(this._files[id]){var name=this.getName(id),size=this.getSize(id);if(this._options.onProgress(id,name,size,size),200==xhr.status){this.log("xhr - server response received"),this.log("responseText = "+xhr.responseText);var response;try{response=eval("("+xhr.responseText+")")}catch(err){response={}}this._options.onComplete(id,name,response)}else this._options.onComplete(id,name,{});this._files[id]=null,this._xhrs[id]=null,this._dequeue(id)}},_cancel:function(a){this._options.onCancel(a,this.getName(a)),this._files[a]=null,this._xhrs[a]&&(this._xhrs[a].abort(),this._xhrs[a]=null)}}),function(a){a.widget("ui.nestedSortable",a.extend({},a.ui.sortable.prototype,{options:{tabSize:20,disableNesting:"ui-nestedSortable-no-nesting",errorClass:"ui-nestedSortable-error",listType:"ol",maxLevels:10,noJumpFix:0},_create:function(){return 0==this.noJumpFix&&this.element.height(this.element.height()),this.element.data("sortable",this.element.data("nestedSortable")),a.ui.sortable.prototype._create.apply(this,arguments)},_mouseDrag:function(b){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(h&&g!=this.currentItem[0]&&this.placeholder[1==h?"next":"prev"]()[0]!=g&&!a.contains(this.placeholder[0],g)&&("semi-dynamic"==this.options.type?!a.contains(this.element[0],g):!0)){if(this.direction=1==h?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(b,f),this._clearEmpty(g),this._trigger("change",b,this._uiHash());break}}var i=this.placeholder[0].parentNode.parentNode&&a(this.placeholder[0].parentNode.parentNode).closest(".ui-sortable").length?a(this.placeholder[0].parentNode.parentNode):null,j=this._getLevel(this.placeholder),k=this._getChildLevels(this.helper),l=this.placeholder[0].previousSibling?a(this.placeholder[0].previousSibling):null;if(null!=l)for(;"li"!=l[0].nodeName.toLowerCase()||l[0]==this.currentItem[0];){if(!l[0].previousSibling){l=null;break}l=a(l[0].previousSibling)}return newList=document.createElement(c.listType),this.beyondMaxLevels=0,null!=i&&this.positionAbs.left<i.offset().left?(i.after(this.placeholder[0]),this._clearEmpty(i[0]),this._trigger("change",b,this._uiHash())):null!=l&&this.positionAbs.left>l.offset().left+c.tabSize?(this._isAllowed(l,j+k+1),l.children(c.listType).length||l[0].appendChild(newList),l.children(c.listType)[0].appendChild(this.placeholder[0]),this._trigger("change",b,this._uiHash())):this._isAllowed(i,j+k),this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b){if(this.beyondMaxLevels){for(var c=this.placeholder.parent().closest(this.options.items),d=this.beyondMaxLevels-1;d>0;d--)c=c.parent().closest(this.options.items);this.placeholder.removeClass(this.options.errorClass),c.after(this.placeholder),this._trigger("change",b,this._uiHash())}a.ui.sortable.prototype._mouseStop.apply(this,arguments)},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/),e=(a(b.item||this).parent(b.listType).parent("li").attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"["+(b.key&&b.expression?c[1]:c[2])+"]")+"="+(e?b.key&&b.expression?e[1]:e[2]:"root"))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toHierarchy:function(b){function c(d){var e=(a(d).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);if(null!=e){var f={id:e[2]};return a(d).children(b.listType).children("li").length>0&&(f.children=[],a(d).children(b.listType).children("li").each(function(){var b=c(a(this));f.children.push(b)})),f}}b=b||{},b.startDepthCount||0;var d=[];return a(this.element).children("li").each(function(){var b=c(a(this));d.push(b)}),d},toArray:function(b){function c(a,b){return a.left-b.left}function d(c,g,h){return right=h+1,a(c).children(b.listType).children("li").length>0&&(g++,a(c).children(b.listType).children("li").each(function(){right=d(a(this),g,right)}),g--),id=a(c).attr(b.attribute||"id").match(b.expression||/(.+)[-=_](.+)/),g===e+1?pid="root":(parentItem=a(c).parent(b.listType).parent("li").attr("id").match(b.expression||/(.+)[-=_](.+)/),pid=parentItem[2]),null!=id&&f.push({item_id:id[2],parent_id:pid,depth:g,left:h,right:right}),h=right+1}b=b||{};var e=b.startDepthCount||0,f=[],g=2;return f.push({item_id:"root",parent_id:"none",depth:e,left:"1",right:2*(a("li",this.element).length+1)}),a(this.element).children("li").each(function(){g=d(this,e+1,g)}),f=f.sort(c)},destroy:function(){this.element.removeData("sortable"),this.element.removeData("nestedSortable"),a.Widget.prototype.destroy.call(this)},_clear:function(){a.ui.sortable.prototype._clear.apply(this,arguments);for(var b=this.items.length-1;b>=0;b--){var c=this.items[b].item[0];this._clearEmpty(c)}return!0},_clearEmpty:function(a){a.children[1]&&0==a.children[1].children.length&&a.removeChild(a.children[1])},_getLevel:function(a){var b=1;if(this.options.listType)for(var c=a.closest(this.options.listType);!c.is(".ui-sortable")&&100>b;)b++,c=c.parent().closest(this.options.listType);return b},_getChildLevels:function(b,c){var d=this,e=this.options,f=0;return c=c||0,a(b).children(e.listType).children(e.items).each(function(a,b){f=Math.max(d._getChildLevels(b,c+1),f)}),c?f+1:f},_isAllowed:function(a,b){var c=this.options;null!=a&&a.hasClass(c.disableNesting)?(this.placeholder.addClass(c.errorClass),this.beyondMaxLevels=c.maxLevels<b&&0!=c.maxLevels?b-c.maxLevels:1):c.maxLevels<b&&0!=c.maxLevels?(this.placeholder.addClass(c.errorClass),this.beyondMaxLevels=b-c.maxLevels):(this.placeholder.removeClass(c.errorClass),this.beyondMaxLevels=0)}})),a.ui.nestedSortable.prototype.options=a.extend({},a.ui.sortable.prototype.options,a.ui.nestedSortable.prototype.options)}(jQuery),function(a){"use strict";var b,c={init:function(c){var d={classes:{textContainer:"limTextContainer"},debug:!1,sortableOptions:{disableNesting:"no-nest",forcePlaceholderSize:!0,handle:"div",helper:"clone",items:"li",maxLevels:5,opacity:.6,placeholder:"drag-placeholder",revert:250,tabSize:25,tolerance:"pointer",toleranceElement:"> div"},events:{onAddText:function(){}}};b=a.extend(d,c),a.liManipulator.generate(this)},destroy:function(){},data:function(){var b=a.liManipulator.data();return b},reset:function(){a.liManipulator.reset()}};a.fn.liManipulator=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.tooltip"),this):c.init.apply(this,arguments)},a.liManipulator={generate:function(c){a.liManipulator.initRoot=c,c.empty();var d=a("<ol data-key='root' class='sortable'></ol>");d.appendTo(c);var e=a("<li id='limItem_1'><div class='"+b.classes.textContainer+"'>"+a.liManipulator.textHtml()+"</div></li>").appendTo(d);a("input",e).bind("keydown.additems",function(b){a.liManipulator.keyDown(b,e)}),d.nestedSortable(b.sortableOptions),a.liManipulator._focus(e)},initRoot:null,reset:function(){a.liManipulator.initRoot.empty(),a.liManipulator.generate(a.liManipulator.initRoot)},nextId:2,textHtml:function(){var a="<div class='"+b.classes.textContainer+"'><input type='text' class='input-title width-95' /></div>";return a},createNode:function(c){b.debug&&console.info("Create Node",c);var d=a("<li id='limItem_"+a.liManipulator.nextId+"'>"+a.liManipulator.textHtml()+"</li>");a.liManipulator.nextId++,c.after(d);var e=d.children("div").children("input");a.liManipulator._bindTextboxEvents(e,d),e.focus()},convertTextbox:function(c){b.debug&&console.info("Convert Text Box",c);var d=a(".input-title",c);return""==d.val()?(a("ol[data-key='root']").find("li").length>1&&0==c.find("li").length&&c.remove(),!1):(c.children("div").remove(),c.prepend('<div><span class="fonticon-drag-handle valign-text-bottom margin-right-5" style="color:#C4C4C4;"></span>'+d.val()+"</div>"),b.events.onAddText(),c.children("div").bind("click.edititem",function(b){a.liManipulator._edit(c),b.preventDefault()}),!0)},_rebind:function(){a("ol[data-key='root']").nestedSortable("destroy"),a("ol[data-key='root']").nestedSortable(b.sortableOptions)},_edit:function(c){b.debug&&console.info("Edit",c);var d=c.children("div").text(),e=a("<div class='"+b.classes.textContainer+"'>"+a.liManipulator.textHtml()+"</div>");c.children("div").remove(),c.prepend(e);var f=e.find("input");a.liManipulator._bindTextboxEvents(f,c),f.val(d).focus(),a.liManipulator._focus(c)},indent:function(b){var c=b.prev("li");if(c&&"undefined"!=c&&0!=c.length){var d=c.children("ol");d&&"undefined"!=d&&0!=d.length||(c.append("<ol></ol>"),d=c.children("ol")),d.append(b),a.liManipulator._rebind(),d.find("input").focus(),a.liManipulator._focus(b)}},outdent:function(b){var c=b.parent().closest("li");c&&"undefined"!=c&&0!=c.length&&(c.after(b),a("input",b).focus(),a.liManipulator._rebind(),a.liManipulator._focus(b))},_previous:function(b){var c=a("ol[data-key='root']"),d=c.find("li"),e=a(d[d.index(b)-1]);a.liManipulator._edit(e)},_next:function(b){var c=a("ol[data-key='root']"),d=c.find("li");if(!(d.length-1<=d.index(b))){var e=a(d[d.index(b)+1]);a.liManipulator._edit(e)}},_focus:function(a){a.find("input").focus(),setTimeout(function(){var b=a.find("input");b.focus()},100)},_bindTextboxEvents:function(b,c){c=b.closest("li"),b.bind("keydown.additems",function(b){a.liManipulator.keyDown(b,c)}).bind("blur.additems",function(){var c=a("ol[data-key='root']");c.find("input").length>1&&a.liManipulator.convertTextbox(b.closest("li"))})},keyDown:function(b,c){switch(b.which){case 13:a.liManipulator.convertTextbox(c)&&a.liManipulator.createNode(c);break;case 9:return b.shiftKey?a.liManipulator.outdent(c):a.liManipulator.indent(c),b.preventDefault(),!1;case 37:break;case 38:a.liManipulator._previous(c);break;case 39:break;case 40:a.liManipulator._next(c)}},data:function(){var b=a("ol[data-key='root']"),c=a.liManipulator._parseRoot(b);return c},_parseRoot:function(b){var c=[];return a.each(b.children("li"),function(b,d){c.push(a.liManipulator._parseNode(d))}),c},_parseNode:function(b){var c=a(b).children("ol"),d=[];c.length>0&&(d=a.liManipulator._parseRoot(c));var e={text:a(b).children("div").text(),children:d};return e}}}(jQuery),function(a){"use strict";var b,c={init:function(c){var d={classes:{tabContainer:"tab",tabItem:"tab-item",tabActive:"tab-active",tabUnactive:"tab-unactive"},tabContentSelectorAttribute:"data-tab-id",debug:!1,events:{onTabChange:function(){}}};b=a.extend(d,c),a.csTabs.generate(this)},destroy:function(){},reset:function(){}};a.fn.csTabs=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.tooltip"),this):c.init.apply(this,arguments)},a.csTabs={generate:function(){var c=a("."+b.classes.tabContainer);c.children("span").disableSelection().removeClass(b.classes.tabActive).addClass(b.classes.tabUnactive).bind("click",a.csTabs._tabClick).first("span").addClass(b.classes.tabActive).removeClass(b.classes.tabUnactive),c.children("span").each(function(){var c=a(this).attr(b.tabContentSelectorAttribute);a(c).hide()});var d=c.children("span."+b.classes.tabActive).attr(b.tabContentSelectorAttribute);a(d).show()},_tabClick:function(){var c=a("."+b.classes.tabContainer),d=c.children("span."+b.classes.tabActive).attr(b.tabContentSelectorAttribute);a(d).hide(),c.children("span."+b.classes.tabActive).removeClass(b.classes.tabActive).addClass(b.classes.tabUnactive),a(this).addClass(b.classes.tabActive).removeClass(b.classes.tabUnactive),d=a(this).attr(b.tabContentSelectorAttribute),a(d).show()}}}(jQuery),function(a){a.fn.numberSlider=function(b){var c={speed:500,cssClass:"step"},b=a.extend(c,b);return this.each(function(){function c(){return-(j*l)}function d(){a("#inner",g).css("margin-left",c()),e(j),i=!0}function e(c){c=parseInt(c),a("li[id^="+b.cssClass+"]").removeClass("current"),a("li#"+b.cssClass+"-"+b.info[c].StepId).addClass("current")}function f(e){if(i&&b.info[e].Active){i=!1;var f=Math.abs(j-e)*b.speed;j=e,a("#inner",g).animate({marginLeft:c()},{queue:!1,easing:"swing",duration:f,complete:d});var h=a(a("div.step")[j]).data("reset");h?gemini_ui.enableButton("#run-reset"):gemini_ui.disableButton("#run-reset")}}var g=a(this),h="div.step",i=!0,j=0,k=a(h,g).length,l=a(h,g).width();g.width(l),g.css("overflow","hidden"),a("#inner",g).css("width",k*l),a(h,g).css("float","left"),void 0!=b.current&&(j=b.current);var m=a(h,g);m.each(function(b){a(this).data("current")&&(j=b)}),a("ol li",g).click(function(){if(!a(this).hasClass("inactive")){var b=a(this).find("a"),c=parseInt(b.attr("rel"));e(c),f(c)}}),f(j),e(j)}),this}}(jQuery),function(){var a;a=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:a.label,children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},a}(),a.select_to_array=function(b){var c,d,e,f,g;for(d=new a,g=b.childNodes,e=0,f=g.length;f>e;e++)c=g[e],d.add_node(c);return d.parsed},this.SelectParser=a}.call(this),function(){var a,b;b=this,a=function(){function a(a,b){this.form_field=a,this.options=null!=b?b:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.set_default_text(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return a.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.topmost_container=this.options.topmost_container||null,this.topmost_always=!1,this.fix_popup=this.options.fix_popup||!1,this.show_search=!0,this.stay_open=this.options.stay_open||!1
},a.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||"":this.options.placeholder_text_single||this.options.placeholder_text||"",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||""},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(){var a=this;return this.active_field?void 0:setTimeout(function(){return a.container_mousedown()},50)},a.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},a.prototype.result_add_option=function(a){var b,c;return a.dom_id=this.container_id+"_o_"+a.array_index,b=a.selected&&this.is_multiple?[]:["active-result"],a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),a.empty?a.disabled?'<li disabled="disabled" id="'+a.dom_id+'">&nbsp;</li>':'<li id="'+a.dom_id+'" class="'+b.join(" ")+'">&nbsp;</li>':(c=""!==a.style.cssText?' style="'+a.style+'"':"",a.disabled?'<li disabled="disabled" id="'+a.dom_id+'" class="'+b.join(" ")+'"'+c+">"+a.html+"</li>":'<li id="'+a.dom_id+'" class="'+b.join(" ")+'"'+c+">"+a.html+"</li>")},a.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(){if(this.results_showing){var a=this.winnow_results();if(dd_top=this.container.height(),null!=this.topmost_container&&1==this.topmost_always&&this.dropdown.css({top:dd_top-$(this.dropdown).height()-$(this.dropdown).parent().height()+"px",left:0}),$(".chzn-results .jspContainer","#"+this.container_id).length>0)$(".chzn-results","#"+this.container_id).jScrollPane("reinitialise");else{var b=$(".chzn-results","#"+this.container_id).data("jsp");b&&($(".chzn-results","#"+this.container_id).data("jsp",null),$(".chzn-results","#"+this.container_id).jScrollPane({}))}return a}var c=this.results_show();if($(".chzn-results .jspContainer","#"+this.container_id).length>0)$(".chzn-results","#"+this.container_id).jScrollPane("reinitialise");else{var b=$(".chzn-results","#"+this.container_id).data("jsp");b&&($(".chzn-results","#"+this.container_id).data("jsp",null),$(".chzn-results","#"+this.container_id).jScrollPane({}))}return c},a.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.generate_field_id=function(){var a;return a=this.generate_random_id(),this.form_field.id=a,a},a.prototype.generate_random_char=function(){var a,b,c;return a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",c=Math.floor(Math.random()*a.length),b=a.substring(c,c+1)},a}(),b.AbstractChosen=a}.call(this),function(){var a,b,c,d,e=Object.prototype.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=this,a=jQuery,a.fn.extend({chosen:function(c){var d,e,f;return f=navigator.userAgent.toLowerCase(),e=/(msie) ([\w.]+)/.exec(f)||[],d={name:e[1]||"",version:e[2]||"0"},"msie"===d.name&&("6.0"===d.version||"7.0"===d.version&&7===document.documentMode)?this:this.each(function(){var d;return d=a(this),d.hasClass("chzn-done")?void 0:d.data("chosen",new b(this,c))})}}),b=function(b){function e(){e.__super__.constructor.apply(this,arguments)}return f(e,b),e.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},e.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},e.prototype.set_up_html=function(){var b,d,e,f;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),a('select[name="'+this.container_id+'"]').length>1&&(this.container_id=this.generate_field_id());var g=a('select[name="'+this.container_id+'"]').attr("title");return(void 0==g||null==g)&&(g=""),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),b=a("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;",title:g}),this.is_multiple?b.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):this.show_search||this.form_field_jq.find("option").length>15?b.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off"/></div><ul class="chzn-results"></ul></div>'):b.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" style="display:none;"/></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(b),this.container=a("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),d=this.container.height(),e=this.f_width-c(this.dropdown),this.dropdown.css({width:e+"px",top:d+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),f=e-c(this.search_container)-c(this.search_field),this.search_field.css({width:f+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},e.prototype.register_observers=function(){var b=this;return this.container.mousedown(function(a){return b.container_mousedown(a)}),this.container.mouseup(function(a){return b.container_mouseup(a)}),this.container.mouseenter(function(a){return b.mouse_enter(a)}),this.container.mouseleave(function(a){return b.mouse_leave(a)}),this.search_results.mouseup(function(a){return b.search_results_mouseup(a)}),this.search_results.mouseover(function(a){return b.search_results_mouseover(a)}),this.search_results.mouseout(function(a){return b.search_results_mouseout(a)}),this.form_field_jq.bind("liszt:updated",function(c){var d=b.results_update_field(c);return null!=b.topmost_container&&a(b.dropdown).offset().top<a(b.container).offset().top&&b.dropdown.css({top:b.container.height()-1-a(b.dropdown).height()-a(b.dropdown).parent().height()+"px",left:0}),d}),this.search_field.blur(function(a){return b.input_blur(a)}),this.search_field.keyup(function(a){return b.keyup_checker(a)}),this.search_field.keydown(function(a){return b.keydown_checker(a)}),this.is_multiple?(this.search_choices.click(function(a){return b.choices_click(a)}),this.search_field.focus(function(a){return b.input_focus(a)})):this.container.click(function(a){return a.preventDefault()})},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},e.prototype.container_mousedown=function(b){var c;return this.is_disabled?void 0:(c=null!=b?a(b.target).hasClass("search-choice-close"):!1,b&&"mousedown"===b.type&&!this.results_showing&&b.stopPropagation(),this.pending_destroy_click||c?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chzn-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(document).click(this.click_test_action),this.results_show()),this.activate_field()))},e.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},e.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},e.prototype.close_field=function(){return a(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},e.prototype.activate_field=function(){return this.is_multiple||this.active_field||(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(b){return a(b.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){var a,b,c,e,f;for(this.parsing=!0,this.results_data=d.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),a="",f=this.results_data,c=0,e=f.length;e>c;c++)b=f[c],b.group?a+=this.result_add_group(b):(b.empty&&(b.html="&nbsp;"),a+=this.result_add_option(b),b.selected&&this.is_multiple?this.choice_build(b):b.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").html(b.html),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(a),this.parsing=!1},e.prototype.result_add_group=function(b){return b.disabled?"":(b.dom_id=this.container_id+"_g_"+b.array_index,'<li id="'+b.dom_id+'" class="group-result">'+a("<div />").text(b.label).html()+"</li>")},e.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){var b;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);if(b=this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:b+"px",left:0}),null!=this.topmost_container)a(this.dropdown).offset().top+a(this.dropdown).height()>a(this.topmost_container).offset().top+a(this.topmost_container).height()&&(this.topmost_always=!0,a(this.dropdown).prev().addClass("chzn-topmost"),this.dropdown.css({top:b-a(this.dropdown).height()-a(this.dropdown).parent().height()+"px",left:0}));else if(this.fix_popup){var c=a(document).scrollTop();this.dropdown.css({top:a(this.container).offset().top+b-c+"px",left:a(this.container).offset().left+"px",position:"fixed"});var d=this;a(window).bind("scroll.chosen",function(){c=d.is_multiple?0:0,c+=a(document).scrollTop(),d.dropdown.css({top:a(d.container).offset().top+d.container.height()-c+"px",left:a(d.container).offset().left+"px",position:"fixed"})})}if(a(".chzn-results .jspContainer","#"+this.container_id).length>0)a(".chzn-results","#"+this.container_id).jScrollPane("reinitialise");else{var e=a(".chzn-results","#"+this.container_id).data("jsp");e&&(a(".chzn-results","#"+this.container_id).data("jsp",null),a(".chzn-results","#"+this.container_id).jScrollPane({}))}return this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},e.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),a(window).unbind("scroll.chosen"),this.results_showing=!1},e.prototype.set_tab_index=function(){var a;return this.form_field_jq.attr("tabindex")?(a=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",a):(this.selected_item.attr("tabindex",a),this.search_field.attr("tabindex",-1))):void 0},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length&&"disabled"!=c.attr("disabled")?(this.result_highlight=c,this.result_select(b)):void 0},e.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c&&"disabled"!=c.attr("disabled")?this.result_do_highlight(c):void 0},e.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},e.prototype.choices_click=function(b){return b.preventDefault(),!this.active_field||a(b.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},e.prototype.choice_build=function(b){var c,d,e=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(c=this.container_id+"_c_"+b.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+c+'"><span>'+b.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+b.array_index+'"></a></li>'),d=a("#"+c).find("a").first(),d.click(function(a){return e.choice_destroy_link_click(a)}))},e.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),this.is_disabled?b.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(a(b.target)))},e.prototype.choice_destroy=function(a){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(a.attr("rel")),a.parents("li").first().remove()},e.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},e.prototype.results_reset_cleanup=function(){return this.selected_item.find("abbr").remove()},e.prototype.result_select=function(b){var c,d,e,f;if(this.result_highlight){if(c=this.result_highlight,d=c.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(c):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=c,this.selected_item.removeClass("chzn-default")),c.addClass("result-selected"),f=d.substr(d.lastIndexOf("_")+1),e=this.results_data[f],e.selected=!0,this.form_field.options[e.options_index].selected=!0,this.is_multiple?this.choice_build(e):(this.selected_item.find("span").first().html(e.html),this.allow_single_deselect&&this.single_deselect_control_build()),(b.metaKey||this.stay_open)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[e.options_index].value}),a(".chzn-results .jspContainer","#"+this.container_id).length>0)a(".chzn-results","#"+this.container_id).jScrollPane("reinitialise");else{var g=a(".chzn-results","#"+this.container_id).data("jsp");g&&(a(".chzn-results","#"+this.container_id).data("jsp",null),a(".chzn-results","#"+this.container_id).jScrollPane({}))}return this.current_value=this.form_field_jq.val(),this.search_field_scale()}},e.prototype.result_activate=function(a){return a.addClass("active-result")},e.prototype.result_deactivate=function(a){return a.removeClass("active-result")},e.prototype.result_deselect=function(b){var c,d;return d=this.results_data[b],d.selected=!1,this.form_field.options[d.options_index].selected=!1,c=a("#"+this.container_id+"_o_"+b),c.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[d.options_index].value}),this.search_field_scale()},e.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},e.prototype.winnow_results=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(this.no_results_clear(),j=0,k=this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html(),g="",f=new RegExp(g+k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),n=new RegExp(k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),s=this.results_data,o=0,q=s.length;q>o;o++)if(c=s[o],!c.disabled&&!c.empty)if(c.group)a("#"+c.dom_id).css("display","none");else if(!this.is_multiple||!c.selected){if(b=!1,i=c.dom_id,h=a("#"+i),f.test(c.html))b=!0,j+=1;else if((c.html.indexOf(" ")>=0||0===c.html.indexOf("["))&&(e=c.html.replace(/\[|\]/g,"").split(" "),e.length))for(p=0,r=e.length;r>p;p++)d=e[p],f.test(d)&&(b=!0,j+=1);if(b){if(k.length?l=c.html.search(n):m=c.html,h.html(m),this.result_activate(h),null!=c.group_array_index)if(a("#"+this.results_data[c.group_array_index].dom_id).css("display","list-item"),a(".chzn-results .jspContainer","#"+this.container_id).length>0)a(".chzn-results","#"+this.container_id).jScrollPane("reinitialise");else{var t=a(".chzn-results","#"+this.container_id).data("jsp");t&&(a(".chzn-results","#"+this.container_id).data("jsp",null),a(".chzn-results","#"+this.container_id).jScrollPane({}))}}else this.result_highlight&&i===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(h)}return 1>j&&k.length?this.no_results(k):this.winnow_results_set_highlight()},e.prototype.winnow_results_clear=function(){var b,c,d,e,f;for(this.search_field.val(""),c=this.search_results.find("li"),f=[],d=0,e=c.length;e>d;d++)b=c[d],b=a(b),b.hasClass("group-result")?f.push(b.css("display","auto")):this.is_multiple&&b.hasClass("result-selected")?f.push(void 0):f.push(this.result_activate(b));return f},e.prototype.winnow_results_set_highlight=function(){var a,b;return this.result_highlight||(b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null==a)?void 0:this.result_do_highlight(a)},e.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c)},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var b,c;return this.result_highlight?this.results_showing&&(c=this.result_highlight.nextAll("li.active-result").first(),c&&this.result_do_highlight(c)):(b=this.search_results.find("li.active-result").first(),b&&this.result_do_highlight(a(b))),this.results_showing?void 0:this.results_show()},e.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus"))},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},e.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){for(d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,j=g.length;j>i;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";if(c=a("<div />",{style:f}),c.text(this.search_field.val()),a("body").append(c),h=c.width()+25,c.remove(),h>this.f_width-10&&(h=this.f_width-10),this.search_field.css({width:h+"px"}),b=this.container.height(),null!=this.topmost_container&&1==this.topmost_always)this.dropdown.css({top:b-a(this.dropdown).height()-a(this.dropdown).parent().height()+"px"});else{if(!this.fix_popup)return this.dropdown.css({top:b+"px"});var k=a(document).scrollTop();this.dropdown.css({top:a(this.container).offset().top+b-k+"px",position:"fixed"})}}},e.prototype.generate_random_id=function(){var b;for(b="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();a("#"+b).length>0;)b+=this.generate_random_char();return b},e}(AbstractChosen),c=function(a){var b;return b=a.outerWidth()-a.width()},d.get_side_border_padding=c}.call(this),function(){!function(a){return a.fn.ajaxChosen=function(b,c,d){var e,f,g,h;return null==b&&(b={}),null==d&&(d={}),f={minTermLength:3,afterTypeDelay:500,jsonTermKey:"term",keepTypingMsg:"Keep typing...",lookingForMsg:"Looking for"},h=this,e=null,g=a.extend({},f,a(h).data(),b),this.chosen(d?d:{}),this.each(function(){return a(this).next(".chzn-container").find(".search-field > input, .chzn-search > input").bind("keyup",function(){var d,f,i,j,k;return j=a(this).val(),k=a.trim(a(this).val()),k===a(this).data("prevVal")?!1:(a(this).data("prevVal",k),this.timer&&clearTimeout(this.timer),(k.length<g.minTermLength||k.length>g.minTermLength)&&!h.next(".chzn-container").find(".no-results").is(":visible")?!1:(f=k.length<g.minTermLength?g.keepTypingMsg:g.lookingForMsg+(" '"+k+"'"),h.next(".chzn-container").find(".no-results").text(f),d=a(this),null==g.data&&(g.data={}),g.data[g.jsonTermKey]=k,g.data.cf=a(this).parent().parent().parent().attr("id"),g.url.indexOf(!0)&&(g.url=g.url.replace("{projectid}",a(this).parent().parent().parent().prev().attr("data-project-id"))),null!=g.dataCallback&&(g.data=g.dataCallback(g.data)),i=g.success,g.success=function(e){var f,g,i;if(null!=e)return i=[],selected_data=[],update=!1,h.find("option").each(function(){return a(this).is(":selected")?("-|1"!=a(this).val()&&selected_data.push(a(this)),i.push(a(this).val()+"-"+a(this).text())):(update=!0,a(this).remove())}),h.find("optgroup:empty").each(function(){return a(this).remove()}),f=null!=c?c(e,d):e,g=0,a.each(f,function(b,c){var d,e,f;return g++,c.group?(d=h.find("optgroup[label='"+c.text+"']"),d.size()||(d=a("<optgroup />")),d.attr("label",c.text).appendTo(h),a.each(c.items,function(b,c){var e,f;return"string"==typeof c?(f=b,e=c):(f=c.value,e=c.text),-1===a.inArray(f+"-"+e,i)?a("<option />").attr("value",f).html(e).appendTo(d):void 0})):("string"==typeof c?(f=b,e=c):(f=c.value,e=c.text),-1===a.inArray(f+"-"+e,i)?a("<option />").attr("value",f).html(e).appendTo(h):void 0)}),a(selected_data).each(function(){a(this).remove(),a(this).appendTo(h)}),g||update?h.trigger("liszt:updated"):(h.data().chosen.no_results_clear(),h.data().chosen.no_results(d.val())),null!=b.success&&b.success(e),d.val(j)},this.timer=setTimeout(function(){return e&&e.abort(),e=a.ajax(g)},g.afterTypeDelay)))})})}}(jQuery)}.call(this),function(a){a.widget("ui.multiselect",{options:{sortable:!0,searchable:!0,doubleClickable:!0,animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:.6,nodeComparator:function(a,b){var c=a.text(),d=b.text();return c==d?0:d>c?-1:1}},_create:function(){this.element.hide(),this.id=this.element.attr("id"),this.container=a('<div class="ui-multiselect ui-helper-clearfix ui-widget"></div>').insertAfter(this.element),this.count=0,this.selectedContainer=a('<div class="selected"></div>').appendTo(this.container),this.availableContainer=a('<div class="available"></div>').appendTo(this.container),this.selectedActions=a('<div class="actions header ui-helper-clearfix"><span class="count">0 '+a.ui.multiselect.locale.itemsCount+'</span><a href="#" class="remove-all">'+a.ui.multiselect.locale.removeAll+"</a></div>").appendTo(this.selectedContainer),this.availableActions=a('<div class="actions header ui-helper-clearfix"><input type="text" class="search empty ui-widget-content ui-corner-all"/><a href="#" class="add-all">'+a.ui.multiselect.locale.addAll+"</a></div>").appendTo(this.availableContainer),this.selectedList=a('<ul class="selected connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return!1}).appendTo(this.selectedContainer),this.availableList=a('<ul class="available connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return!1}).appendTo(this.availableContainer);var b=this;this.container.width(this.element.width()+1),this.selectedContainer.width(Math.floor(this.element.width()*this.options.dividerLocation)),this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation))),this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1)),this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1)),this.options.animated||(this.options.show="show",this.options.hide="hide"),this._populateLists(this.element.find("option")),this.options.sortable&&this.selectedList.sortable({placeholder:"placeholder",axis:"y",update:function(){b.selectedList.find("li").each(function(){a(this).data("optionLink")&&a(this).data("optionLink").remove().appendTo(b.element)})},receive:function(c,d){d.item.data("optionLink").attr("selected",!0),b.count+=1,b._updateCount(),b.selectedList.children(".ui-draggable").each(function(){a(this).removeClass("ui-draggable"),a(this).data("optionLink",d.item.data("optionLink")),a(this).data("idx",d.item.data("idx")),b._applyItemState(a(this),!0)}),setTimeout(function(){d.item.remove()},1)}}),this.options.searchable?this._registerSearchEvents(this.availableContainer.find("input.search")):a(".search").hide(),this.container.find(".remove-all").click(function(){return b._populateLists(b.element.find("option").removeAttr("selected")),!1}),this.container.find(".add-all").click(function(){var c=b.element.find("option").not(":selected");return b.availableList.children("li:hidden").length>1?b.availableList.children("li").each(function(b){a(this).is(":visible")&&a(c[b-1]).attr("selected","selected")}):c.attr("selected","selected"),b._populateLists(b.element.find("option")),!1})},destroy:function(){this.element.show(),this.container.remove(),a.Widget.prototype.destroy.apply(this,arguments)},_populateLists:function(b){this.selectedList.children(".ui-element").remove(),this.availableList.children(".ui-element").remove(),this.count=0;var c=this;a(b.map(function(a){var b=c._getOptionNode(this).appendTo(this.selected?c.selectedList:c.availableList).show();return this.selected&&(c.count+=1),c._applyItemState(b,this.selected),b.data("idx",a),b[0]})),this._updateCount(),c._filter.apply(this.availableContainer.find("input.search"),[c.availableList])},_updateCount:function(){this.selectedContainer.find("span.count").text(this.count+" "+a.ui.multiselect.locale.itemsCount)},_getOptionNode:function(b){b=a(b);var c=a('<li class="ui-state-default ui-element" title="'+b.text()+'"><span class="cs-icon"/>'+b.text()+'<a href="#" class="action"><span class="ui-corner-all cs-icon"/></a></li>').hide();return c.data("optionLink",b),c},_cloneWithData:function(a){var b=a.clone(!1,!1);return b.data("optionLink",a.data("optionLink")),b.data("idx",a.data("idx")),b},_setSelected:function(b,c){if(b.data("optionLink").attr("selected",c),c){var d=this._cloneWithData(b);return b[this.options.hide](this.options.animated,function(){a(this).remove()}),d.appendTo(this.selectedList).hide()[this.options.show](this.options.animated),this._applyItemState(d,!0),d}var e=this.availableList.find("li"),f=this.options.nodeComparator,g=null,h=b.data("idx"),i=f(b,a(e[h]));if(i){for(;h>=0&&h<e.length;)if(i>0?h++:h--,i!=f(b,a(e[h]))){g=e[i>0?h:h+1];break}}else g=e[h];var j=this._cloneWithData(b);return g?j.insertBefore(a(g)):j.appendTo(this.availableList),b[this.options.hide](this.options.animated,function(){a(this).remove()}),j.hide()[this.options.show](this.options.animated),this._applyItemState(j,!1),j},_applyItemState:function(a,b){b?(this.options.sortable?a.children("span").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon"):a.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),a.find("a.action span").addClass("cs-icon minus").html("-").removeClass("cs-icon").removeClass("plus"),this._registerRemoveEvents(a.find("a.action"))):(a.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon"),a.find("a.action span").addClass("cs-icon plus").html("+").removeClass("cs-icon").removeClass("minus"),this._registerAddEvents(a.find("a.action"))),this._registerDoubleClickEvents(a),this._registerHoverEvents(a)
},_filter:function(b){var c=a(this),d=b.children("li"),e=d.map(function(){return a(this).text().toLowerCase()}),f=a.trim(c.val().toLowerCase()),g=[];f?(d.hide(),e.each(function(a){this.indexOf(f)>-1&&g.push(a)}),a.each(g,function(){a(d[this]).show()})):d.show()},_registerDoubleClickEvents:function(a){this.options.doubleClickable&&a.dblclick(function(){a.find("a.action").click()})},_registerHoverEvents:function(b){b.removeClass("ui-state-hover"),b.mouseover(function(){a(this).addClass("ui-state-hover")}),b.mouseout(function(){a(this).removeClass("ui-state-hover")})},_registerAddEvents:function(b){var c=this;b.click(function(){return c._setSelected(a(this).parent(),!0),c.count+=1,c._updateCount(),!1}),this.options.sortable&&b.each(function(){a(this).parent().draggable({connectToSortable:c.selectedList,helper:function(){var b=c._cloneWithData(a(this)).width(a(this).width()-50);return b.width(a(this).width()),b},appendTo:c.container,containment:c.container,revert:"invalid"})})},_registerRemoveEvents:function(b){var c=this;b.click(function(){return c._setSelected(a(this).parent(),!1),c.count-=1,c._updateCount(),!1})},_registerSearchEvents:function(b){var c=this;b.focus(function(){a(this).addClass("ui-state-active")}).blur(function(){a(this).removeClass("ui-state-active")}).keypress(function(a){return 13==a.keyCode?!1:void 0}).keyup(function(){c._filter.apply(this,[c.availableList])})}}),a.extend(a.ui.multiselect,{locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"items selected"}})}(jQuery),function($){$.fn.editable=function(a,b){if("disable"==a)return $(this).data("disabled.editable",!0),void 0;if("enable"==a)return $(this).data("disabled.editable",!1),void 0;if("destroy"==a)return $(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable"),void 0;var c=$.extend({},$.fn.editable.defaults,{target:a},b),d=$.editable.types[c.type].plugin||function(){},e=$.editable.types[c.type].submit||function(){},f=$.editable.types[c.type].buttons||$.editable.types.defaults.buttons,g=$.editable.types[c.type].content||$.editable.types.defaults.content,h=$.editable.types[c.type].element||$.editable.types.defaults.element,i=$.editable.types[c.type].reset||$.editable.types.defaults.reset,j=c.callback||function(){},k=c.onedit||function(){},l=c.onsubmit||function(){c.submit=null},m=c.onreset||function(){c.submit=null},n=c.onerror||i;return c.tooltip&&$(this).attr("title",c.tooltip),c.autowidth="auto"==c.width,c.autoheight="auto"==c.height,this.each(function(){var a=this,b=$(a).width(),o=$(a).height();$(this).data("event.editable",c.event),$.trim($(this).html())||$(this).html(c.placeholder),$(this).bind(c.event,function(m){if(!0!==$(this).data("disabled.editable")&&!a.editing&&!1!==k.apply(this,[c,a])){m.preventDefault(),m.stopPropagation(),c.tooltip&&$(a).removeAttr("title"),0==$(a).width()?(c.width=b,c.height=o):("none"!=c.width&&(c.width=c.autowidth?$(a).width():c.width),"none"!=c.height&&(c.height=c.autoheight?$(a).height():c.height)),$(this).html().toLowerCase().replace(/(;|"|\/)/g,"")==c.placeholder.toLowerCase().replace(/(;|"|\/)/g,"")&&$(this).html(""),a.editing=!0,a.revert=$(a).html(),$(a).html("");var p=$("<form />");if(c.cssclass&&("inherit"==c.cssclass?p.attr("class",$(a).attr("class")):p.attr("class",c.cssclass)),c.style&&("inherit"==c.style?(p.attr("style",$(a).attr("style")),p.css("display",$(a).css("display"))):p.attr("style",c.style)),null!=c.detectType){var q=c.detectType(this);null!=q&&void 0!=q&&""!=q?(c.type=q,d=$.editable.types[c.type].plugin||function(){},e=$.editable.types[c.type].submit||function(){},f=$.editable.types[c.type].buttons||$.editable.types.defaults.buttons,g=$.editable.types[c.type].content||$.editable.types.defaults.content,h=$.editable.types[c.type].element||$.editable.types.defaults.element,i=$.editable.types[c.type].reset||$.editable.types.defaults.reset):(c.type="text",d=$.editable.types[c.type].plugin||function(){},e=$.editable.types[c.type].submit||function(){},f=$.editable.types[c.type].buttons||$.editable.types.defaults.buttons,g=$.editable.types[c.type].content||$.editable.types.defaults.content,h=$.editable.types[c.type].element||$.editable.types.defaults.element,i=$.editable.types[c.type].reset||$.editable.types.defaults.reset)}var r=h.apply(p,[c,a]);null!=c.validationRequired&&c.validationRequired(this)&&r.addClass("required"),null!=c.validationEmail&&c.validationEmail(this)&&r.addClass("email"),null!=c.validationProgrammaticalNames&&c.validationProgrammaticalNames(this)&&r.addClass("programmaticalnames");var s;if(c.loadurl){var t=setTimeout(function(){r.disabled=!0,g.apply(p,[c.loadtext,c,a])},100),u={};u[c.id]=a.id,$.isFunction(c.loaddata)?$.extend(u,c.loaddata.apply(a,[a.revert,c])):$.extend(u,c.loaddata),$.ajax({type:c.loadtype,url:c.loadurl,data:u,async:!1,success:function(a){window.clearTimeout(t),s=a,r.disabled=!1}})}else c.data?(s=c.data,$.isFunction(c.data)&&(s=c.data.apply(a,[a.revert,c]))):s=a.revert;g.apply(p,[s,c,a]),r.attr("name",c.name),f.apply(p,[c,a]),$(a).append(p),d.apply(p,[c,a]),p.validate({ignoreTitle:!0}),$(":input:visible:enabled:first",p).focus(),c.select&&r.select(),r.keydown(function(b){27==b.keyCode&&(b.preventDefault(),i.apply(p,[c,a]))});var t;"cancel"==c.onblur&&r.blur(function(){t=setTimeout(function(){i.apply(p,[c,a])},500)}),"ignore"==c.onblur?r.blur(function(){$(this).find("input").datepicker({onSelect:function(){$(this).hide(),$(p).trigger("submit")},onClose:function(){i.apply(p,[c,a])}})}):"submit"==c.onblur?r.blur(function(){t=setTimeout(function(){p.submit()},200)}):$.isFunction(c.onblur)?r.blur(function(){c.onblur.apply(a,[r.val(),c])}):r.blur(function(){}),p.submit(function(b){if(t&&clearTimeout(t),b.preventDefault(),!$(p).valid())return!1;if(!1!==l.apply(p,[c,a])&&!1!==e.apply(p,[c,a]))if($.isFunction(c.target)){var d=c.target.apply(a,[r.val(),c]);$(a).html(d),a.editing=!1,j.apply(a,[a.innerHTML,c]),$.trim($(a).html())||$(a).html(c.placeholder)}else{var f={};f[c.name]=r.val(),f[c.id]=a.id,$.isFunction(c.submitdata)?$.extend(f,c.submitdata.apply(a,[a.revert,c])):$.extend(f,c.submitdata),"PUT"==c.method&&(f._method="put"),$(a).html(c.indicator);var g={type:"POST",data:f,dataType:"html",url:c.target,success:function(b){"html"==g.dataType&&$(a).html(b),a.editing=!1,j.apply(a,[b,c]),$.trim($(a).html())||$(a).html(c.placeholder),"color"==c.type&&$(a).click()},error:function(b){n.apply(p,[c,a,b])}};$.extend(g,c.ajaxoptions),$.ajax(g)}return $(a).attr("title",c.tooltip),!1})}}),this.reset=function(b){this.editing&&!1!==m.apply(b,[c,a])&&($(a).html(a.revert),a.editing=!1,$.trim($(a).html())||$(a).html(c.placeholder),c.tooltip&&$(a).attr("title",c.tooltip))}})},$.editable={types:{defaults:{element:function(){var a=$('<input type="hidden"></input>');return $(this).append(a),a},content:function(a){$(":input:first",this).val(a)},reset:function(a,b){b.reset(this)},buttons:function(a,b){var c=this;if(a.submit){if(a.submit.match(/>$/))var d=$(a.submit).click(function(){"submit"!=d.attr("type")&&c.submit()});else{var d=$('<button type="submit" />');d.html(a.submit)}$(this).append(d)}if(a.cancel){if(a.cancel.match(/>$/))var e=$(a.cancel);else{var e=$('<button type="cancel" />');e.html(a.cancel)}$(this).append(e),$(e).click(function(){if($.isFunction($.editable.types[a.type].reset))var d=$.editable.types[a.type].reset;else var d=$.editable.types.defaults.reset;return d.apply(c,[a,b]),!1})}}},text:{element:function(a){var b=$('<input style="width:99%;"/>');return"none"!=a.width&&b.attr("width",a.width),"none"!=a.height&&b.attr("height",a.height),b.attr("autocomplete","off"),$(this).append(b),b}},textarea:{element:function(a){var b=$("<textarea />");return a.rows?b.attr("rows",a.rows):"none"!=a.height&&b.height(a.height),a.cols?b.attr("cols",a.cols):"none"!=a.width&&b.width(a.width),$(this).append(b),a.submit="<button type='submit' class='button-primary'>OK</button>",b}},select:{element:function(){var a=$("<select />");return $(this).append(a),a},content:function(data,settings,original){if(String==data.constructor)eval("var u = "+data);else var u=data;for(var key in u)if(u.hasOwnProperty(key)&&"selected"!=key){var option=$("<option />").val(key).append(u[key]);$("select",this).append(option)}if($("select",this).children().each(function(){($(this).val()==u.selected||$(this).text()==$.trim(original.revert))&&$(this).attr("selected","selected")}),!settings.submit){var form=this;$("select",this).change(function(){form.submit()})}}},checkbox:{element:function(){var a=$("<input type='checkbox' />");return $(this).append(a),a},content:function(a,b){if(("true"==a||"True"==a)&&$('input[type="checkbox"]',this).attr("checked","checked"),!b.submit){var c=this;$('input[type="checkbox"]',this).change(function(){$(this).is(":checked")?$(this).val("true"):$(this).val("false"),c.submit()})}}},date:{element:function(a,b){b.onblur="ignore";var c=$("<input id='inline-datepicker' type='text' class='datepicker'/>");return $(this).append(c),c},content:function(a,b,c){var d="";b.onblur="nothing",null!=b.dateFormat&&(d=b.dateFormat(c),$(this.find("#inline-datepicker")).attr("data-date-format",d),$(this.find("#inline-datepicker")).addClass("dateFormatted")),b.type="date",$("#inline-datepicker",this).val(a),$("#inline-datepicker",this).prop("value",a);var e=this;gemini_ui.datePicker(e.find("#inline-datepicker"),function(){e.submit(),b.onblur="cancel"},function(){b.onblur="cancel",c.reset(e)}),setTimeout(function(){e.find("#inline-datepicker").DatePickerShow()},250)}},color:{element:function(a){var b=a,c=$('<input type="hidden"/><div id="colorSelector"><div style="background-color: #ffffff"></div></div>');$(this).append(c);var d=this;return $("#colorSelector",this).ColorPicker({onChange:function(a,b){$("#colorSelector div",d).css("backgroundColor","#"+b),$("#ColorCode",d).val("#"+b)},onSubmit:function(a,c,e,f){b.type="color",$(f).val(c),$(f).ColorPickerHide(),$('input[type="hidden"]',d).val("#"+c),$('input[type="hidden"]',d).change()}}),c},content:function(a,b){b.type="color",$("#colorSelector",this).ColorPickerSetColor(a),$("#colorSelector div",this).css("backgroundColor",a);var c=this;$('input[type="hidden"]',this).change(function(){c.submit()})}}},addInputType:function(a,b){$.editable.types[a]=b}},$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{},detectType:null,dateFormat:null,validationRequired:null,validationEmail:null,validationProgrammaticalNames:null}}(jQuery),function(a){var b=function(){var b=65,c='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',d={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},e=function(b,c){var d=L(b);a(c).data("colorpicker").fields.eq(1).val(d.r).end().eq(2).val(d.g).end().eq(3).val(d.b).end()},f=function(b,c){a(c).data("colorpicker").fields.eq(4).val(b.h).end().eq(5).val(b.s).end().eq(6).val(b.b).end()},g=function(b,c){a(c).data("colorpicker").fields.eq(0).val(N(b)).end()},h=function(b,c){a(c).data("colorpicker").selector.css("backgroundColor","#"+N({h:b.h,s:100,b:100})),a(c).data("colorpicker").selectorIndic.css({left:parseInt(150*b.s/100,10),top:parseInt(150*(100-b.b)/100,10)})},i=function(b,c){a(c).data("colorpicker").hue.css("top",parseInt(150-150*b.h/360,10))},j=function(b,c){a(c).data("colorpicker").currentColor.css("backgroundColor","#"+N(b))},k=function(b,c){a(c).data("colorpicker").newColor.css("backgroundColor","#"+N(b))},l=function(c){var d=c.charCode||c.keyCode||-1;if(d>b&&90>=d||32==d)return!1;var e=a(this).parent().parent();e.data("colorpicker").livePreview===!0&&m.apply(this)},m=function(b){var c,d=a(this).parent().parent();d.data("colorpicker").color=c=this.parentNode.className.indexOf("_hex")>0?J(H(this.value)):this.parentNode.className.indexOf("_hsb")>0?F({h:parseInt(d.data("colorpicker").fields.eq(4).val(),10),s:parseInt(d.data("colorpicker").fields.eq(5).val(),10),b:parseInt(d.data("colorpicker").fields.eq(6).val(),10)}):K(G({r:parseInt(d.data("colorpicker").fields.eq(1).val(),10),g:parseInt(d.data("colorpicker").fields.eq(2).val(),10),b:parseInt(d.data("colorpicker").fields.eq(3).val(),10)})),b&&(e(c,d.get(0)),g(c,d.get(0)),f(c,d.get(0))),h(c,d.get(0)),i(c,d.get(0)),k(c,d.get(0)),d.data("colorpicker").onChange.apply(d,[c,N(c),L(c)])},n=function(){var b=a(this).parent().parent();b.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},o=function(){b=this.parentNode.className.indexOf("_hex")>0?70:65,a(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),a(this).parent().addClass("colorpicker_focus")},p=function(b){var c=a(this).parent().find("input").focus(),d={el:a(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:b.pageY,field:c,val:parseInt(c.val(),10),preview:a(this).parent().parent().data("colorpicker").livePreview};a(document).bind("mouseup",d,r),a(document).bind("mousemove",d,q)},q=function(a){return a.data.field.val(Math.max(0,Math.min(a.data.max,parseInt(a.data.val+a.pageY-a.data.y,10)))),a.data.preview&&m.apply(a.data.field.get(0),[!0]),!1},r=function(b){return m.apply(b.data.field.get(0),[!0]),b.data.el.removeClass("colorpicker_slider").find("input").focus(),a(document).unbind("mouseup",r),a(document).unbind("mousemove",q),!1},s=function(){var b={cal:a(this).parent(),y:a(this).offset().top};b.preview=b.cal.data("colorpicker").livePreview,a(document).bind("mouseup",b,u),a(document).bind("mousemove",b,t)},t=function(a){return m.apply(a.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,a.pageY-a.data.y)))/150,10)).get(0),[a.data.preview]),!1},u=function(b){return e(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),g(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),a(document).unbind("mouseup",u),a(document).unbind("mousemove",t),!1},v=function(){var b={cal:a(this).parent(),pos:a(this).offset()};b.preview=b.cal.data("colorpicker").livePreview,a(document).bind("mouseup",b,x),a(document).bind("mousemove",b,w)},w=function(a){return m.apply(a.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,a.pageY-a.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,a.pageX-a.data.pos.left))/150,10)).get(0),[a.data.preview]),!1},x=function(b){return e(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),g(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),a(document).unbind("mouseup",x),a(document).unbind("mousemove",w),!1},y=function(){a(this).addClass("colorpicker_focus")},z=function(){a(this).removeClass("colorpicker_focus")},A=function(){var b=a(this).parent(),c=b.data("colorpicker").color;b.data("colorpicker").origColor=c,j(c,b.get(0)),b.data("colorpicker").onSubmit(c,N(c),L(c),b.data("colorpicker").el)},B=function(){var b=a("#"+a(this).data("colorpickerId"));b.data("colorpicker").onBeforeShow.apply(this,[b.get(0)]);var c=a(this).offset(),d=E(),e=c.top+this.offsetHeight,f=c.left;return e+176>d.t+d.h&&(e-=this.offsetHeight+176),f+356>d.l+d.w&&(f-=356),b.css({left:f+"px",top:e+"px"}),0!=b.data("colorpicker").onShow.apply(this,[b.get(0)])&&b.show(),a(document).bind("mousedown",{cal:b},C),!1},C=function(b){D(b.data.cal.get(0),b.target,b.data.cal.get(0))||(0!=b.data.cal.data("colorpicker").onHide.apply(this,[b.data.cal.get(0),N(a(b.data.cal.get(0)).data("colorpicker").color)])&&b.data.cal.find("div.colorpicker_submit").trigger("click"),a(document).unbind("mousedown",C))},D=function(a,b,c){if(a==b)return!0;if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(var d=b.parentNode;d&&d!=c;){if(d==a)return!0;d=d.parentNode}return!1},E=function(){var a="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(a?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(a?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(a?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(a?document.documentElement.clientHeight:document.body.clientHeight)}},F=function(a){return{h:Math.min(360,Math.max(0,a.h)),s:Math.min(100,Math.max(0,a.s)),b:Math.min(100,Math.max(0,a.b))}},G=function(a){return{r:Math.min(255,Math.max(0,a.r)),g:Math.min(255,Math.max(0,a.g)),b:Math.min(255,Math.max(0,a.b))}},H=function(a){var b=6-a.length;if(b>0){for(var c=[],d=0;b>d;d++)c.push("0");c.push(a),a=c.join("")}return a},I=function(a){var a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16);return{r:a>>16,g:(65280&a)>>8,b:255&a}},J=function(a){return K(I(a))},K=function(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!=d?255*e/d:0,b.h=0!=b.s?a.r==d?(a.g-a.b)/e:a.g==d?2+(a.b-a.r)/e:4+(a.r-a.g)/e:-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b},L=function(a){var b={},c=Math.round(a.h),d=Math.round(255*a.s/100),e=Math.round(255*a.b/100);if(0==d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=(f-g)*(c%60)/60;360==c&&(c=0),60>c?(b.r=f,b.b=g,b.g=g+h):120>c?(b.g=f,b.b=g,b.r=f-h):180>c?(b.g=f,b.r=g,b.b=g+h):240>c?(b.b=f,b.r=g,b.g=f-h):300>c?(b.b=f,b.g=g,b.r=g+h):360>c?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}},M=function(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1==b.length&&(c[a]="0"+b)}),c.join("")},N=function(a){return M(L(a))},O=function(){var b=a(this).parent(),c=b.data("colorpicker").origColor;b.data("colorpicker").color=c,e(c,b.get(0)),g(c,b.get(0)),f(c,b.get(0)),h(c,b.get(0)),i(c,b.get(0)),k(c,b.get(0))};return{init:function(b){if(b=a.extend({},d,b||{}),"string"==typeof b.color)b.color=J(b.color);else if(void 0!=b.color.r&&void 0!=b.color.g&&void 0!=b.color.b)b.color=K(b.color);else{if(void 0==b.color.h||void 0==b.color.s||void 0==b.color.b)return this;b.color=F(b.color)}return this.each(function(){if(!a(this).data("colorpickerId")){var d=a.extend({},b);d.origColor=b.color;var q="collorpicker_"+parseInt(1e3*Math.random());a(this).data("colorpickerId",q);var r=a(c).attr("id",q);d.flat?r.appendTo(this).show():r.appendTo(document.body),d.fields=r.find("input").bind("keyup",l).bind("change",m).bind("blur",n).bind("focus",o),r.find("span").bind("mousedown",p).end().find(">div.colorpicker_current_color").bind("click",O),d.selector=r.find("div.colorpicker_color").bind("mousedown",v),d.selectorIndic=d.selector.find("div div"),d.el=this,d.hue=r.find("div.colorpicker_hue div"),r.find("div.colorpicker_hue").bind("mousedown",s),d.newColor=r.find("div.colorpicker_new_color"),d.currentColor=r.find("div.colorpicker_current_color"),r.data("colorpicker",d),r.find("div.colorpicker_submit").bind("mouseenter",y).bind("mouseleave",z).bind("click",A),e(d.color,r.get(0)),f(d.color,r.get(0)),g(d.color,r.get(0)),i(d.color,r.get(0)),h(d.color,r.get(0)),j(d.color,r.get(0)),k(d.color,r.get(0)),d.flat?r.css({position:"relative",display:"block"}):a(this).bind(d.eventName,B)}})},showPicker:function(){return this.each(function(){a(this).data("colorpickerId")&&B.apply(this)})},hidePicker:function(){return this.each(function(){a(this).data("colorpickerId")&&a("#"+a(this).data("colorpickerId")).hide()})},setColor:function(b){if("string"==typeof b)b=J(b);else if(void 0!=b.r&&void 0!=b.g&&void 0!=b.b)b=K(b);else{if(void 0==b.h||void 0==b.s||void 0==b.b)return this;b=F(b)}return this.each(function(){if(a(this).data("colorpickerId")){var c=a("#"+a(this).data("colorpickerId"));c.data("colorpicker").color=b,c.data("colorpicker").origColor=b,e(b,c.get(0)),f(b,c.get(0)),g(b,c.get(0)),i(b,c.get(0)),h(b,c.get(0)),j(b,c.get(0)),k(b,c.get(0))}})}}}();a.fn.extend({ColorPicker:b.init,ColorPickerHide:b.hidePicker,ColorPickerShow:b.showPicker,ColorPickerSetColor:b.setColor})}(jQuery),function(a){"use strict";function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is(":submit,input:image")){var e=d.closest(":submit");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData,a.fn.ajaxSubmit=function(b){function c(c){for(var d=new FormData,e=0;e<c.length;e++)d.append(c[e].name,c[e].value);if(b.extraData)for(var f in b.extraData)b.extraData.hasOwnProperty(f)&&d.append(f,b.extraData[f]);b.data=null;var g=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:"POST"});b.uploadProgress&&(g.xhr=function(){var a=jQuery.ajaxSettings.xhr();return a.upload&&(a.upload.onprogress=function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(100*(d/e))),b.uploadProgress(a,d,e,c)}),a}),g.data=null;var h=g.beforeSend;g.beforeSend=function(a,c){c.data=d,h&&h.call(c,a,b)},a.ajax(g)}function f(c){function e(a){var b=a.contentWindow?a.contentWindow.document:a.contentDocument?a.contentDocument:a.document;return b}function f(){function b(){try{var a=e(q).readyState;d("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(c){d("Server abort: ",c," (",c.name,")"),h(z),v&&clearTimeout(v),v=void 0}}var c=j.attr("target"),f=j.attr("action");w.setAttribute("target",o),g||w.setAttribute("method","POST"),f!=l.url&&w.setAttribute("action",l.url),l.skipEncodingOverride||g&&!/post/i.test(g)||j.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(v=setTimeout(function(){u=!0,h(y)},l.timeout));var i=[];try{if(l.extraData)for(var k in l.extraData)l.extraData.hasOwnProperty(k)&&i.push(a('<input type="hidden" name="'+k+'">').attr("value",l.extraData[k]).appendTo(w)[0]);l.iframeTarget||(p.appendTo("body"),q.attachEvent?q.attachEvent("onload",h):q.addEventListener("load",h,!1)),setTimeout(b,15),w.submit()}finally{w.setAttribute("action",f),c?w.setAttribute("target",c):j.removeAttr("target"),a(i).remove()}}function h(b){if(!r.aborted&&!E){try{D=e(q)}catch(c){d("cannot access response document: ",c),b=z}if(b===y&&r)return r.abort("timeout"),void 0;if(b==z&&r)return r.abort("server abort"),void 0;if(D&&D.location.href!=l.iframeSrc||u){q.detachEvent?q.detachEvent("onload",h):q.removeEventListener("load",h,!1);var f,g="success";try{if(u)throw"timeout";var i="xml"==l.dataType||D.XMLDocument||a.isXMLDoc(D);if(d("isXml="+i),!i&&window.opera&&(null===D.body||!D.body.innerHTML)&&--F)return d("requeing onLoad callback, DOM not available"),setTimeout(h,250),void 0;var j=D.body?D.body:D.documentElement;r.responseText=j?j.innerHTML:null,r.responseXML=D.XMLDocument?D.XMLDocument:D,i&&(l.dataType="xml"),r.getResponseHeader=function(a){var b={"content-type":l.dataType};return b[a]},j&&(r.status=Number(j.getAttribute("status"))||r.status,r.statusText=j.getAttribute("statusText")||r.statusText);var k=(l.dataType||"").toLowerCase(),n=/(json|script|text)/.test(k);if(n||l.textarea){var o=D.getElementsByTagName("textarea")[0];if(o)r.responseText=o.value,r.status=Number(o.getAttribute("status"))||r.status,r.statusText=o.getAttribute("statusText")||r.statusText;else if(n){var s=D.getElementsByTagName("pre")[0],t=D.getElementsByTagName("body")[0];s?r.responseText=s.textContent?s.textContent:s.innerText:t&&(r.responseText=t.textContent?t.textContent:t.innerText)}}else"xml"==k&&!r.responseXML&&r.responseText&&(r.responseXML=G(r.responseText));try{C=I(r,k,l)}catch(b){g="parsererror",r.error=f=b||g}}catch(b){d("error caught: ",b),g="error",r.error=f=b||g}r.aborted&&(d("upload aborted"),g=null),r.status&&(g=r.status>=200&&r.status<300||304===r.status?"success":"error"),"success"===g?(l.success&&l.success.call(l.context,C,"success",r),m&&a.event.trigger("ajaxSuccess",[r,l])):g&&(void 0===f&&(f=r.statusText),l.error&&l.error.call(l.context,r,g,f),m&&a.event.trigger("ajaxError",[r,l,f])),m&&a.event.trigger("ajaxComplete",[r,l]),m&&!--a.active&&a.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,r,g),E=!0,l.timeout&&clearTimeout(v),setTimeout(function(){l.iframeTarget||p.remove(),r.responseXML=null},100)}}}var i,k,l,m,o,p,q,r,s,t,u,v,w=j[0],x=!!a.fn.prop;if(!a(":input[name=submit],:input[id=submit]",w).length){if(c)for(k=0;k<n.length;k++)i=a(n[k]),x?i.prop("disabled",!1):i.removeAttr("disabled");if(l=a.extend(!0,{},a.ajaxSettings,b),l.context=l.context||l,o="jqFormIO"+(new Date).getTime(),l.iframeTarget?(p=a(l.iframeTarget),t=p.attr("name"),t?o=t:p.attr("name",o)):(p=a('<iframe name="'+o+'" src="'+l.iframeSrc+'" />'),p.css({position:"absolute",top:"-1000px",left:"-1000px"})),q=p[0],r={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";d("aborting upload... "+c),this.aborted=1,p.attr("src",l.iframeSrc),r.error=c,l.error&&l.error.call(l.context,r,c,b),m&&a.event.trigger("ajaxError",[r,l,c]),l.complete&&l.complete.call(l.context,r,c)}},m=l.global,m&&0===a.active++&&a.event.trigger("ajaxStart"),m&&a.event.trigger("ajaxSend",[r,l]),l.beforeSend&&l.beforeSend.call(l.context,r,l)===!1)return l.global&&a.active--,void 0;if(!r.aborted){s=w.clk,s&&(t=s.name,t&&!s.disabled&&(l.extraData=l.extraData||{},l.extraData[t]=s.value,"image"==s.type&&(l.extraData[t+".x"]=w.clk_x,l.extraData[t+".y"]=w.clk_y)));var y=1,z=2,A=a("meta[name=csrf-token]").attr("content"),B=a("meta[name=csrf-param]").attr("content");B&&A&&(l.extraData=l.extraData||{},l.extraData[B]=A),l.forceSync?f():setTimeout(f,10);var C,D,E,F=50,G=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},H=a.parseJSON||function(a){return window.eval("("+a+")")},I=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=H(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g}}}}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var g,h,i,j=this;"function"==typeof b&&(b={success:b}),g=this.attr("method"),h=this.attr("action"),i="string"==typeof h?a.trim(h):"",i=i||window.location.href||"",i&&(i=(i.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:i,success:a.ajaxSettings.success,type:g||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var k={};if(this.trigger("form-pre-serialize",[this,b,k]),k.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&b.beforeSerialize(this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var l=b.traditional;void 0===l&&(l=a.ajaxSettings.traditional);var m,n=[],o=this.formToArray(b.semantic,n);if(b.data&&(b.extraData=b.data,m=a.param(b.data,l)),b.beforeSubmit&&b.beforeSubmit(o,this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[o,this,b,k]),k.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var p=a.param(o,l);m&&(p=p?p+"&"+m:m),"GET"==b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+p,b.data=null):b.data=p;var q=[];if(b.resetForm&&q.push(function(){j.resetForm()}),b.clearForm&&q.push(function(){j.clearForm(b.includeHidden)}),!b.dataType&&b.target){var r=b.success||function(){};q.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(r,arguments)})}else b.success&&q.push(b.success);b.success=function(a,c,d){for(var e=b.context||b,f=0,g=q.length;g>f;f++)q[f].apply(e,[a,c,d||j,j])};var s=a("input:file:enabled[value]",this),t=s.length>0,u="multipart/form-data",v=j.attr("enctype")==u||j.attr("encoding")==u,w=e.fileapi&&e.formdata;d("fileAPI :"+w);var x=(t||v)&&!w;b.iframe!==!1&&(b.iframe||x)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){f(o)}):f(o):(t||v)&&w?c(o):a.ajax(b);for(var y=0;y<n.length;y++)n[y]=null;return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(d("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return e.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,b).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,b).bind("click.form-plugin",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var f=this[0],g=b?f.getElementsByTagName("*"):f.elements;if(!g)return d;var h,i,j,k,l,m,n;for(h=0,m=g.length;m>h;h++)if(l=g[h],j=l.name)if(b&&f.clk&&"image"==l.type)l.disabled||f.clk!=l||(d.push({name:j,value:a(l).val(),type:l.type}),d.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y}));else if(k=a.fieldValue(l,!0),k&&k.constructor==Array)for(c&&c.push(l),i=0,n=k.length;n>i;i++)d.push({name:j,value:k[i]});else if(e.fileapi&&"file"==l.type&&!l.disabled){c&&c.push(l);var o=l.files;if(o.length)for(i=0;i<o.length;i++)d.push({name:j,value:o[i],type:l.type});else d.push({name:j,value:"",type:l.type})}else null!==k&&"undefined"!=typeof k&&(c&&c.push(l),d.push({name:j,value:k,type:l.type,required:l.required}));if(!b&&f.clk){var p=a(f.clk),q=p[0];j=q.name,j&&!q.disabled&&"image"==q.type&&(d.push({name:j,value:p.val()}),d.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})
}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:b&&(b===!0&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1}(jQuery),function(a){function b(a,b,e){var f=a[0];if(g=/er/.test(e)?q:/bl/.test(e)?o:m,active=e==r?{checked:f[m],disabled:f[o],indeterminate:"true"==a.attr(q)||"false"==a.attr(p)}:f[g],/^(ch|di|in)/.test(e)&&!active)c(a,g);else if(/^(un|en|de)/.test(e)&&active)d(a,g);else if(e==r)for(var g in active)active[g]?c(a,g,!0):d(a,g,!0);else b&&"toggle"!=e||(b||a[x]("ifClicked"),active?f[s]!==l&&d(a,g):c(a,g))}function c(b,c,e){var k=b[0],r=b.parent(),t=c==m,u=c==q,x=u?p:t?n:"enabled",y=f(k,x+g(k[s])),A=f(k,c+g(k[s]));if(k[c]!==!0){if(!e&&c==m&&k[s]==l&&k.name){var B=b.closest("form"),C='input[name="'+k.name+'"]';C=B.length?B.find(C):a(C),C.each(function(){this!==k&&a.data(this,i)&&d(a(this),c)})}u?(k[c]=!0,k[m]&&d(b,m,"force")):(e||(k[c]=!0),t&&k[q]&&d(b,q,!1)),h(b,t,c,e)}k[o]&&f(k,z,!0)&&r.find("."+j).css(z,"default"),r[v](A||f(k,c)),r[w](y||f(k,x)||"")}function d(a,b,c){var d=a[0],e=a.parent(),i=b==m,k=b==q,l=k?p:i?n:"enabled",r=f(d,l+g(d[s])),t=f(d,b+g(d[s]));d[b]!==!1&&((k||!c||"force"==c)&&(d[b]=!1),h(a,i,l,c)),!d[o]&&f(d,z,!0)&&e.find("."+j).css(z,"pointer"),e[w](t||f(d,b)||""),e[v](r||f(d,l))}function e(b,c){if(a.data(b,i)){var d=a(b);d.parent().html(d.attr("style",a.data(b,i).s||"")[x](c||"")),d.off(".i").unwrap(),a(y+'[for="'+b.id+'"]').add(d.closest(y)).off(".i")}}function f(b,c,d){return a.data(b,i)?a.data(b,i).o[c+(d?"":"Class")]:void 0}function g(a){return a.charAt(0).toUpperCase()+a.slice(1)}function h(a,b,c,d){d||(b&&a[x]("ifToggled"),a[x]("ifChanged")[x]("if"+g(c)))}var i="iCheck",j=i+"-helper",k="checkbox",l="radio",m="checked",n="un"+m,o="disabled",p="determinate",q="in"+p,r="update",s="type",t="click",u="touchbegin.i touchend.i",v="addClass",w="removeClass",x="trigger",y="label",z="cursor",A=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini/i.test(navigator.userAgent);a.fn[i]=function(f,g){var h=":"+k+", :"+l,n=a(),p=function(b){b.each(function(){var b=a(this);n=b.is(h)?n.add(b):n.add(b.find(h))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(f))return f=f.toLowerCase(),p(this),n.each(function(){"destroy"==f?e(this,"ifDestroyed"):b(a(this),!0,f),a.isFunction(g)&&g()});if("object"!=typeof f&&f)return this;var z=a.extend({checkedClass:m,disabledClass:o,indeterminateClass:q,labelHover:!0},f),B=z.handle,C=z.hoverClass||"hover",D=z.focusClass||"focus",E=z.activeClass||"active",F=!!z.labelHover,G=z.labelHoverClass||"hover",H=0|(""+z.increaseArea).replace("%","");return(B==k||B==l)&&(h=":"+B),-50>H&&(H=-50),p(this),n.each(function(){e(this);var f=a(this),g=this,h=g.id,n=-H+"%",p=100+2*H+"%",q={position:"absolute",top:n,left:n,display:"block",width:p,height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},B=A?{position:"absolute",visibility:"hidden"}:H?q:{position:"absolute",opacity:0},I=g[s]==k?z.checkboxClass||"i"+k:z.radioClass||"i"+l,J=a(y+'[for="'+h+'"]').add(f.closest(y)),K=f.wrap('<div class="'+I+'"/>')[x]("ifCreated").parent().append(z.insert),L=a('<ins class="'+j+'"/>').css(q).appendTo(K);f.data(i,{o:z,s:f.attr("style")}).css(B),!!z.inheritClass&&K[v](g.className),!!z.inheritID&&h&&K.attr("id",i+"-"+h),"static"==K.css("position")&&K.css("position","relative"),b(f,!0,r),J.length&&J.on(t+".i mouseenter.i mouseleave.i "+u,function(c){var d=c[s],e=a(this);if(!g[o]){if(d==t?b(f,!1,!0):F&&(/ve|nd/.test(d)?(K[w](C),e[w](G)):(K[v](C),e[v](G))),!A)return!1;c.stopPropagation()}}),f.on(t+".i focus.i blur.i keyup.i keydown.i keypress.i",function(b){var e=b[s],h=b.keyCode;if(e==t)return!1;if("keydown"==e&&32==h)return g[s]==l&&g[m]||(g[m]?d(f,m):c(f,m)),!1;if("keyup"==e&&g[s]==l)!g[m]&&c(f,m);else if("keyup"==e){if(38==h||37==h){var i=a(this).parent().prevAll("div.icheckbox_minimal:first").find("input");i.length&&i.trigger("focus.i")}else if(40==h||39==h){var i=a(this).parent().nextAll("div.icheckbox_minimal:first").find("input");i.length&&i.trigger("focus.i")}}else/us|ur/.test(e)&&K["blur"==e?w:v](D)}),L.on(t+" mousedown mouseup mouseover mouseout "+u,function(a){var c=a[s],d=/wn|up/.test(c)?E:C;if(!g[o]){if(c==t?b(f,!1,!0):(/wn|er|in/.test(c)?K[v](d):K[w](d+" "+E),J.length&&F&&d==C&&J[/ut|nd/.test(c)?w:v](G)),!A)return!1;a.stopPropagation()}})})}}(jQuery),function(){function a(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),void 0):(a.attachEvent("on"+b,c),void 0)}function b(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return u[a.which]?u[a.which]:v[a.which]?v[a.which]:String.fromCharCode(a.which).toLowerCase()}function c(a,b){return a.sort().join(",")===b.sort().join(",")}function d(a){a=a||{};var b,c=!1;for(b in A)a[b]?c=!0:A[b]=0;c||(C=!1)}function e(a,b,d,e,f,g){var h,i,k=[],l=d.type;if(!y[a])return[];for("keyup"==l&&j(a)&&(b=[a]),h=0;h<y[a].length;++h)if(i=y[a][h],(e||!i.seq||A[i.seq]==i.level)&&l==i.action&&("keypress"==l&&!d.metaKey&&!d.ctrlKey||c(b,i.modifiers))){var m=!e&&i.combo==f,n=e&&i.seq==e&&i.level==g;(m||n)&&y[a].splice(h,1),k.push(i)}return k}function f(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function g(a,b,c){E.stopCallback(b,b.target||b.srcElement,c)||a(b,c)===!1&&(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.returnValue=!1,b.cancelBubble=!0)}function h(a,b,c){var f,h=e(a,b,c),i={},k=0,l=!1;for(f=0;f<h.length;++f)h[f].seq&&(k=Math.max(k,h[f].level));for(f=0;f<h.length;++f)if(h[f].seq){if(h[f].level!=k)continue;l=!0,i[h[f].seq]=1,g(h[f].callback,c,h[f].combo)}else l||g(h[f].callback,c,h[f].combo);c.type!=C||j(a)||d(i)}function i(a){"number"!=typeof a.which&&(a.which=a.keyCode);var c=b(a);if(c)return"keyup"==a.type&&B==c?(B=!1,void 0):(E.handleKey(c,f(a),a),void 0)}function j(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function k(){clearTimeout(t),t=setTimeout(d,1e3)}function l(){if(!s){s={};for(var a in u)a>95&&112>a||u.hasOwnProperty(a)&&(s[u[a]]=a)}return s}function m(a,b,c){return c||(c=l()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function n(a,c,e,f){function h(b){return function(){C=b,++A[a],k()}}function i(c){g(e,c,a),"keyup"!==f&&(B=b(c)),setTimeout(d,10)}A[a]=0;for(var j=0;j<c.length;++j){var l=j+1===c.length,m=l?i:h(f||p(c[j+1]).action);q(c[j],m,f,a,j)}}function o(a){return"+"===a?["+"]:a.split("+")}function p(a,b){var c,d,e,f=[];for(c=o(a),e=0;e<c.length;++e)d=c[e],x[d]&&(d=x[d]),b&&"keypress"!=b&&w[d]&&(d=w[d],f.push("shift")),j(d)&&f.push(d);return b=m(d,f,b),{key:d,modifiers:f,action:b}}function q(a,b,c,d,f){z[a+":"+c]=b,a=a.replace(/\s+/g," ");var g,h=a.split(" ");return h.length>1?(n(a,h,b,c),void 0):(g=p(a,c),y[g.key]=y[g.key]||[],e(g.key,g.modifiers,{type:g.action},d,a,f),y[g.key][d?"unshift":"push"]({callback:b,modifiers:g.modifiers,action:g.action,seq:d,level:f,combo:a}),void 0)}function r(a,b,c){for(var d=0;d<a.length;++d)q(a[d],b,c)}for(var s,t,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},v={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},w={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},x={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},y={},z={},A={},B=!1,C=!1,D=1;20>D;++D)u[111+D]="f"+D;for(D=0;9>=D;++D)u[D+96]=D;a(document,"keypress",i),a(document,"keydown",i),a(document,"keyup",i);var E={bind:function(a,b,c){return a=a instanceof Array?a:[a],r(a,b,c),this},unbind:function(a,b){return E.bind(a,function(){},b)},trigger:function(a,b){return z[a+":"+b]&&z[a+":"+b]({},a),this},reset:function(){return y={},z={},this},stopCallback:function(a,b){return(" "+b.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.contentEditable&&"true"==b.contentEditable},handleKey:h};window.Mousetrap=E,"function"==typeof define&&define.amd&&define(E)}(),Mousetrap=function(a){var b={},c=a.stopCallback;return a.stopCallback=function(a,d,e){return b[e]?!1:c(a,d,e)},a.bindGlobal=function(c,d,e){if(a.bind(c,d,e),c instanceof Array)for(var f=0;f<c.length;f++)b[c[f]]=!0;else b[c]=!0},a}(Mousetrap),function(a){function b(a){return"undefined"==typeof a?!1:!0}function c(a){return!b(a)||"object"==typeof a}function d(c){var d=/^((\d{1,2}|\*)\s){4}(\d{1,2}|\*)$/;if("string"!=typeof c||!d.test(c))return a.error("cron: invalid initial value"),void 0;for(var e=c.split(" "),f=[0,0,1,1,0],g=[59,23,31,12,7],h=0;h<e.length;h++)if("*"!=e[h]){var i=parseInt(e[h]);if(!(b(i)&&i<=g[h]&&i>=f[h]))return a.error("cron: invalid value found (col "+(h+1)+") in "+o.initial),void 0}for(var j in v)if(v[j].test(c))return j;return a.error("cron: valid but unsupported cron format. sorry."),void 0}function e(a,e){return b(d(e.initial))?c(e.customValues)?!1:!0:!0}function f(a){var b=a.data("block"),c=hour=day=month=dow="*",d=b.period.find("select").val();switch(d){case"minute":break;case"hour":c=b.mins.find("select").val();break;case"day":c=b.time.find("select.cron-time-min").val(),hour=b.time.find("select.cron-time-hour").val();break;case"week":c=b.time.find("select.cron-time-min").val(),hour=b.time.find("select.cron-time-hour").val(),dow=b.dow.find("select").val();break;case"month":c=b.time.find("select.cron-time-min").val(),hour=b.time.find("select.cron-time-hour").val(),day=b.dom.find("select").val();break;case"year":c=b.time.find("select.cron-time-min").val(),hour=b.time.find("select.cron-time-hour").val(),day=b.dom.find("select").val(),month=b.month.find("select").val();break;default:return d}return"*"==dow&&"?"!=day&&(dow="?"),"?"!=dow&&"*"!=dow&&(day="?"),[0,c,hour,day,month,dow].join(" ")}for(var g={initial:"* * * * *",minuteOpts:{minWidth:100,itemWidth:20,columns:5,rows:void 0,title:"Minutes Past the Hour"},timeHourOpts:{minWidth:100,itemWidth:20,columns:3,rows:void 0,title:"Time: Hour"},domOpts:{minWidth:100,itemWidth:30,columns:void 0,rows:10,title:"Day of Month"},monthOpts:{minWidth:100,itemWidth:100,columns:2,rows:void 0,title:void 0},dowOpts:{minWidth:100,itemWidth:void 0,columns:void 0,rows:void 0,title:void 0},timeMinuteOpts:{minWidth:100,itemWidth:20,columns:5,rows:void 0,title:"Time: Minute"},effectOpts:{openSpeed:300,closeSpeed:300,openEffect:"slide",closeEffect:"slide",hideOnMouseOut:!0},url_set:void 0,customValues:void 0,onChange:void 0},h="",i=0;60>i;i++){var j=10>i?"0":"";h+="<option value='"+i+"'>"+j+i+"</option>\n"}for(var k="",i=0;24>i;i++){var j=10>i?"0":"";k+="<option value='"+i+"'>"+j+i+"</option>\n"}for(var l="",i=1;32>i;i++){if(1==i||21==i||31==i)var m="st";else if(2==i||22==i)var m="nd";else if(3==i||23==i)var m="rd";else var m="th";l+="<option value='"+i+"'>"+i+m+"</option>\n"}for(var n="",p=["January","February","March","April","May","June","July","August","September","October","November","December"],i=0;i<p.length;i++)n+="<option value='"+(i+1)+"'>"+p[i]+"</option>\n";for(var q="",r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=0;i<r.length;i++)q+="<option value='"+(i+1)+"'>"+r[i]+"</option>\n";for(var s="",t=["hour","day","week","month"],i=0;i<t.length;i++)s+="<option value='"+t[i]+"'>"+t[i]+"</option>\n";var u={minute:[],hour:["mins"],day:["time"],week:["dow","time"],month:["dom","time"],year:["dom","month","time"]},v={minute:/^(\*\s){4}\*$/,hour:/^\d{1,2}\s(\*\s){3}\*$/,day:/^(\d{1,2}\s){2}(\*\s){2}\*$/,week:/^(\d{1,2}\s){2}(\*\s){2}\d{1,2}$/,month:/^(\d{1,2}\s){3}\*\s\*$/,year:/^(\d{1,2}\s){4}\*$/},w={init:function(c){var d=c?c:{},f=a.extend([],g,d),i=a.extend({},g.effectOpts,d.effectOpts);if(a.extend(f,{minuteOpts:a.extend({},g.minuteOpts,i,d.minuteOpts),domOpts:a.extend({},g.domOpts,i,d.domOpts),monthOpts:a.extend({},g.monthOpts,i,d.monthOpts),dowOpts:a.extend({},g.dowOpts,i,d.dowOpts),timeHourOpts:a.extend({},g.timeHourOpts,i,d.timeHourOpts),timeMinuteOpts:a.extend({},g.timeMinuteOpts,i,d.timeMinuteOpts)}),e(this,f))return this;var j=[],m="",o=f.customValues;if(b(o))for(var p in o)m+="<option value='"+o[p]+"'>"+p+"</option>\n";return j.period=a("<span class='cron-period'>Every <select name='CronPeriod'>"+m+s+"</select> </span>").appendTo(this).find("select").bind("change.cron",x.periodChanged).data("root",this).gentleSelect(i).end(),j.dom=a("<span class='cron-block cron-block-dom'> on the <select name='CronDayOfMonth'>"+l+"</select> </span>").appendTo(this).data("root",this).find("select").gentleSelect(f.domOpts).data("root",this).end(),j.month=a("<span class='cron-block cron-block-month'> of <select name='CronMonth'>"+n+"</select> </span>").appendTo(this).data("root",this).find("select").gentleSelect(f.monthOpts).data("root",this).end(),j.mins=a("<span class='cron-block cron-block-mins'> at <select name='CronMinutes'>"+h+"</select> minutes past the hour </span>").appendTo(this).data("root",this).find("select").gentleSelect(f.minuteOpts).data("root",this).end(),j.dow=a("<span class='cron-block cron-block-dow'> on <select name='CronDayOfWeek'>"+q+"</select> </span>").appendTo(this).data("root",this).find("select").gentleSelect(f.dowOpts).data("root",this).end(),j.time=a("<span class='cron-block cron-block-time'> at <select name='CronTimeHour' class='cron-time-hour'>"+k+"</select>:<select name='CronTimeMin' class='cron-time-min'>"+h+" </span>").appendTo(this).data("root",this).find("select.cron-time-hour").gentleSelect(f.timeHourOpts).data("root",this).end().find("select.cron-time-min").gentleSelect(f.timeMinuteOpts).data("root",this).end(),j.controls=a("<span class='cron-controls'>&laquo; save <span class='cron-button cron-button-save'></span> </span>").appendTo(this).data("root",this).find("span.cron-button-save").bind("click.cron",x.saveClicked).data("root",this).end(),this.find("select").bind("change.cron-callback",x.somethingChanged),this.data("options",f).data("block",j),this.data("current_value",f.initial),w.value.call(this,f.initial)},value:function(a){if(!a)return f(this);var c=d(a);if(!b(c))return!1;for(var e=this.data("block"),g=a.split(" "),h={mins:g[0],hour:g[1],dom:g[2],month:g[3],dow:g[4]},i=u[c],j=0;j<i.length;j++){var k=i[j];"time"==k?e[k].find("select.cron-time-hour").val(h.hour).gentleSelect("update").end().find("select.cron-time-min").val(h.mins).gentleSelect("update").end():e[k].find("select").val(h[k]).gentleSelect("update")}return e.period.find("select").val(c).gentleSelect("update").trigger("change"),this}},x={periodChanged:function(){var b=a(this).data("root"),c=b.data("block");b.data("options");var d=a(this).val();if(b.find("span.cron-block").hide(),u.hasOwnProperty(d))for(var e=u[a(this).val()],f=0;f<e.length;f++)c[e[f]].show()},somethingChanged:function(){root=a(this).data("root"),b(root.data("options").url_set)?w.value.call(root)!=root.data("current_value")?(root.addClass("cron-changed"),root.data("block").controls.fadeIn()):(root.removeClass("cron-changed"),root.data("block").controls.fadeOut()):root.data("block").controls.hide();var c=root.data("options").onChange;b(c)&&a.isFunction(c)&&c.call(root)},saveClicked:function(){var b=a(this),c=b.data("root"),d=w.value.call(c);b.hasClass("cron-loading")||(b.addClass("cron-loading"),a.ajax({type:"POST",url:c.data("options").url_set,data:{cron:d},success:function(){c.data("current_value",d),b.removeClass("cron-loading"),d==w.value.call(c)&&(c.removeClass("cron-changed"),c.data("block").controls.fadeOut())},error:function(){alert("An error occured when submitting your request. Try again?"),b.removeClass("cron-loading")}}))}};a.fn.cron=function(b){return w[b]?w[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.cron"),void 0):w.init.apply(this,arguments)}}(jQuery),function(a){function b(a){return"undefined"==typeof a?!1:!0}function c(c,d){return b(d.columns)&&b(d.rows)?(a.error("gentleSelect: You cannot supply both 'rows' and 'columns'"),!0):b(d.columns)&&!b(d.itemWidth)?(a.error("gentleSelect: itemWidth must be supplied if 'columns' is specified"),!0):b(d.rows)&&!b(d.itemWidth)?(a.error("gentleSelect: itemWidth must be supplied if 'rows' is specified"),!0):!b(d.openSpeed)||"number"!=typeof d.openSpeed&&"string"==typeof d.openSpeed&&"slow"!=d.openSpeed&&"fast"!=d.openSpeed?(a.error('gentleSelect: openSpeed must be an integer or "slow" or "fast"'),!0):!b(d.closeSpeed)||"number"!=typeof d.closeSpeed&&"string"==typeof d.closeSpeed&&"slow"!=d.closeSpeed&&"fast"!=d.closeSpeed?(a.error('gentleSelect: closeSpeed must be an integer or "slow" or "fast"'),!0):!b(d.openEffect)||"fade"!=d.openEffect&&"slide"!=d.openEffect?(a.error("gentleSelect: openEffect must be either 'fade' or 'slide'!"),!0):!b(d.closeEffect)||"fade"!=d.closeEffect&&"slide"!=d.closeEffect?(a.error("gentleSelect: closeEffect must be either 'fade' or 'slide'!"),!0):b(d.hideOnMouseOut)&&"boolean"==typeof d.hideOnMouseOut?!1:(a.error('gentleSelect: hideOnMouseOut must be supplied and either "true" or "false"!'),!0)}function d(a,b){a.attr("multiple")&&(b.hideOnMouseOut=!0)}function e(b,c){if(b.length<1)return c.prompt;if(0!=c.maxDisplay&&b.length>c.maxDisplay){var d=b.slice(0,c.maxDisplay).map(function(){return a(this).text()});d.push("...")}else var d=b.map(function(){return a(this).text()});return d.get().join(", ")}var f={minWidth:100,itemWidth:void 0,columns:void 0,rows:void 0,title:void 0,prompt:"Make A Selection",maxDisplay:0,openSpeed:0,closeSpeed:0,openEffect:"fade",closeEffect:"slide",hideOnMouseOut:!0},g={init:function(g){var i=a.extend({},f,g);if(c(this,i))return this;d(this,i),this.hide(),label_text=e(this.find(":selected"),i);var j=a("<span class='gentleselect-label'>"+label_text+"</span>").insertBefore(this).bind("mouseenter.gentleselect",h.labelHoverIn).bind("mouseleave.gentleselect",h.labelHoverOut).bind("click.gentleselect",h.labelClick).data("root",this);this.data("label",j).data("options",i);var k=a("<ul></ul>");this.find("option").each(function(){var b=a("<li>"+a(this).text()+"</li>").data("value",a(this).attr("value")).data("name",a(this).text()).appendTo(k);a(this).attr("selected")&&b.addClass("selected")});var l=a("<div class='gentleselect-dialog'></div>").append(k).insertAfter(j).bind("click.gentleselect",h.dialogClick).bind("mouseleave.gentleselect",h.dialogHoverOut).data("label",j).data("root",this);if(this.data("dialog",l),b(i.columns)||b(i.rows)){k.css("float","left").find("li").width(i.itemWidth).css("float","left");var m=k.find("li:first"),n=i.itemWidth+parseInt(m.css("padding-left"))+parseInt(m.css("padding-right")),o=k.find("li").length;if(b(i.columns))var p=parseInt(i.columns),q=Math.ceil(o/p);else var q=parseInt(i.rows),p=Math.ceil(o/q);l.width(n*p);for(var r=0;q*p-o>r;r++)a("<li style='float:left' class='gentleselect-dummy'><span>&nbsp;</span></li>").appendTo(k);var s=[],t=0;k.find("li").each(function(){if(q>t)s[t]=a(this);else{var b=t%q;a(this).insertAfter(s[b]),s[b]=a(this)}t++})}else"number"==typeof i.minWidth&&l.css("min-width",i.minWidth);return b(i.title)&&a("<div class='gentleselect-title'>"+i.title+"</div>").prependTo(l),a(document).bind("keyup.gentleselect",h.keyUp),this},update:function(){var b=this.data("options"),c=this.attr("multiple")?this.val():[this.val()];a("li",this.data("dialog")).each(function(){var b=a(this),d=-1!=a.inArray(b.data("value"),c);b.toggleClass("selected",d)});var d=e(this.find(":selected"),b);return this.data("label").text(d),this}},h={labelHoverIn:function(){a(this).addClass("gentleselect-label-highlight")},labelHoverOut:function(){a(this).removeClass("gentleselect-label-highlight")},labelClick:function(){var b=a(this),c=b.position(),d=b.data("root"),e=d.data("options"),f=d.data("dialog"),c=a(this).offset(),g=f.is(":visible");a(this).parent().parent().find(".gentleselect-dialog").hide(),g?f.hide():(f.css("left",c.left).css("top",c.top+30).show(),"fade"==e.openEffect?f.hide():f.show())},dialogHoverOut:function(){var b=a(this);b.data("root").data("options").hideOnMouseOut&&(b.hide(),b.css("left",""),b.css("top",""))},dialogClick:function(b){var c=a(b.target),d=a(this),f=d.data("root"),g=f.data("options");if(f.attr("multiple")||("fade"==g.closeEffect?d.fadeOut(g.closeSpeed):d.slideUp(g.closeSpeed)),c.is("li")&&!c.hasClass("gentleselect-dummy")){var h=c.data("value");c.data("name");var i=d.data("label");if(d.data("root").attr("multiple")){c.toggleClass("selected");var j=d.find("li.selected");i.text(e(j,g));var k=j.map(function(){return a(this).data("value")});f.val(k.get()).trigger("change")}else d.find("li.selected").removeClass("selected"),c.addClass("selected"),i.text(c.data("name")),f.val(h).trigger("change")}},keyUp:function(b){27==b.keyCode&&a(".gentleselect-dialog").hide()}};a.fn.gentleSelect=function(b){return g[b]?g[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.gentleSelect"),void 0):g.init.apply(this,arguments)}}(jQuery),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),gemini_filter={pageType:0,dropZoneIndex:0,rowDragIndex:0,currentExecuteRequest:null,executeEndPoint:null,executeData:null,refreshTable:null,currentListValues:null,needFiltering:!1,currentSelectedField:!1,suspendICheck:!1,filterTooltip:function(){$("#filter-form .instant-filter-box").hoverIntent({interval:250,over:function(){var a=$(this).width(),b=$(".instant-filter-dropdown",$(this)).is(":visible");200>a||b||($("#instant-filter-tooltip").width(a-14),$("#instant-filter-tooltip").html($(".instant-filter-caption",$(this)).html()),$("#instant-filter-tooltip").show(),$("#instant-filter-tooltip").position({my:"left top",at:"left bottom",of:$(this),offset:"0 0",collision:"none"}),$("#instant-filter-tooltip").hide(),$("#instant-filter-tooltip").slideDown("fast"))},out:function(){$("#instant-filter-tooltip").hide()}})},populateCaptionFromSelect:function(a){var b="";$("option:selected",a).each(function(){b+=$(this).text()+", "}),b=b.replace(new RegExp(String.fromCharCode(183),"g"),""),b=b.replace(new RegExp(", $","g"),""),$(".instant-filter-caption",a).html(b)},populateCaptionFromCustom:function(a){var b="";$("input:checked",a).each(function(){b+=$(this).parent().next().html()+", "}),$("option:selected",a).each(function(){b+=$(this).text()+", "}),b=b.replace(new RegExp(String.fromCharCode(183),"g"),""),b=b.replace(new RegExp(", $","g"),""),$(".instant-filter-caption",a).html(b)},populateCaptionFromText:function(a){var b=$('input[type="radio"]:checked',a),c=b.parent().next();if(c.is('input[type="text"]')){var d=gemini_commons.htmlEncode(c.val());c=c.next("input"),c.length>0&&(d+=" - "+gemini_commons.htmlEncode(c.val())),$(".instant-filter-caption",a.parent()).html(d)}else $(".instant-filter-caption",a.parent()).html(c.html())},populateCaptionFromChecks:function(a){var b="",c=a.find('input[type="checkbox"]:checked');c.each(function(){b+=$(this).parent().next().html()+", "}),b=b.replace(new RegExp(String.fromCharCode(183),"g"),""),b=b.replace(new RegExp(", $","g"),""),$(".instant-filter-caption",a.parent()).html(b)},checkNeedsFilter:function(){gemini_filter.needFiltering&&gemini_filter.executeFilter(),$(".instant-filter-dropdown","#filter-form").hide({})},dateChanged:function(a,b){$(b).keyup(),gemini_filter.executeFilter()},init:function(a,b){gemini_filter.pageType=a,$("#filter-form").on("change",'.instant-filter-box[data-field-name="ProjectCode"] select',function(){var a=$(this).val(),b=$("option:first",$(this)).val();if(null!=a&&void 0!=a&&a.length>1&&-1!=a.indexOf(b))if(null!=gemini_filter.currentListValues&&void 0!=gemini_filter.currentListValues&&-1!=gemini_filter.currentListValues.indexOf(b)){var d=$(this).val();d.splice(0,1),$(this).val(d)}else $(this).val(b);else(null==a||void 0==a)&&$(this).val(b);$(this).trigger("liszt:updated"),gemini_filter.currentListValues=$(this).val(),gemini_filter.populateCaptionFromSelect($(this).parent().parent()),gemini_ajax.postCall(csVars.ProjectUrl+"items","filteredprojectchanged",function(a){$(".dynamic","#filter-form").remove(),$("#instant-filter-fields").before(a.Result.Html),gemini_filter.filterTooltip(),gemini_ui.datePicker("#filter-form .datepicker",gemini_filter.dateChanged),gemini_ui.fancyInputs("#filter-form .fancy"),c=[],$(a.Result.Fields).each(function(){c.push({value:this.Key,label:this.Value})}),gemini_filter.executeFilter()},null,{filter:$("#filter-form").serialize()})}),$("#filter-form").on("change",'.instant-filter-box:not([data-field-name="ProjectCode"]) select',function(){var a=$(this).val(),b=$("option:first",$(this)).val();if(null!=a&&void 0!=a&&a.length>1&&-1!=a.indexOf(b))if(null!=gemini_filter.currentListValues&&void 0!=gemini_filter.currentListValues&&-1!=gemini_filter.currentListValues.indexOf(b)){var c=$(this).val();c.splice(0,1),$(this).val(c)}else $(this).val(b);else(null==a||void 0==a)&&$(this).val(b);$(this).trigger("liszt:updated"),gemini_filter.currentListValues=$(this).val(),"custom"==$(this).parent().attr("data-field-type")?gemini_filter.populateCaptionFromCustom($(this).parent().parent()):gemini_filter.populateCaptionFromSelect($(this).parent().parent()),gemini_filter.executeFilter()}),$("#filter-form").on("click",".instant-filter-box .instant-filter-header, .instant-filter-box .fonticon-dropdown",function(a){gemini_commons.stopClick(a),$("#instant-filter-tooltip").hide(),gemini_filter.checkNeedsFilter();var b=$(this).parent();if($(".instant-filter-dropdown",b).is(":visible"))$(".instant-filter-dropdown",b).hide(),gemini_filter.currentListValues=null;else{$(".instant-filter-dropdown","#filter-form").hide(),$(".instant-filter-dropdown",b).show();var c=!1;if(0==$(".chzn-container",b).length){if(0==$(".auto-complete-chosen",b).length)gemini_ui.chosen($("select",b),null);else{var d=$("select",b);gemini_ui.ajaxChosen($("select",b),null,null,"project/filter",{filter:function(){return $("#filter-form").serialize()},selected:function(){return d.val()}})}c=!0}gemini_filter.currentListValues=$("select",b).val();var e=$('.instant-filter-dropdown[data-field-type="custom"]',b).length>0;if($("select",b).length>0&&!e)$(".chzn-container",b).focus().mousedown();else if(!e){var f=$('.instant-filter-dropdown[data-field-type="check"]',b).length>0;f?$("div.icheckbox_minimal:first input",b).trigger("focus.i"):$('input[type="text"]:first',b).focus().click(),c=!1}c&&$(".chzn-results",b).jScrollPane({})}}),$("#filter-form").on("click",'.instant-filter-box .instant-filter-dropdown[data-field-type="select"]',function(a){gemini_commons.stopClick(a)}),$("#filter-form").on("ifChecked",'.instant-filter-box .instant-filter-dropdown[data-field-type="text"] input[type="radio"]',function(){var a=$(this);"true"==a.attr("data-clear")&&(a.parent().parent().children('input[type="text"]').val(""),gemini_filter.populateCaptionFromText(a.parent().parent()),gemini_filter.executeFilter())}),$("#filter-form").on("ifChanged",'.instant-filter-box .instant-filter-dropdown[data-field-type="custom"] input[type="checkbox"]',function(){gemini_filter.populateCaptionFromCustom($(this).parent().parent().parent()),gemini_filter.executeFilter()}),$("#filter-form").on("ifChanged",'.instant-filter-box .instant-filter-dropdown[data-field-type="check"] input[type="checkbox"]',function(){if(!gemini_filter.suspendICheck){gemini_filter.suspendICheck=!0;var a=$(this);if("-|1"==a.val()){if(a.parent().parent().find('input[type="checkbox"]:checked').not(":eq(0)").each(function(){$(this).iCheck("uncheck")}),a.parent().parent().find('input[type="checkbox"]:checked').not(":eq(0)").prop("checked",!1),!a.prop("checked"))return gemini_filter.suspendICheck=!1,void 0}else a.parent().parent().find('input[type="checkbox"]:first').iCheck("uncheck"),a.parent().parent().find('input[type="checkbox"]:first').prop("checked",!1);gemini_filter.populateCaptionFromChecks(a.parent().parent()),gemini_filter.executeFilter(),gemini_filter.suspendICheck=!1}}),$("#filter-form").on("keydown",'.instant-filter-box .instant-filter-dropdown[data-field-type="text"] input[type="text"]',function(a){var b=a.keyCode||a.which;return b==$.ui.keyCode.ENTER?(a.preventDefault(),gemini_filter.populateCaptionFromText($(this).parent()),gemini_filter.executeFilter(),!1):void 0}),$("#filter-form").on("keyup",'.instant-filter-box .instant-filter-dropdown[data-field-type="text"] input[type="text"]',function(){var a=$(this),b=a.val();if(null!=b&&void 0!=b&&b.length>0){var c=null;c=gemini_commons.endsWith(a.attr("id"),"_to")?a.prev("input").prev().first('input[type="radio"]'):a.prev().first('input[type="radio"]'),c.prop("checked",!0),c.iCheck("check"),gemini_filter.needFiltering=!0}else{var d=!0;if(gemini_commons.endsWith(a.attr("id"),"_to")){var e=a.prev("input");e.length>0&&(b=e.val(),null!=b&&void 0!=b&&b.length>0&&(d=!1))}else{var e=a.next("input");e.length>0&&(b=e.val(),null!=b&&void 0!=b&&b.length>0&&(d=!1))}if(d){var c=a.parent().find('input[type="radio"]:first').parent();c.prop("checked",!0),c.iCheck("check")}gemini_filter.executeFilter()}gemini_filter.populateCaptionFromText(a.parent())}),gemini_ui.fancyInputs("#filter-form .fancy"),$("#filter-form").on("click",".instant-filter-box .fonticon-cross",function(a){gemini_commons.stopClick(a);var b=$(this),d=b.parent();c.push({value:$(d).attr("data-field-name"),label:$(d).attr("data-field-desc")}),c.sort(function(a,b){return a.label>b.label}),$(d).remove(),gemini_filter.executeFilter(),$("#instant-filter-new-field").focus().click()});var c=[];$(b).each(function(){c.push({value:this.Key,label:this.Value})}),$("#instant-filter-new-field").bind("keydown",function(a){if(a.keyCode===$.ui.keyCode.ENTER){if(!gemini_filter.currentSelectedField){$("#instant-filter-Keywords").remove(),gemini_ajax.postCall(csVars.ProjectUrl+"items","newfilterbox",function(a){$("#instant-filter-fields").before(a.Result.Html),gemini_ui.fancyInputs("#instant-filter-Keywords .fancy"),gemini_filter.filterTooltip(),gemini_filter.executeFilter()
},null,{field:$(this).val(),filter:$("#filter-form").serialize()}),$(this).val("");for(var b=c.length-1;b>=0;b--)if("Keywords"===c[b].value){c.splice(b,1);break}return!1}if(null==$(this).val()||void 0==$(this).val()||0==$(this).val().length)return!1}else if(8==a.keyCode){var d=$("#instant-filter-new-field").val();if(null==d||void 0==d||0==d.length){var e=$(".fonticon-cross:last","#filter-form");e.length>0?e.click():$(".instant-filter-header","#instant-filter-ProjectCode").click()}}}),$("#instant-filter-new-field").autocomplete({select:function(a,b){return gemini_ajax.postCall(csVars.ProjectUrl+"items","newfilterbox",function(a){$("#instant-filter-fields").before(a.Result.Html),gemini_filter.filterTooltip(),gemini_ui.datePicker("#instant-filter-"+a.Result.Field+" .datepicker",gemini_filter.dateChanged),gemini_ui.fancyInputs("#instant-filter-"+a.Result.Field+" .fancy"),setTimeout(function(){$(".instant-filter-title","#instant-filter-"+a.Result.Field).click()},100)},null,{field:b.item.value,filter:$("#filter-form").serialize()}),$(this).val(""),c.splice(c.indexOf(b.item),1),!1},focus:function(){return $(".auto-popup","#filter-form").hide({}),!1},delay:0,minLength:0,autoFocus:!0,source:function(a,b){var d=$.map(c,function(b){return 0===b.label.toUpperCase().indexOf(a.term.toUpperCase())?b:void 0});gemini_filter.currentSelectedField=d.length>0,b(d)}}),$("#instant-filter-new-field").autocomplete("widget").css("position","fixed"),$("#instant-filter-new-field").bind("focus",function(){$("#instant-filter-new-field").autocomplete("search")}),gemini_ui.datePicker("#filter-form .datepicker",gemini_filter.dateChanged),gemini_filter.filterTooltip(),$("#filter-form .instant-filter-title, #filter-form .instant-filter-caption").disableSelection(),$(document).on("click","#grid-import-data",function(){$("#cs-popup-center-content").css("width","800px"),$("#cs-popup-center-content").css("height","380px"),gemini_popup.centerPopup(csVars.ProjectUrl+"items/importdatap","popup")});var d=$("#filter-limit","#items-filter");parseInt(d.val())>parseInt(d.attr("data-filterlimit"))&&$("#filter-project-specific .custom-filter").hide(),$("#data").on("click","#pager-next",function(){var a=$("#pager-next").data("page");gemini_filter.getFilteredItemsPage(a)}),$("#data").on("click","#pager-prev",function(){var a=$("#pager-prev").data("page")-2;a>=0&&gemini_filter.getFilteredItemsPage(a)}),2!=gemini_filter.pageType&&gemini_filter.pageType!=gemini_commons.PAGE_TYPE.Burndown&&gemini_filter.initDataTable(),gemini_filter.bindExportToShowHide()},EscapeDropdowns:function(a,b){"#items-filter li.selected .header"==b?$(b).click():$(b).fadeOut("fast"),gemini_keyboard.unbindEscape(b)},bindExportToShowHide:function(){$(document).on("click",".export-to-container a",function(){$(".export-to-container").hide(),gemini_keyboard.unbindEscape(".export-to-container")}),$(document).on("click","#grid-export-excel",function(){$(".export-to-container").is(":visible")?($(".export-to-container").fadeOut("fast"),gemini_keyboard.unbindEscape(".export-to-container")):($(".export-to-container").slideDown("fast"),$(".export-to-container").position({my:"right top",my:"right top",at:"right bottom",of:$("#grid-export-excel"),offset:"0 6",collision:"none"}),gemini_keyboard.bindEscape(".export-to-container",gemini_filter.EscapeDropdowns))})},initDataTable:function(){var a=$("#tabledata").dataTable({bFilter:!1,bPaginate:!1,bInfo:!1,aaSorting:[],fnSortCallback:gemini_filter.sortColumn,sDom:"Rlfrtip",bAutoWidth:!1,aoColumnDefs:[{bSortable:!1,aTargets:[0]}],oColReorder:{fnColReorderCallback:function(a,b){if(a!=b){var c=$($("#tabledata").find("thead").find("tr")[0].cells[a]).data("id"),d=$($("#tabledata").find("thead").find("tr")[0].cells[b]).data("id");$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+"items/reordercolumns/"+gemini_filter.pageType+"?card="+gemini_appnav.pageCard.Id,data:{from:c,to:d},success:function(a){if(a.Success)if(null!=gemini_filter.refreshTable)gemini_filter.executeFilter();else{var b=$("#pager-next").data("page");gemini_filter.getFilteredItemsPage(b-1);var c=$.parseJSON(gemini_commons.htmlDecode(gemini_appnav.pageCard.Options));c.DisplayColumns=a.Result.Data,gemini_appnav.pageCard.Options=gemini_commons.htmlEncode(JSON.stringify(c))}},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}})}}}});gemini_filter.initTableDnD();var b=$("#Sort").length>0?$("#Sort").val().split("|"):"",c=0,d=[];for(c=0;c<b.length;c+=2)if(""!=b[c]){var e=$("#tabledata").find('[data-id="'+b[c]+'"]');e.length>0&&d.push([e.index(),0==b[c+1]?0:1])}a.fnSetSort(d),$("#tabledata").on("click",".parent",function(a){if(gemini_commons.stopClick(a),$(this).hasClass("fonticon-arrow-down"))gemini_ajax.postCall(csVars.ProjectUrl+"items/"+$(this).parent().parent().data("issue-id"),"fetchdependants",gemini_filter.showDependants,null,{filter:$("#filter-form").serialize()}),$(this).removeClass("fonticon-arrow-down"),$(this).addClass("fonticon-arrow-up");else{for(var b=$(this).parent().parent().next();$(b).hasClass("dependant");){var c=b;b=$(b).next(),$(c).remove()}$(this).removeClass("fonticon-arrow-up"),$(this).addClass("fonticon-arrow-down")}}),gemini_items.bindContextMenu()},initTableDnD:function(){$("#tabledata").tableDnD({dragHandle:".dragHandle",onDrop:function(a,b){var c=$(".drop-zone").index();c<b.rowIndex&&gemini_filter.rowDragIndex>b.rowIndex||(c<b.rowIndex?($(".dragHandle",b).addClass("item-drag-handle"),$(".dragHandle",b).removeClass("item-drag-handle-selected")):($(".dragHandle",b).addClass("item-drag-handle-selected"),$(".dragHandle",b).removeClass("item-drag-handle")),$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+"items/resequence",data:{issueId:$(b).data("issue-id"),afterIssueId:1==b.rowIndex||c<b.rowIndex?0:$(a.rows[b.rowIndex-1]).data("issue-id"),newIndex:c<b.rowIndex?-1:b.rowIndex-1,oldIndex:gemini_filter.rowDragIndex-1},success:function(a){a.Success},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}}))},onDragStart:function(a,b){gemini_filter.rowDragIndex=b.parentNode.parentNode.rowIndex,$(".dependant","#tabledata").remove()},onDragClass:"highlight-hover"})},showDependants:function(a){$("#tr-issue-"+a.Result.IssueId,"#tabledata").after(a.Result.Dependants),$("tr[id^='tr-issue-'] td","#tabledata").destroyContextMenu(),gemini_items.bindContextMenu(),gemini_ui.fancyInputs("#tabledata .fancy"),gemini_items.initCheckAllItems(),gemini_items.initShiftSelect()},getFilteredItemsCurrentPage:function(){gemini_filter.getFilteredItemsPage($("#pager-next").data("page")-1)},getFilteredItemsPage:function(a){null==gemini_filter.currentExecuteRequest&&($("#items-grid").css("opacity","0.6"),gemini_filter.currentExecuteRequest=$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+"items/"+a+"?card="+gemini_appnav.pageCard.Id,data:{filterForm:$("#filter-form").serialize()},success:function(a){gemini_filter.currentExecuteRequest=null,a.Success&&($("#pager-next").data("page",a.Result.CurrentPage),$("#pager-prev").data("page",a.Result.CurrentPage),$("#data").html(a.Result.Data),gemini_filter.initDataTable(),gemini_ui.fancyInputs("#tabledata .fancy"),gemini_items.initCheckAllItems(),gemini_items.initShiftSelect(),gemini_items.initPageSize(),$("#tabledata tbody tr:not(.drop-zone):first").length?$("#pageSizeContainer").show():$("#pageSizeContainer").hide()),$.publish("items-grid-page-loaded"),$("#items-grid").css("opacity","1")},error:function(a,b,c){$("#items-grid").css("opacity","1"),gemini_filter.currentExecuteRequest=null,gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}}))},sortColumn:function(a){var b,c="";for(b=0;b<a.aaSorting.length;b++){if("0"==c+a.aoColumns[a.aaSorting[b][0]].sGeminiId)return;c=c+a.aoColumns[a.aaSorting[b][0]].sGeminiId+"|"+a.aaSorting[b][2]+"|"}$("#Sort").val(c),gemini_filter.executeFilter()},executeFilter:function(){gemini_filter.needFiltering=!1,null!=gemini_filter.currentExecuteRequest&&gemini_filter.currentExecuteRequest.abort(),$("#contents").toggleClass("cursor-busy"),$("#items-grid").css("opacity","0.6");var a="items/executefilter";null!=gemini_filter.executeEndPoint&&(a=gemini_filter.executeEndPoint),a=-1!=a.indexOf("?")?a+"&card="+gemini_appnav.pageCard.Id:a+"?card="+gemini_appnav.pageCard.Id,gemini_filter.pageType==gemini_commons.PAGE_TYPE.Burndown&&(a+="&RF=1");var b;b=gemini_filter.pageType==gemini_commons.PAGE_TYPE.Items?{filterForm:$("#filter-form").serialize(),pageSize:$("#pageSize").val()}:null==gemini_filter.executeData?{filterForm:$("#filter-form").serialize()}:gemini_filter.executeData(),gemini_filter.currentExecuteRequest=$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+a,data:b,success:function(a){if(gemini_filter.currentExecuteRequest=null,a.Success){if($("#contents").toggleClass("cursor-busy"),gemini_filter.pageType==gemini_commons.PAGE_TYPE.Planner)return planner.saveData(),$.publish("items-grid-filter-executed",[a.Result]),void 0;if(gemini_filter.pageType==gemini_commons.PAGE_TYPE.Burndown)return $.publish("items-grid-filter-executed",[a.Result]),void 0;null==gemini_filter.refreshTable?$("#data").html(a.Result.Data):gemini_filter.refreshTable(a.Result.Data),gemini_filter.initDataTable(),gemini_items.resizeMainItemsGrid(),gemini_ui.fancyInputs("#tabledata .fancy"),gemini_items.initCheckAllItems(),gemini_items.initShiftSelect(),gemini_items.initPageSize(),null!=a.Result.SavedCard&&(gemini_appnav.pageCard.Options=a.Result.SavedCard.Options),$("#tabledata tbody tr:not(.drop-zone):first").length?$("#pageSizeContainer").show():$("#pageSizeContainer").hide(),$.publish("items-grid-filter-executed",[a.Result])}else $("#items-grid").css("opacity","1")},error:function(a,b,c){gemini_filter.currentExecuteRequest=null,$("#contents").toggleClass("cursor-busy"),$("#items-grid").css("opacity","1"),gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}})},refreshFilterCard:function(){var a="items/executefilter";null!=gemini_filter.executeEndPoint&&(a=gemini_filter.executeEndPoint),a=-1!=a.indexOf("?")?a+"&card="+gemini_appnav.pageCard.Id+"&RF=1":a+"?card="+gemini_appnav.pageCard.Id+"&RF=1";var b;b=gemini_filter.pageType==gemini_commons.PAGE_TYPE.Items?{filterForm:$("#filter-form").serialize(),pageSize:$("#pageSize").val()}:null==gemini_filter.executeData?{filterForm:$("#filter-form").serialize()}:gemini_filter.executeData(),$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+a,data:b,success:function(a){gemini_filter.currentExecuteRequest=null,a.Success&&null!=a.Result.SavedCard&&(gemini_appnav.pageCard.Options=a.Result.SavedCard.Options)},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}})},gridColumnPickerInit:function(a){$("#column-picker-list").jScrollPane({autoReinitialise:!0,autoReinitialiseDelay:250}),$("#grid-column-picker").click(function(){$("#column-picker").is(":visible")?($("#column-picker").fadeOut("fast"),gemini_keyboard.unbindEscape("#column-picker")):$.ajax({type:"GET",url:csVars.Url+csVars.ProjectUrl+"items/getcolumns/"+gemini_filter.pageType+"?card="+gemini_appnav.pageCard.Id,success:function(b){b.Success&&($("#column-picker").css({top:$("#grid-column-picker").position().top+$("#grid-column-picker").height()+8,left:$("#grid-column-picker").position().left-225}),$("#column-picker").html(b.Result.Data),$("#column-picker").slideDown("fast"),$("#colmun-picker-submit").click(function(){$("#column-picker").fadeOut("fast"),gemini_ui.startBusy("#column-picker #colmun-picker-submit"),$.ajax({type:"POST",url:csVars.Url+csVars.ProjectUrl+"items/setcolumns/"+gemini_filter.pageType+"?card="+gemini_appnav.pageCard.Id,data:$("#column-picker-form").serialize(),success:function(b){if(b.Success)if(a)a();else{var c=$("#pager-next").data("page")-1;0>c&&(c=0);var d=$.parseJSON(gemini_commons.htmlDecode(gemini_appnav.pageCard.Options));d.DisplayColumns=b.Result.Data,gemini_appnav.pageCard.Options=gemini_commons.htmlEncode(JSON.stringify(d)),gemini_filter.getFilteredItemsPage(c)}gemini_ui.stopBusy("#column-picker #colmun-picker-submit")},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c),gemini_ui.stopBusy("#column-picker #colmun-picker-submit")}})}),gemini_keyboard.bindEscape("#column-picker",gemini_filter.EscapeDropdowns),gemini_ui.fancyInputs("#column-picker .fancy"))},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}})})}},planner={settings:{container:"#planner ul",itemSelector:".plan-card",placeholder:"drag-placeholder"},readOnly:!1,currentDraggedCard:null,animations:[],selectedContextCard:null,pageEffect:"helix",escapeDropdowns:function(a,b){$(b).hide(),gemini_keyboard.unbindEscape(a)},initialize:function(a){planner.readOnly=a,gemini_edit.initEdit(0,1,"#cs-popup","#cs-popup-content","#data",planner.refreshPlannerLaner),a||($("#AxisFlipped").click(function(){var a=$("#Axis1Selected option:selected","#planner-control-box").val(),b=$("#Axis2Selected option:selected","#planner-control-box").val();return $("#Axis1Selected","#planner-control-box").val(b),$("#Axis2Selected","#planner-control-box").val(a),$("#Axis1Selected").trigger("liszt:updated"),$("#Axis2Selected").trigger("liszt:updated"),planner.saveData(),!1}),$(".control-icon","#planner-control-box").click(function(){var a=$(this),b=a.find("+ .options");b.is(":visible")?(b.hide(),gemini_keyboard.unbindEscape("#page-options-box .options")):(a.parent().parent().find(".options").each(function(){$(this).is(":visible")&&$(this).hide()}),b.show(),gemini_keyboard.bindEscape("#page-options-box .options",planner.escapeDropdowns),$("input[type='text']:first",b).focus()),b.position({of:a,my:"right top",at:"right bottom",offset:"0 0",collision:"none"})})),$("#PlannerLevel","#planner-control-box").click(function(a){var b=0;if(void 0==a.offsetX){var c=$(this).parent().offset();b=a.clientX-c.left}else b=a.offsetX;var d=Math.floor(b/28);void 0==d&&(d=2),0>d&&(d=0),d>4&&(d=4);var e=$(this);return e.removeClass("level-0 level-1 level-2 level-3 level-4").addClass("level-"+d),planner.saveData(),!1}),a||($("#planner-control-box").on("click","div.sort",function(){var a=$(this),b=a.hasClass("asc");return b?(a.removeClass("asc").addClass("desc"),a.removeClass("fonticon-ahead-arrow").addClass("fonticon-behind-arrow")):(a.removeClass("desc").addClass("asc"),a.removeClass("fonticon-behind-arrow").addClass("fonticon-ahead-arrow")),planner.saveData(),!1}),$("#planner-control-box").on("change","input,select",function(){return planner.saveData(),!1})),$(window).resize(function(){return planner.adjustScrollBars(),!1}),planner.addSortDirections();var b="<div id='dropTip' class='tooltip'><div id='dropTipText'></div></div>";return $("body").prepend(b),planner.showInfoTip(),planner.bindCardTitleChange(),planner.addArrowDownEvents(),planner.saveData(),!1},refreshPlannerLaner:function(a,b){var c=$("#"+b).parent(),d=c.find(".plan-card"),e=c.parent().find(".plan-card");cardId=parseInt(d[0].id),oldId=newId=parseInt(c.parents("ul:eq(0)").attr("id").replace("cell_","")),dropIndex=e.index(d),processedMove=e.length>1?!0:!1,planner.currentDraggedCard=$(this),planner.postDragData({id:cardId,oldCellId:oldId,newCellId:newId,index:dropIndex,clone:!1,shift:!1}),setTimeout("planner.completeUpdateCall()",50)},allowEffects:function(){$("#planner").addClass(planner.pageEffect)},disableEffects:function(){$("#planner").removeClass(planner.pageEffect)},waitCursor:function(){$("#planner-box").css({cursor:"wait"})},normalCursor:function(){$("#planner-box").css({cursor:"default"})},post:function(a,b,c){planner.waitCursor(),"pagecell"!=a&&gemini_ui.visualProgressStart("#planner");var d;d="undefined"!=c.projectId&&c.projectId>0?"project/All/"+c.projectId+"/planner":csVars.ProjectUrl+"planner";var e=planner.availableHeight(),f=$(window).width(),g=$("#SaveViewSelected").val();c=$.extend(c,{height:e,width:f,viewId:parseInt(g)});var h=planner.updateError;return gemini_ajax.postCall(d,a,b,h,c),!1},postData:function(a){return planner.animations=[],planner.post("update",planner.updatePlanner,{changes:a}),!1},postPageData:function(a,b){return planner.animations=[],planner.post("pagecell",planner.updateCell,{cell:a,pageUp:b}),!1},postAddCardData:function(a){return planner.animations=[],planner.post("add",planner.updateCell,a),!1},postDragData:function(a){return planner.animations=[],planner.post("resequence",planner.updateAllCells,a),!1},postDelete:function(a){return planner.animations=[],planner.post("delete",planner.updateAllCells,a),!1},updateError:function(){return planner.allowEffects(),planner.normalCursor(),gemini_ui.visualProgressFinish("#planner"),null!=planner.currentDraggedCard&&(planner.currentDraggedCard.sortable("cancel"),planner.currentDraggedCard=null),!1},updatePlanner:function(a){var b=$("#planner-box").data("jsp");void 0!=b&&b.destroy();var c=$("#planner-box");return c.html(a),planner.bindPagingEvents("#planner"),setTimeout("planner.completeUpdateCall()",50),planner.contextMenu(".plan-card"),planner.addToSwimlane(),gemini_ui.visualProgressFinish("#planner"),!1},updateAllCells:function(a){if("error"==a)planner.updateError();else{var b=a.split("	"),c=b.length;for(i=c;i--;){var d=b[i];planner.updateCellMarkup(d)}setTimeout(function(){planner.runAnimations()},25),planner.bindAllCellMenusAndEvents(),planner.addArrowDownEvents(),planner.normalCursor(),gemini_ui.visualProgressFinish("#planner"),planner.showInfoTip()}},updateCell:function(a){planner.updateCellMarkup(a),setTimeout(function(){planner.runAnimations()},25),planner.bindAllCellMenusAndEvents(),planner.normalCursor(),gemini_ui.visualProgressFinish("#planner"),planner.showInfoTip()},updateCellMarkup:function(a){var b=a.match(/'(.*?)'/),c="#"+b[0].replace("'","").replace("'",""),d=$(c,"#planner");return d.replaceWith(a),gemini_ui.visualProgressFinish("#planner"),planner.animations.push(c),!1},completeUpdateCall:function(){return planner.adjustAllSwimLaneHeights(),planner.addTriggers(),planner.adjustScrollBars(),planner.showInfoTip(),planner.addArrowDownEvents(),planner.readOnly||planner.enableCardDrag(),planner.allowEffects(),planner.normalCursor(),gemini_ui.visualProgressFinish("#planner"),!1},runAnimations:function(){planner.allowEffects();for(var a=planner.animations,b=a.length,c=b;c--;){var d=a[c];$(d).find("li").removeClass("future")}},bindAllCellMenusAndEvents:function(){planner.adjustAllSwimLaneHeights();var a=planner.animations,b=a.length;for(i=b;i--;){var c=a[i];planner.contextMenu(c+" .plan-card"),planner.bindPagingEvents(c)}planner.readOnly||(planner.enableCardDrag(),planner.addToSwimlane())},bindCardTitleChange:function(){var a=$("#planner-context-popup-new-card");gemini_commons.inputKeyHandler("#planner-context-popup-new-card > .card-title",function(){a.hide();var b=planner.selectedContextCard.hasClass("plan-card")?planner.selectedContextCard.parent():planner.selectedContextCard,c=b.parent(),d=planner.selectedContextCard.attr("data-project-id"),e=$(".card-title",a).val(),f=parseInt(c.attr("id").replace("cell_","")),g=c.find("li"),h=parseInt(g.index(b));planner.postAddCardData({projectId:d,cell:f,title:e,index:h})},function(){a.hide()})},bindPagingEvents:function(a){$(a).off("click","div.paging-up"),$(a).on("click","div.paging-up",function(){var a=$(this).parent().parent(),b=parseInt(a[0].id.replace("cell_",""));return planner.postPageData(b,!1),!1}),$(a).off("click","div.paging-down"),$(a).on("click","div.paging-down",function(){var a=$(this).parent().parent(),b=parseInt(a[0].id.replace("cell_",""));return planner.postPageData(b,!0),!1})},adjustAllSwimLaneHeights:function(){var a=$("div.axis-divider","#planner"),b=[],c=0;a.each(function(){var a=0,d=$(this);d.find("> ul").each(function(){var b,c=0,d=$(this);d.find("> li").each(function(){b=$(this).height()+9,c+=b}),c+=20,c+=Math.floor(b),c>a&&(a=c)}),b.push(a-20),c+=a});var d=0,e=planner.availableHeight();e>c&&(d=Math.floor((e-c)/b.length)-18*b.length,0>d&&(d=0));var f=0;a.each(function(){var a=$(this);a.find("> ul").each(function(){$(this).css("min-height",b[f]+d)}),f++})},adjustScrollBars:function(){var a=planner.availableHeight(),b=$(window).width();return $("#planner-box").css("height",a),$("#planner-box").css("width",b-92),$("#planner-box").jScrollPane({verticalDragMinHeight:50,horizontalDragMinWidth:50,skipDivWrap:!1}),!1},addSortDirections:function(){return planner.toggleSortArrows("#Axis1Sort"),planner.toggleSortArrows("#Axis2Sort"),planner.toggleSortArrows("#OrderBySort"),planner.toggleSortArrows("#ThenBySort"),!1},toggleSortArrows:function(a){var b=$(a,"#planner-control-box");planner.isDescending(a)?b.removeClass("fonticon-ahead-arrow").addClass("fonticon-behind-arrow"):b.removeClass("fonticon-behind-arrow").addClass("fonticon-ahead-arrow")},isDescending:function(a){var b=$(a,"#planner-control-box");return b.hasClass("desc")},addTriggers:function(){var a=$("#Axis1Selected option:selected").val(),b=$("#Axis2Selected option:selected").val();$("#Axis2Selected option").show(),a==b&&($("#Axis2Selected option:first-child","#planner-control-box").attr("selected","selected"),b="",$("#Axis2Selected").trigger("liszt:updated"));var c=$("#Axis1Selected option[value="+a+"]").index();$("li[id^=Axis2Selected_chzn_o_]",".chzn-results").show(),$("li[id^=Axis2Selected_chzn_o_"+(c+1)+"]",".chzn-results").hide(),$("#DateRangeSelected","#planner-control-box").attr("disabled","disabled"),$("#lblDateRangeSelected","#planner-control-box").attr("disabled","disabled"),("DueDate"==a||"StartDate"==a||"DueDate"==b||"StartDate"==b)&&($("#DateRangeSelected","#planner-control-box").removeAttr("disabled"),$("#lblDateRangeSelected","#planner-control-box").removeAttr("disabled")),$("#Axis2Selected","#planner-control-box").TriggerContol({target:"#Axis2Sort",value:"",enable:!1});var d=$("#OrderBySelected option:selected").val(),e=$("#ThenBySelected option:selected").val();$("#OrderBySelected","#planner-control-box").TriggerContol({target:"#ThenBySelected",label:"#lblThenBySelected",value:"",enable:!1}),$("#ThenBySelected").trigger("liszt:updated"),$("#ThenBySelected option").show(),d==e&&($("#ThenBySelected option:first-child","#planner-control-box").attr("selected","selected"),e="",$("#ThenBySelected").trigger("liszt:updated")),c=$("#OrderBySelected option[value="+d+"]").index(),$("li[id^=ThenBySelected_chzn_o_]",".chzn-results").show(),$("li[id^=ThenBySelected_chzn_o_"+c+"]",".chzn-results").hide(),$("#Axis2Selected","#planner-control-box").TriggerContol({target:"#Axis2Sort",value:"",enable:!1}),$("#ThenBySelected","#planner-control-box").TriggerContol({target:"#ThenBySort",value:"",enable:!1}),$("#Axis2Selected","#planner-control-box").TriggerContol({target:"#AxisFlipped",value:"",enable:!1});var f=$("#AutoLimit","#planner-control-box").val();f>0&&$("#SwimLaneLimits","#planner-control-box").val(0),$("#AutoLimit","#planner-control-box").TriggerContol({target:"#SwimLaneLimits",value:"0",enable:!0})},availableHeight:function(){var a=$(window).height(),b=$("header").height(),c=$("#planner-control-box").height(),d=$("#filter").height(),e=$("footer").height(),f=b+c+d+e;return Math.floor(a-f-80)},enableCardDrag:function(){var a,b,c=this.settings,d=!1,e=!1,f=!1;return function(){return $("> li",c.container)}(),$("ul","#planner").sortable({connectWith:$(c.container),handle:c.itemSelector,placeholder:c.placeholder,forcePlaceholderSize:!0,revert:"invalid",revertDuration:150,opacity:.7,cancel:".fixed",containment:"#planner",change:function(a,b){var c=$(b.placeholder).index(),d=$(b.placeholder).parent(),e=$(".fixed",d);0==c&&e.prev().insertAfter(e),planner.showLaneName(a,b.placeholder)},receive:function(g,h){var i=h.item,j=h.sender;e=g.altKey||g.ctrlKey,f=g.shiftKey;var k=i.find(c.itemSelector),l=i.parent().find(c.itemSelector);a=parseInt(k[0].id),newId=parseInt(i.context.parentElement.id.replace("cell_","")),oldId=parseInt(j.context.id.replace("cell_","")),b=l.index(k),d=!0},start:function(a,b){planner.disableEffects(),$("body").addClass("dragging"),$(b.helper).addClass("dragging"),updates={},d=!1},stop:function(g,h){var i=h.item;if($("body").removeClass("dragging"),$(h.item).css({width:""}).removeClass("dragging"),!d){e=g.altKey||g.ctrlKey,f=g.shiftKey;var j=i.find(c.itemSelector),k=i.parent().find(c.itemSelector);a=parseInt(j[0].id),oldId=newId=parseInt(i.context.parentElement.id.replace("cell_","")),b=k.index(j),d=k.length>1?!0:!1}1==d&&(planner.currentDraggedCard=$(this),planner.postDragData({id:a,oldCellId:oldId,newCellId:newId,index:b,clone:e,shift:f}));var l=$("#dropTip","body");l.hide("fast")}}),!1},showLaneName:function(a,b){var c=$("#dropTip","body"),d=c.find("#dropTipText"),e=b.parent().parent(),f=e.find(".axis-label"),g=$(".axis-label-header",b.parent()),h=g.find(".plan-header"),i=h.text();return f.text().length>0&&(i=i+" ("+f.text()+")"),d.text(i),$(c).fadeIn("fast"),$(c).position({of:b,my:"top",at:"bottom",offset:"8px 0",collision:"none"}),!1},saveData:function(){var a,b,c,d=0,e=[];for(b=$("select","#planner-control-box"),c=b.length,a=c;a--;)_this=b[a],e[d++]=_this.id+":'"+_this.value+"'";for(b=$("input","#planner-control-box"),c=b.length,a=c;a--;)_this=b[a],"dummy"!=_this.id&&0!=_this.id.length&&(e[d++]=_this.id+":'"+_this.value+"'");var f=$("#PlannerLevel","#planner-control-box").attr("class"),g=f.indexOf("level-");if(-1!=g){var h=f.substring(g+6,g+7),i=parseInt(h);i=0>i?0:i>4?4:i,e[d++]="PlannerLevel:'"+i+"'"}e[d++]="Axis1Sort:"+(planner.isDescending("#Axis1Sort")?"'desc'":"'asc'"),e[d++]="Axis2Sort:"+(planner.isDescending("#Axis2Sort")?"'desc'":"'asc'"),e[d++]="OrderBySort:"+(planner.isDescending("#OrderBySort")?"'desc'":"'asc'"),e[d++]="ThenbySort:"+(planner.isDescending("#ThenbySort")?"'desc'":"'asc'");var j="{"+e.join(",")+"}";return planner.postData(j),!1},addArrowDownEvents:function(){$("#planner .plan-card").unbind("mouseenter").unbind("mouseleave"),$("#planner .plan-card").removeProp("hoverIntent_t"),$("#planner .plan-card").removeProp("hoverIntent_s"),$("#planner .card-options-icon span").unbind("click"),$("#planner .plan-card").hoverIntent({interval:350,over:function(){$(".card-options-icon",this).show()},out:function(){$(".card-options-icon",this).hide()}}),$("#planner .card-options-icon span").click(function(a){a.preventDefault(),a.button=2,$(this).closest(".plan-card").trigger("mousedown",a).trigger("mouseup",[a])})},showInfoTip:function(){$(".plan-header, .axis-label","#planner").hoverIntent({interval:350,over:function(){var a=$("body").hasClass("dragging");if(!a){var b=$(this).parent().find(".info-tip:eq(0)");$(b).fadeIn("fast"),$(b).position({of:$(this),my:"left top",at:"left bottom",offset:"8px 0",collision:"none"})}},out:function(){var a=$(this).parent().find(".info-tip");$(a).hide()}})},contextMenu:function(a){$(a,"#planner").contextMenu({menu:"planner-context-menu"},function(a,b){var c=planner.selectedContextCard=$(b),d=planner.selectedContextCard.attr("id"),e=planner.selectedContextCard.attr("data-project-id");if("view"==a&&!$('#planner-context-menu a[href="#view"]').parent().hasClass("disabled"))return gemini_commons.openIssueUrlInTabProj(d,e),void 0;if("new"==a){var f=$("#planner-context-popup-new-card");f.width(200),f.height(110),f.show();var g=$(".card-title",f);g.width(f.width()-2),g.height(f.height()-2),g.focus().select(),g.val(""),f.position({my:"center top",at:"center middle",of:c,offset:"0 10",collision:"none"}),gemini_keyboard.bindEscape("#planner-context-popup-new-card",planner.escapeDropdowns)}else"edit"!=a||$('#planner-context-menu a[href="#edit"]').parent().hasClass("disabled")?"comment"!=a||$('#planner-context-menu a[href="#comment"]').parent().hasClass("disabled")?"delete"!=a||$('#planner-context-menu a[href="#delete"]').parent().hasClass("disabled")?"follow"==a?gemini_ajax.call("project/All/"+e+"/item","addwatcher/"+d+"/0"):"pin"==a&&gemini_items.pinItem(d,!1):gemini_commons.translateMessage("[[Delete]] "+c.find(".title").text()+"?",["Delete"],function(a){gemini_popup.modalConfirm(a,null,function(){planner.postDelete({issueId:d})})}):($("#cs-popup-center-content").css("width","725px"),$("#cs-popup-center-content").css("height","475px"),gemini_popup.centerPopup("project/All/"+e+"/item/"+d+"/editcommenteditor","popup")):($(b).parent().data("issue-id",d),gemini_edit.initEditing(b))},function(a){gemini_ajax.call(csVars.ProjectUrl+"projects","getprojectpermissions/"+a.attr("id"),function(a){a.success&&(a.Result.Data.canview?$("#planner-context-menu").enableContextMenuItems("#view"):$("#planner-context-menu").disableContextMenuItems("#view"),a.Result.Data.canedit?$("#planner-context-menu").enableContextMenuItems("#edit"):$("#planner-context-menu").disableContextMenuItems("#edit"),a.Result.Data.candelete?$("#planner-context-menu").enableContextMenuItems("#delete"):$("#planner-context-menu").disableContextMenuItems("#delete"),a.Result.Data.cancomment?$("#planner-context-menu").enableContextMenuItems("#comment"):$("#planner-context-menu").disableContextMenuItems("#comment"))},null,null)})},addToSwimlane:function(){planner.readOnly?$(".add-to-swimlane",".axis-label-header").css("visibility","hidden"):$(".add-to-swimlane",".axis-label-header").click(function(){planner.selectedContextCard=$(this).parent();var a=$("#planner-context-popup-new-card");a.width(200),a.height(110),a.show();var b=$(".card-title",a);b.width(a.width()-2),b.height(a.height()-2),b.focus().select(),b.val(""),a.position({my:"center top",at:"center middle",of:$(this).closest(".axis-label-header"),offset:"0 10",collision:"none"})})}},gemini_keyboard={q_escape:[],q_yes:[],q_no:[],initKeyboard:function(){Mousetrap.bind("esc",function(a,b){gemini_keyboard.invoker(b)}),Mousetrap.bind(["y","Y"],function(a,b){gemini_keyboard.invoker(b)}),Mousetrap.bind(["n","N"],function(a,b){gemini_keyboard.invoker(b)})},bindEscape:function(a,b){var c=gemini_keyboard.getSelectorId(a,gemini_keyboard.q_escape);return 0==c&&(c=gemini_commons.guidGenerator(),"undefined"==typeof b&&(b=gemini_keyboard.EscFunction),gemini_keyboard.q_escape.push({guid:c,func:b,selector:a})),c},unbindEscape:function(a,b){gemini_keyboard.q_escape=b?_.reject(gemini_keyboard.q_escape,function(b){return b.guid==a}):_.reject(gemini_keyboard.q_escape,function(b){return b.selector==a})},bindYes:function(a,b){var c=gemini_keyboard.getSelectorId(a,gemini_keyboard.q_yes);return 0==c&&(c=gemini_commons.guidGenerator(),"undefined"==typeof b&&(b=gemini_keyboard.YesFunction),gemini_keyboard.q_yes.push({guid:c,func:b,selector:a})),c},unbindYes:function(a,b){gemini_keyboard.q_yes=b?_.reject(gemini_keyboard.q_yes,function(b){return b.guid==a}):_.reject(gemini_keyboard.q_yes,function(b){return b.selector==a})},bindNo:function(a,b){var c=gemini_keyboard.getSelectorId(a,gemini_keyboard.q_no);return 0==c&&(c=gemini_commons.guidGenerator(),"undefined"==typeof b&&(b=gemini_keyboard.NoFunction),gemini_keyboard.q_no.push({guid:c,func:b,selector:a})),c},unbindNo:function(a,b){gemini_keyboard.q_no=b?_.reject(gemini_keyboard.q_no,function(b){return b.guid==a}):_.reject(gemini_keyboard.q_no,function(b){return b.selector==a})},invoker:function(a){var b={guid:"",func:null};"esc"==a.toLowerCase()&&gemini_keyboard.q_escape.length>0?b=gemini_keyboard.q_escape[gemini_keyboard.q_escape.length-1]:"y"==a.toLowerCase()&&gemini_keyboard.q_yes.length>0?b=gemini_keyboard.q_yes[gemini_keyboard.q_yes.length-1]:"n"==a.toLowerCase()&&gemini_keyboard.q_no.length>0&&(b=gemini_keyboard.q_no[gemini_keyboard.q_no.length-1]),null!=b.func&&b.func(b.guid,b.selector)},getSelectorId:function(a,b){var c=!1;return _.each(b,function(b){b.selector==a&&(c=b.guid)}),c},diag:function(){console.log("--------------------"),_.each(gemini_keyboard.q_escape,function(a){console.log("Q escape: "+a.guid,a.selector)}),_.each(gemini_keyboard.q_yes,function(a){console.log("Q yes: "+a.guid,a.selector)}),_.each(gemini_keyboard.q_no,function(a){console.log("Q no: "+a.guid,a.selector)}),console.log("--------------------")},EscFunction:function(a,b){$(b).is(":visible")&&($(b).click(),gemini_keyboard.unbindEscape(a,!0))},NoFunction:function(a,b){$(b).is(":visible")&&($(b).click(),gemini_keyboard.unbindNo(a,!0))},YesFunction:function(a,b){$(b).is(":visible")&&($(b).click(),$(b).is(":visible")||gemini_keyboard.unbindYes(a,!0))
},navigateTabs:function(a){var b;37==a.keyCode?(b=$(".tab.selected","#view-item-content-pane").prev().prev(),b&&0!=b.length||(b=$(".tab:last","#view-item-content-pane"))):39==a.keyCode&&(b=$(".tab.selected","#view-item-content-pane").next().next(),b&&0!=b.length||(b=$(".tab:first","#view-item-content-pane"))),b&&b.length&&b.click()},navigateItems:function(a){var b;188==a.keyCode?b=$(".previous","#filter-navigator"):190==a.keyCode&&(b=$(".next","#filter-navigator")),b&&b.length&&(window.location.href=b.attr("href"))},navigateGrid:function(a){var b;188==a.keyCode?(b=$(".view-issue-highlight","#tabledata").prev(),b.hasClass("drop-zone")&&(b=b.prev())):190==a.keyCode&&(b=$(".view-issue-highlight","#tabledata").next(),b.hasClass("drop-zone")&&(b=b.next())),b&&b.length&&$("td.read-only a:first",b).click()}},gemini_master={resizedProjectMenu:!1,initBase:function(a,b,c){$("#pin-page").click(function(){gemini_appnav.pinPage()}),gemini_appnav.init(),gemini_sizing.appResizer(),gemini_pdf.init(),gemini_popup.init(),gemini_add.init(),$.validator.setDefaults({ignore:".ignore"});var d=$("#project-search");d.length>0&&(d.autocomplete({select:function(a,b){return window.location.href=b.item.Url,!1},focus:function(){return!1},source:function(a,b){var d=$.map(c,function(b){return-1!=b.label.toUpperCase().indexOf(a.term.toUpperCase())?b:void 0});b(d)}}),d.autocomplete("widget").css("position","fixed")),$("body").on("click",".dropdown",function(a){if($(".cs-menu-dropdown",$(this)).is(":visible")&&0==$(a.target).closest("#project-search").length)if((8==csVars.IEVersion||csVars.IsSafari)&&$(a.target).closest("#attachmentupload-hit").length>0){if(!csVars.IsSafari){var b=$(this);setTimeout(function(){$(".cs-menu-dropdown",b).hide()},500)}}else $(".cs-menu-dropdown",$(this)).hide();else if(("all-projects-menu-box"!=$(this).attr("id")||"all-projects-menu-box"==$(this).attr("id")&&0==$(a.target).closest("#project-search").length)&&($(".cs-menu-dropdown").hide(),$(".cs-menu-dropdown",$(this)).slideDown(100)),gemini_keyboard.bindEscape(".cs-menu-dropdown",function(){gemini_keyboard.unbindEscape(".cs-menu-dropdown"),$(".cs-menu-dropdown").hide()}),"all-projects-menu-box"==$(this).attr("id")&&0==gemini_master.resizedProjectMenu&&(gemini_sizing.padProjectsMenu(),gemini_master.resizedProjectMenu=!0),"all-projects-menu-box"==$(this).attr("id"))$(".cs-menu-dropdown",$(this)).position({of:$(this),my:"left top",at:"left bottom",offset:"19 7",collision:"none"}),$("#project-search",$(this)).focus();else if("user-menu"==$(this).attr("id"))$(".cs-menu-dropdown",$(this)).position({of:$(this),my:"right top",at:"right top",offset:"0 "+($(this).height()+14),collision:"none"});else if("project-menu-dropdown"==$(this).attr("id")){var c=$(this).height()+7;$(".cs-menu-dropdown",$(this)).position({of:$(this),my:"left top",at:"left top",offset:"-10 "+c,collision:"none"})}else"item-menu-dropdown"==$(this).attr("id")?$(".cs-menu-dropdown",$(this)).position({of:$(this),my:"right top",at:"right top",offset:"4 "+($(this).height()+-2),collision:"none"}):$(".cs-menu-dropdown",$(this)).position({of:$(this),my:"left top",at:"left top",offset:"0 "+$(this).height(),collision:"none"})}),window.onbeforeunload=null,gemini_ui.chosen("select:not(.no-chosen)",null),Modernizr.input.placeholder||$("input[type=text]").each(function(){""==$(this).val()&&""!=$(this).attr("placeholder")&&($(this).addClass("search_box_placeholder"),$(this).val($(this).attr("placeholder")),$(this).focus(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val(""),$(this).removeClass("search_box_placeholder")}),$(this).blur(function(){""==$(this).val()&&($(this).val($(this).attr("placeholder")),$(this).addClass("search_box_placeholder"))}))});var e=$("#footer-messaging").is(":visible"),f=$('*:contains("Countersoft Gemini")',"#footer-messaging"),g=254==b||$("#card--1").is(":visible")||window.location.href.indexOf("/account")>=0;e&&f.length&&g||$("body").css("background-color","red"),gemini_master.initNotificationCenter(),gemini_master.handleClickAway()},handleClickAway:function(){$(".export-to-container").click(function(a){$(a.target).is("a")&&$(this).fadeOut("fast"),a.stopPropagation()}),$("#page-options-box .options").click(function(a){a.stopPropagation()}),$("body").click(function(e){$("#card-data").is(":visible")&&$("#card-data").fadeOut("fast"),$(".export-to-container").is(":visible")&&$(".export-to-container").fadeOut("fast"),$("#column-picker").is(":visible")&&0==$(e.target).closest("#column-picker").length&&$("#column-picker").fadeOut("fast"),$("#subscribe-dialog").is(":visible")&&$("#subscribe-dialog").fadeOut("fast"),$("#share-dialog").is(":visible")&&$("#share-dialog").fadeOut("fast"),$("#items-grid #comments").is(":visible")&&($("#items-grid #comments").fadeOut("fast"),$("#items-grid #comments").empty()),$("#planner-context-popup-new-card").is(":visible")&&0==$(e.target).closest(".add-to-swimlane").length&&0==$(e.target).closest("#planner-context-popup-new-card").length&&$("#planner-context-popup-new-card").fadeOut("fast"),$(".cs-menu-dropdown").is(":visible")&&0==$(e.target).closest("#user-menu").length&&0==$(e.target).closest("#all-projects-menu-box").length&&0==$(e.target).closest("#project-menu-dropdown").length&&0==$(e.target).closest("#item-menu-dropdown").length&&((8==csVars.IEVersion||csVars.IsSafari)&&$(e.target).closest("#attachmentupload-hit").length>0?setTimeout(function(){$(".cs-menu-dropdown").fadeOut("fast")},500):$(".cs-menu-dropdown").fadeOut("fast")),$(e.target).hasClass("control-icon")||$(e.target).hasClass("ordering")||$("#page-options-box .options").is(":visible")&&$("#page-options-box .options").fadeOut("fast"),"attribute-options-trigger"!=$(e.target).parent().attr("id")&&0==$(e.target).closest("#attribute-options-picker").length&&"search-choice-close"!=$(e.target).attr("class")&&$("#attribute-options-picker").is(":visible")&&$("#attribute-options-picker").fadeOut("fast"),"search-choice-close"!=$(e.target).attr("class")&&$(".auto-popup:visible").each(function(){if($(e.target).hasClass("auto-popup-keep")||$(e.target).closest(".auto-popup-keep").length>0||$(e.target).closest(".auto-popup").length>0)return!0;var func=$(this).attr("data-hide-func");if(null!=func&&void 0!=func&&func.length>0)return eval(func),!0;var effect=$(this).attr("data-effect"),hideEffect={};null!=effect&&void 0!=effect&&effect.length>0&&(hideEffect=JSON.parse(effect)),$(this).hide(hideEffect)})})},initNotificationCenter:function(){$("#notification-handle").unbind("click").bind("click",function(){gemini_master.showHideNotificationCenter()})},showHideNotificationCenter:function(){if($("#notification-handle").toggleClass("handle-expanded"),$("#notification-zone").is(":visible"))$("#notification-handle .line").hide(),$("#notification-handle").css("top","0px"),$("#notification-handle .line").show(),$("#notification-zone").slideUp("fast",function(){});else{$("#notification-center #notification-zone").css("left",""),$("#notification-center #notification-zone").css("top","");var a=$(document).scrollTop();$("#notification-zone").position({my:"middle top-"+a,at:"middle bottom",of:$("#notification-handle"),offset:"0 -10",collision:"none"}),$("#notification-zone").slideDown("fast",function(){$("#notification-handle").position({my:"middle top",at:"middle bottom",of:$("#notification-zone"),offset:"0 0",collision:"none"})})}},showNotificationCenter:function(){setTimeout(function(){$("#notification-items li").each(function(a){a>0&&$(this).addClass("hide")}),$("#notification-zone").is(":visible")?$("#notification-items li").each(function(a){a>0&&$(this).removeClass("hide")}):(gemini_master.showHideNotificationCenter(),setTimeout(function(){$("#notification-zone").is(":visible")&&gemini_master.showHideNotificationCenter(),$("#notification-items li").each(function(a){a>0&&$(this).removeClass("hide")})},3e3))},1500)}},gemini_account={initLogin:function(){if($("#regular-form").validate({}),$("#openid-form").validate({}),$("#forgot-password-form").validate({}),$("#Username").focus(),$("#openid-provider-openid").addClass("openid-provider-button-selected"),$("#openid-signin").click(function(){$("#openid-form").valid()&&($("#spinner").spin(gemini_ui.spinnerOptions),gemini_account.DisableFormSubmit("openid-form"))}),0!=window.location.hash.length){accessToken=window.location.hash.substring(1),graphUrl="https://graph.facebook.com/me?"+accessToken+"&callback=gemini_account.displayUser";var a=document.createElement("script");a.src=graphUrl,document.body.appendChild(a)}$(".help-box").click(function(a){a.preventDefault(),a.stopPropagation();var b=$(".help-box").position();$(".help-popup").css("left",b.left),$(".help-popup").css("top",b.top),$(".help-popup").slideDown()}),$("#login-page #email").keydown(function(){$("#forgot-password").removeClass("button-secondary").addClass("button-primary")}),$("body").click(function(a){if("email"!=$(a.target).attr("id")){if($(a.target).closest("div").hasClass("help-popup"))return;$(".help-popup").slideUp()}}),gemini_commons.isMobile()&&$(".right-box").removeClass("right-box")},initLoginWait:function(){if($("#spinner").spin(gemini_ui.spinnerOptions),0!=window.location.hash.length){accessToken=window.location.hash.substring(1),graphUrl="https://graph.facebook.com/me?"+accessToken+"&callback=gemini_account.displayUser";var a=document.createElement("script");a.src=graphUrl,document.body.appendChild(a)}},initRegister:function(){$("#regular-form").validate({rules:{confirmpassword:{required:!0,equalTo:"#regular-password"}}}),$("#Username").focus(),gemini_commons.isMobile()&&$(".right-box").removeClass("right-box")},initProfile:function(a){$("#regular-form").validate({rules:{confirmpassword:{equalTo:"#regular-password"}}}),gemini_ui.fancyInputs("#regular-form .fancy"),$("#Firstname").focus(),$("#api-key").click(function(){gemini_ajax.jsonCall("account","apikey",function(a){$("#ApiKey").val(a.Result.Data)})}),$(".avatar-option").unbind("ifClicked").bind("ifClicked",function(){"option-upload"==$(this).attr("id")?($("#upload-avatar").removeClass("invisible"),-1==csVars.IEVersion&&$("#upload-avatar #avatar").click()):$("#upload-avatar").addClass("invisible")}),a&&gemini_popup.toast(a)},displayUser:function(a){$.ajax({type:"POST",url:csVars.Url+"account/registerfb",data:{user:a},success:function(a){window.location="Missing"==a.Message?csVars.Url+"account/profile":csVars.Url},error:function(){}})},DisableFormSubmit:function(a){$("#"+a).submit(function(){$("input[type=submit]",this).attr("disabled","disabled")})},openIdUrl:function(a){var b="",c=!1;if($("openid-provider-button").removeClass("openid-provider-button-selected"),"openid"==a?(b="<Your Account>.myopenid.com",$("openid-provider-openid").addClass("openid-provider-button-selected"),$("#openid-inputs").show()):"google"==a?(b="https://www.google.com/accounts/o8/id",c=!0,$("openid-provider-google").addClass("openid-provider-button-selected")):"yahoo"==a&&(b="https://me.yahoo.com",c=!0),b){var d=$("#openid-provider");d.val(b).focus(),c&&$("#openid-signin").trigger("click")}}},waitForFinalEvent=function(){var a={};return function(b,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}(),gemini_commons={ShiftPressed:!1,shiftKeyHandler:function(){$(document).bind("keyup keydown",function(a){gemini_commons.ShiftPressed=a.shiftKey})},visibleYes:function(a){a.removeClass("visible-no").addClass("visible-yes")},visibleNo:function(a){a.removeClass("visible-yes").addClass("visible-no")},isMobile:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)?!0:!1},isIe7or8:function(){return-1!=csVars.IEVersion&&(7==csVars.IEVersion||8==csVars.IEVersion)},endsWith:function(a,b){return-1!==a.indexOf(b,a.length-b.length)},trim:function(a){for(var b=0,c=a.length-1;b<a.length&&" "==a[b];)b++;for(;c>b&&" "==a[c];)c-=1;return a.substring(b,c+1)},stopClick:function(a){a.preventDefault(),a.stopPropagation()},isEmpty:function(a){return""===a||null==a||void 0==a||0==a.length},hasValue:function(a){return!gemini_commons.isEmpty(a)},guidGenerator:function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},setCookie:function(a,b,c){var d=new Date;d.setDate(d.getDate()+c);var e=escape(b)+(null==c?"":"; expires="+d.toUTCString());document.cookie=a+" = "+e+"; path=/"},url:function(){return $(document).data("root")},inputKeyHandler:function(a,b,c,d){$(a).bind("keydown.inputKeyHandler",function(a){switch(a.keyCode){case 13:b&&(gemini_commons.stopClick(a),b());break;case 27:c&&(gemini_commons.stopClick(a),c());break;default:d&&d(a)}})},inputKeyHandlerUnbind:function(a){$(a).unbind("keydown.inputKeyHandler")},openUrlInTab:function(a){window.open(a,"_blank")},openUrl:function(a){window.open(a)},openProjectUrlInTab:function(a){window.open(csVars.Url+csVars.ProjectUrl+a,"_blank")},openProjectUrl:function(a){window.open(csVars.Url+csVars.ProjectUrl+a)},openIssueUrlInTab:function(a){window.open(csVars.Url+csVars.ProjectUrl+"item/"+a,"_blank")},openIssueUrlInTabProj:function(a,b){window.open(csVars.Url+"project/All/"+b+"/item/"+a,"_blank")},openIssueUrl:function(a){window.open(csVars.Url+csVars.ProjectUrl+"item/"+a,"_self")},showAddItem:function(){$("#plus-header").click()},refreshPage:function(){window.location.reload()},translateMessage:function(a,b,c,d){$.ajax({type:"POST",url:csVars.Url+"resources/get",data:{keys:JSON.stringify(b)},success:function(b){$(b.Result.Data).each(function(b,c){a=a.replace("[["+c.Key+"]]",c.Value)}),c(a,d)}})},htmlEncode:function(a){return $("<div/>").text(a).html()},htmlDecode:function(a){return $("<div/>").html(a).text()},PAGE_TYPE:{Custom:0,Items:1,Planner:2,Roadmap:3,Changelog:4,Burndown:5,Testing:6,Reports:7,Documents:8,Activity:9,None:10,Item:11,ActivityOverdue:12,ActivityDueToday:13,ActivityDueTomorrow:14,ActivityOpenedRecently:15,ActivityClosedRecently:16,MyWork:17,MyWatched:18,Timeline:19,Calendar:20},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?!0:!1}},gemini_documents={init:function(a,b,c,d){$("#tree").dynatree({onActivate:function(a){gemini_documents.document_FolderList(a.data.key)},debugLevel:0,persist:!1,generateIds:!0,clickFolderMode:1,fx:{height:"toggle",duration:200},initAjax:{url:gemini_ajax.getUrl(csVars.ProjectUrl+"documents","LoadTree"),data:{}},onRender:function(){d||gemini_documents.contextMenu(".dynatree-node")},onPostInit:function(){for(var a,b=$("#tree").dynatree("getRoot").getChildren(),c=0;c<b.length;c++)b[c].isStatusNode()||(a=b[c]);null!=a&&gemini_documents.document_FolderList(a.data.key)}}),$("#folders").resizable({handles:"e"}),$("#DocumentFolderRenamer input").blur(function(){$("#DocumentFolderRenamer").fadeOut(),$("#DocumentFolderRenamer #NewName").removeClass("error");var a=$("#tree").dynatree("getTree").selectKey("new");a&&(a.remove(),$("#dynatree-id-new").remove())}),gemini_documents.document_uploader=null,d||(gemini_commons.inputKeyHandler("#DocumentFolderRenamer input",function(){var a=$("#DocumentFolderRenamer #NodeId").val(),b=$("#DocumentFolderRenamer #ParentNodeId").val(),c=$("#DocumentFolderRenamer #NewName").val();return 0==c.length?($("#DocumentFolderRenamer #NewName").addClass("error"),void 0):(gemini_documents.document_FolderRename(a,c,b),$("#DocumentFolderRenamer").fadeOut(),void 0)},function(){$("#DocumentFolderRenamer").fadeOut();var a=$("#tree").dynatree("getTree").selectKey("new");a&&a.remove()}),gemini_documents.document_uploader=new qq.FileUploader({element:$("#page-documents #fileupload-hit")[0],action:gemini_ajax.getUrl(csVars.ProjectUrl+"documents","UploadFile"),debug:!1,onComplete:function(a,b,c){c.fileId;var d=c.folderId;gemini_documents.document_FolderList(d)},taxonomy:{uploadButton:a,dropZone:b}}),$.extend(gemini_documents.document_taxonomy,{uploadButton:a,dropZone:b,deleteText:c}),$(document).on("click","span.delete-action",function(){var a=$(this).attr("data-id"),b=$(this).closest("tr").children("td:eq(0)").children("a").text();gemini_commons.translateMessage("[[Delete]] : "+b+"?",["Delete"],function(b){gemini_popup.modalConfirm(b,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(csVars.ProjectUrl+"documents","DeleteDocument",gemini_documents.document_removeDocument,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},{documentId:a})})})}),$(document).on("click","span.refresh-action",function(){var a=$(this).attr("data-id");$(".qq-upload-button input").prop("multiple",""),gemini_documents.document_uploader.setParams({documentId:a}),$(".qq-upload-button input").click(),$(".qq-upload-button input").prop("multiple","multiple")}),$(document).on("click","span.description-action",function(){var a=$(this).closest("table").find("td input:text");$.each(a,function(a,b){$(b).parent().html($(b).val())});var b=$(this).attr("data-id"),c=$(this).closest("tr").children("td:eq(1)"),d=c.text(),e=$("<input type='text' name='document-description' id='document-description' class='width-100' value='"+d+"'></input>");e.bind("blur",function(){c.html(d)}),gemini_commons.inputKeyHandler(e,function(){var a=$(e).val();gemini_ajax.postCall(csVars.ProjectUrl+"/documents","savedescription",function(b){b.Success?(c.empty(),c.html(a)):c.empty()},null,{fileId:b,description:a})},function(){c.html(d)}),c.empty().append(e),e.focus()}))},document_taxonomy:{},document_removeDocument:function(a){if(a.Success){var b=a.Result.Data.id;$("#filelist-container tr[data-id='"+b+"']").remove()}gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},document_uploader:null,document_FolderListed:function(a){$("#page-documents #filelist-container").html(a)},document_FolderList:function(a){null!=gemini_documents.document_uploader&&gemini_documents.document_uploader.setParams({folderId:a});var b={key:a};gemini_ajax.call(csVars.ProjectUrl+"documents","GetFolderContents",gemini_documents.document_FolderListed,null,b)},document_FolderRename:function(a,b,c){var d={key:"new"==a?-1:a,name:b,parent:c};c>0?gemini_ajax.call(csVars.ProjectUrl+"documents","rename",gemini_documents.document_FolderCreated,null,d):gemini_ajax.call(csVars.ProjectUrl+"documents","rename",gemini_documents.document_FolderRenamed,null,d)},document_FolderCreated:function(a){var b=$("#tree").dynatree("getTree").selectKey("new"),c=a.Result.Data.BaseEntity.ParentDocumentId;b.remove(),b=$("#tree").dynatree("getTree").selectKey(c),b.addChild({title:a.Result.Data.BaseEntity.Name,key:a.Result.Data.BaseEntity.Id,isFolder:a.Result.Data.BaseEntity.IsFolder,expand:!1})},document_FolderRenamed:function(a){var b=$("#tree").dynatree("getTree").selectKey(a.Result.Data.BaseEntity.Id);b.data.title=a.Result.Data.BaseEntity.Name,b.render()},document_FolderDeleted:function(a){var b=$("#tree").dynatree("getTree").selectKey(a);b.remove()},document_FolderDeleting:function(a){gemini_ajax.call(csVars.ProjectUrl+"documents","DeleteFolder",function(){gemini_documents.document_FolderDeleted(a.data.key)},null,{folderId:a.data.key})},document_menuRenameFolder:function(a,b){var c=$(a),d=c.parent("li").attr("id").replace("dynatree-id-",""),e=$("#tree").dynatree("getTree").selectKey(d),f=$("#DocumentFolderRenamer");f.show(),f.position({my:"left top",at:"left top",of:c,offset:"+35 -2",collision:"none"});var g=$("#folders").width()-c.position().left-38;f.css("width",g),f.children("input").val(e.data.title).focus().select(),f.children("#NodeId").val(d),f.children("#ParentNodeId").val(b)},document_menuCreateFolder:function(a){var b=$(a),c=b.parent("li").attr("id").replace("dynatree-id-",""),d=$("#tree").dynatree("getTree").selectKey(c);d.addChild({title:"",key:"new",isFolder:!0}),d.expand();var e=$("#dynatree-id-new span");gemini_documents.document_menuRenameFolder(e,c)},document_menuDeleteFolder:function(a){var b=$(a),c=b.parent("li").attr("id").replace("dynatree-id-",""),d=$("#tree").dynatree("getTree").selectKey(c);gemini_popup.modalConfirm(gemini_documents.document_taxonomy.deleteText+": "+d.data.title,null,function(){gemini_documents.document_FolderDeleting(d)},null)},contextMenu:function(a){$(a,"#page-documents").contextMenu({menu:"document-folder-context-menu"},function(a,b){"view"==a||("new"==a?gemini_documents.document_menuCreateFolder(b):"edit"==a?gemini_documents.document_menuRenameFolder(b,null):"delete"==a&&gemini_documents.document_menuDeleteFolder(b))},function(){})}},gemini_items={currentViewedIssueId:0,subscribed:!1,currentViewXHR:null,pageType:0,init:function(a,b,c){gemini_items.pageType=a,gemini_filter.init(a,c),gemini_edit.initEdit(0,a,"#cs-popup","#cs-popup-content","#data",gemini_items.refreshRow),gemini_ui.fancyInputs("#tabledata .fancy"),gemini_items.bindContextMenu(),$("#data").on("click","#page-options-box #bulk-update",function(){$(".checked-items:checked",$("#items-grid")).length>0&&($("#cs-popup-center-content").css("width","800px"),$("#cs-popup-center-content").css("height","600px"),gemini_popup.centerPopup(csVars.ProjectUrl+"bulk","",{},null,b))}),$("#data").on("click","#page-options-box #bulk-delete",function(){$(".checked-items:checked",$("#items-grid")).length>0?gemini_popup.modalConfirm("Delete selected items ?",null,function(){var a=new Array;$(".checked-items:checked",$("#items-grid")).each(function(b,c){var d=$(c).val();a[b++]=d}),gemini_items.bulkDeleteItems(a)}):"split-view-item"==$(".split-view-selected","#items-grid-control-box").parent().attr("id")&&gemini_popup.modalConfirm("Delete currently viewed item: "+$("#view-item-slider .item-title").text()+" ?",null,function(){var a=new Array;a[0]=gemini_item.issueId,gemini_items.bulkDeleteItems(a)})}),gemini_commons.shiftKeyHandler(),gemini_items.initShiftSelect(),gemini_items.initInlineEdit(),$("#page-content-zone .layout .items-data-container").length>0&&(gemini_items.resizeMainItemsGrid(),$(window).resize(function(){gemini_items.resizeMainItemsGrid()})),gemini_items.initCheckAllItems(),gemini_items.initPageSize(),$("#tabledata tbody tr:not(.drop-zone):first").length||$("#pageSizeContainer").hide(),$("#tabledata tr td:last-child").addClass("cell-border-right"),gemini_items.initHoverContextMenu(),$("#data").on("click","#split-view-item",function(){gemini_items.splitView(this)}),$("#data").on("click","#split-view-grid",function(){$("#DisplayMode","#filter-form").val("Table"),$(this).find(".grid-button").addClass("split-view-selected"),$("#split-view-item").find(".grid-button").removeClass("split-view-selected"),$("#data").off("click","#items-grid td.read-only a"),$("#view-item-slider").empty().hide(),gemini_edit.initEdit(0,a,"#cs-popup","#cs-popup-content","#data",gemini_items.refreshRow),gemini_items.bindContextMenu(),gemini_items.initInlineEdit(),gemini_items.currentViewedIssueId=0,$.unsubscribe("issue-update.items"),$.unsubscribe("issue-delete.items"),gemini_items.subscribed=!1,gemini_filter.refreshFilterCard()});var d=$("#DisplayMode","#filter-form");if(d&&d.length){var e=d.val();"SplitViewItem"==e&&$("#split-view-item").is(":visible")&&$("#split-view-item").click()}Mousetrap.bindGlobal(["ctrl+,","ctrl+."],gemini_keyboard.navigateGrid),$.subscribe("items-grid-page-loaded.gridsplitview",function(){"SplitViewItem"==$("#DisplayMode","#filter-form").val()&&gemini_items.splitView("#split-view-item")}),$.subscribe("items-grid-filter-executed.gridsplitview",function(){"SplitViewItem"==$("#DisplayMode","#filter-form").val()&&gemini_items.splitView("#split-view-item")})},splitView:function(a){$("#DisplayMode","#filter-form").val("SplitViewItem"),$(a).find(".grid-button").addClass("split-view-selected"),$("#split-view-grid").find(".grid-button").removeClass("split-view-selected"),gemini_filter.refreshFilterCard(),$("#data").off("click","#items-grid td.read-only a").on("click","#items-grid td.read-only a",function(a){gemini_items.splitViewShow(a,this)}),gemini_items.splitViewShow(null,"#data #items-grid td a:first")},splitViewShow:function(a,b){var c,d=0;if(null==a||!a.ctrlKey){if(c=$(b).parents("tr:eq(0)").attr("data-issue-id"),d=$(b).parents("tr:eq(0)").attr("data-project-id"),void 0==c)return $("#view-item-slider").empty().hide(),void 0;null!=a&&gemini_commons.stopClick(a),$("#items-grid tr").removeClass("view-issue-highlight");var e=$(b).parent().parent();e.addClass("view-issue-highlight"),gemini_items.currentViewedIssueId=c,gemini_items.subscribed||($.subscribe("issue-update.items",function(a,b,c){if(c==gemini_commons.PAGE_TYPE.Item){var d=csVars.ProjectUrl+"items/"+b+"/refreshrow";gemini_ajax.call(d,gemini_items.pageType,function(a){a.success&&(gemini_items.refreshRow(a,b,!0),$("tr[id^='tr-issue-'] td","#tabledata").destroyContextMenu(),$("#tr-issue-"+b,"#data").addClass("view-issue-highlight"))})}}),$.subscribe("issue-delete.items",function(a,b){var c=!1;if(b instanceof Array){for(var d=0;d<b.length;d++)if(b[d]==gemini_items.currentViewedIssueId){c=!0;break}}else b==gemini_items.currentViewedIssueId&&(c=!0);c&&$("#split-view-item").click()}),gemini_items.subscribed=!0)}null!=gemini_items.currentViewXHR&&gemini_items.currentViewXHR.abort(),gemini_items.currentViewXHR=gemini_ajax.call("project/all/"+d+"/item/"+gemini_items.currentViewedIssueId,"grid",function(a){gemini_items.currentViewXHR=null,$("#view-item-slider").html(a);var b=.7*$("#items-grid").width(),c=$("#items-grid").offset().top;$("#view-item-slider").css("top",c+"px"),$("#view-item-slider").css("width",b+"px");var d=$(window).height();d=d-c-24-3,$("#view-item-slider").css("height",d+"px"),$("#view-item-slider").show(),$("tr[id^='tr-issue-'] td","#tabledata").destroyContextMenu(),gemini_items.disableInlineEdit(),gemini_ui.chosen("#view-item-slider select:not(.no-chosen)",null),gemini_item.switchTab(null,".tab:first","#view-item-content-pane")})},initInlineEdit:function(){$("#data").on("click","#tabledata tr:not(.drop-zone) td:not(:first-child):not(.read-only):not(.edit-mode)",function(a){$(a.target).is("a")||gemini_edit.initEditing($(this),!0)})},disableInlineEdit:function(){$("#data").off("click","#tabledata tr:not(.drop-zone) td:not(:first-child):not(.read-only):not(.edit-mode)")},initPageSize:function(){gemini_commons.inputKeyHandler("#pageSize",function(){var a=$("#pageSize").val();!isNaN(a)&&parseInt(a)==a&&-1==a.indexOf(".")&&a>0&&gemini_filter.executeFilter()})},initShiftSelect:function(){var a=null;$("#tabledata tr td .checked-items").unbind("ifClicked").bind("ifClicked",function(b){if(checkProperty=$(this).prop("checked")?"uncheck":"check",!a)return a=$(this),void 0;if(gemini_commons.ShiftPressed){var c=$("#tabledata .checked-items").index($(this)),d=$("#tabledata .checked-items").index(a);$("#tabledata .checked-items").slice(Math.min(c,d),Math.max(c,d)).iCheck(checkProperty),b.preventDefault()}a=$(this)})},initHoverContextMenu:function(){$("#data").on("click","#tabledata tr .item-context-menu",function(a){gemini_commons.stopClick(a),a.button=2,$(this).parent().trigger("mousedown",a).trigger("mouseup",[a])})},initCheckAllItems:function(){$("#check-all-items").unbind("ifChanged").bind("ifChanged",function(a){a.stopPropagation(),$(this).prop("checked")?($("#items-grid #tabledata tbody tr .checked-items").iCheck("check"),$("#items-grid #tabledata tbody tr .checked-items").prop("checked",!0)):($("#items-grid #tabledata tbody tr .checked-items").iCheck("uncheck"),$("#items-grid #tabledata tbody tr .checked-items").prop("checked",!1))})},initComments:function(){$("#comments").unbind("click").click(function(){$(this).hide(),$(this).empty()}),$(".comments","#tabledata").unbind("click").click(function(a){if(!$(a.target).hasClass("item-context-menu")){gemini_commons.stopClick(a);var b=$(this).parent(),c=this,d=$(this).position();if($("#comments").is(":visible"))return $("#comments").hide(),$("#comments").empty(),void 0;gemini_keyboard.bindEscape("#items-grid #comments",function(a,b){$(b).hide(),gemini_keyboard.unbindEscape("#items-grid #comments")}),$.ajax({type:"GET",url:csVars.Url+"project/"+b.data("project-code")+"/"+b.data("project-id")+"/item/"+b.data("issue-id")+"/comments",success:function(a){a.success&&(d.left<400?($("#comments").html(a.Result.Data).show(),$("#comments").position({of:c,my:"left top",at:"center bottom",offset:"0 0",collision:"none"})):($("#comments").html(a.Result.Data).show(),$("#comments").position({of:c,my:"right top",at:"center bottom",offset:"0 0",collision:"none"})),$("#comments #comments-content").removeClass("hide"))}})}})},resizeMainItemsGrid:function(){var a=$("#page-content-zone .layout").width(),b=a;$("#page-content-zone .layout .items-data-container").css("width",b+"px")},refreshRow:function(a,b,c){var d=$("#tr-issue-"+b,"#tabledata");$("#tr-issue-"+b,"#tabledata").replaceWith(a.Result.Html);var e=$("#tr-issue-"+b,"#tabledata");gemini_items.bindContextMenu(),gemini_filter.initTableDnD(),(gemini_edit.pageType==gemini_commons.PAGE_TYPE.Items||c)&&(gemini_ui.fancyInputs("#tabledata #tr-issue-"+b+" .fancy"),gemini_items.initShiftSelect(),gemini_edit.pageType==gemini_commons.PAGE_TYPE.Items&&(d.hasClass("dependant")?(e.attr("class","dependant"),$('<span class="indented">L &nbsp;</span>').insertBefore($(".items-first-column",e).next().find("a"))):d.find(".parent.expander.fonticon-arrow-up").length>0&&e.find(".parent.expander").removeClass("fonticon-arrow-down").addClass("fonticon-arrow-up")))},pageCard:"",pinItem:function(a,b){var c=csVars.Url+"cards/issue";$.ajax({type:"POST",url:c,data:{mode:b,issueId:a},dataType:"json",success:function(){gemini_appnav.refresh()}})},bulkDeleteItems:function(a){a&&a.length>0&&(gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.postCall(csVars.ProjectUrl+"bulk","delete",function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes"),$.subscribe("items-grid-page-loaded.itemsgriddelete",function(){$.publish("issue-delete",[a]),$.unsubscribe("items-grid-page-loaded.itemsgriddelete")}),gemini_filter.getFilteredItemsCurrentPage()},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},{items:a}))},postDelete:function(a){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.postCall(csVars.ProjectUrl+"item","deleteissue/"+a.issueId,gemini_items.PostDeleteResponse,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})},postDeleteProj:function(a,b){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.postCall(csVars.ProjectUrl+"item","deleteissue/"+a+"/"+b,gemini_items.PostDeleteResponse,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})},PostDeleteResponse:function(a){if(a.Success){var b=$("#pager-next").data("page")-1;$("#card-holder").html(a.Result.Data.navdata),gemini_filter.getFilteredItemsPage(b)}gemini_ui.stopBusy("#modal-confirm #modal-button-yes"),gemini_appnav.initCardActions()},bindContextMenu:function(){$("tr[id^='tr-issue-'] td","#tabledata").destroyContextMenu(),$("tr[id^='tr-issue-'] td","#tabledata").contextMenu({menu:"item-grid-context-menu"},function(a,b){var c=$(b).parent().data("issue-id");$(b).parent().data("data-issue-id");var d=$(b).parent().attr("data-project-code"),e=$(b).parent().attr("data-project-id");"view"!=a||$('#item-grid-context-menu a[href="#view"]').parent().hasClass("disabled")?"new"==a||("edit"!=a||$('#item-grid-context-menu a[href="#edit"]').parent().hasClass("disabled")?"comment"!=a||$('#item-grid-context-menu a[href="#comment"]').parent().hasClass("disabled")?"follow"==a?gemini_ajax.call("project/All/"+e+"/item","addwatcher/"+c+"/0"):"pin"==a?gemini_items.pinItem(c,!1):"delete"!=a||$('#item-grid-context-menu a[href="#delete"]').parent().hasClass("disabled")||gemini_popup.modalConfirm("Delete Item "+d+"-"+c+"?",null,function(){gemini_items.postDeleteProj(c,e)}):($("#cs-popup-center-content").css("width","600px"),$("#cs-popup-center-content").css("height","475px"),gemini_popup.centerPopup("project/All/"+e+"/item/"+c+"/editcommenteditor","popup")):gemini_edit.initEditing(b)):gemini_commons.openIssueUrlInTabProj(c,e)
},function(a){gemini_ajax.call(csVars.ProjectUrl+"projects","getprojectpermissions/"+$(a).parent().data("issue-id"),function(a){a.success&&(a.Result.Data.canview?$("#item-grid-context-menu").enableContextMenuItems("#view"):$("#item-grid-context-menu").disableContextMenuItems("#view"),a.Result.Data.canedit?$("#item-grid-context-menu").enableContextMenuItems("#edit"):$("#item-grid-context-menu").disableContextMenuItems("#edit"),a.Result.Data.candelete?$("#item-grid-context-menu").enableContextMenuItems("#delete"):$("#item-grid-context-menu").disableContextMenuItems("#delete"),a.Result.Data.cancomment?$("#item-grid-context-menu").enableContextMenuItems("#comment"):$("#item-grid-context-menu").disableContextMenuItems("#comment"))},null,null)})}},gemini_item={pageType:0,pendingChanges:!1,editingMode:!1,issueId:0,triggerXHR:null,itemUrl:"",initItem:function(a,b,c,d,e,f){gemini_item.pageType=d,gemini_item.issueId=c,gemini_item.itemUrl="project/"+b+"/"+a+"/",gemini_sizing.sameWidth(".touch-info .box",10),e&&(gemini_edit.initEdit(c,d,"#cs-popup","#cs-popup-content"),$("#view-item-content-pane").on("click","#additional-content .attribute:not(.edit-mode)",function(a){$(a.target).is("a")||gemini_edit.initEditing($(this),!0)}),$("#item-attributes").on("click","#attributes-wrapper .attribute:not(.edit-mode)",function(a){$(a.target).is("a")||gemini_edit.initEditing($(this),!0)}),$("#view-item").on("click",".item-title",function(a){$(a.target).is("input")||gemini_ajax.postCall(gemini_item.itemUrl+"inlineedit/getproperty",gemini_edit.pageType,gemini_edit.showInlineEditField,null,{id:c,property:$(this).attr("data-attribute-id")},$(".title",$(this)))}),$("#view-item").on("click",".progress-info .percent",function(){gemini_edit.initEditing($(this),!0)}),$("#view-item").on("click",".progress-info .estimate",function(){gemini_edit.initEditing($("#view-item .progress-info .estimate:eq(0)"),!0)}),$("#view-item").on("click","#add-description",function(a){gemini_commons.stopClick(a),gemini_edit.initEditing($(this),!0)})),$("#view-item-content-pane").on("click",".tab",gemini_item.switchTab),gemini_item.switchTab(null,$(".tab:first","#view-item-content-pane")),Mousetrap.bindGlobal(["ctrl+left","ctrl+right"],gemini_keyboard.navigateTabs),$("#tabledata").length||Mousetrap.bindGlobal(["ctrl+,","ctrl+."],gemini_keyboard.navigateItems),$(".widget-header").each(function(){gemini_item.getAppControlValue(gemini_item.issueId,$(this).data("gemini-app-id"),$(this).data("gemini-control-id"),"value","")}),$(".item-content-widget").each(function(){gemini_item.getAppControlValue(gemini_item.issueId,$(this).data("gemini-app-id"),$(this).data("gemini-control-id"),"value","")}),gemini_item.attachDependencyEvents(c),gemini_item.attachLinksEvents(c),gemini_item.attachWatchersEvents(c),gemini_item.commentExpanders("#cs-sections");var g=$("#attachmentupload-hit")[0];void 0!=g&&null!=g&&gemini_item.AttachmentFileUploader(g,c,"");var h=$("#phantom-fileuploader")[0];void 0!=h&&null!=h&&gemini_item.AttachmentFileUploader(h,c,f),$("#view-item").on("click","#item-attachments span.thumbnail-close-image",function(a){a.preventDefault();var b=$(this).attr("data-id"),d=$(this).parents("div:eq(1)").find(".thumbnail-name").attr("title");gemini_commons.translateMessage("[[Delete]] "+d+"?",["Delete"],function(a){gemini_popup.modalConfirm(a,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(gemini_item.itemUrl+"item/"+c,"deleteattachment",gemini_item.deleteItemAttachment,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},{attachmentId:b})})})}),$("#item-toolbar #action-delete").on("click",function(a){gemini_commons.stopClick(a),gemini_commons.translateMessage("[[Delete]]? ",["Delete"],function(a){gemini_popup.modalConfirm(a,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(gemini_item.itemUrl+"item","deleteissue/"+c+"/0",function(a){a.Success&&(window.location.href=a.Result.Data.redirecturl)},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},null)})})}),$("#item-toolbar #action-edit").on("click",function(a){gemini_commons.stopClick(a),gemini_edit.initEditing($(this))}),$("#item-toolbar #action-move").on("click",function(a){gemini_commons.stopClick(a),gemini_edit.setProjectFieldDisplay(!0),gemini_edit.initEditing($(this))}),$("#item-toolbar #action-copy").on("click",function(a){gemini_commons.stopClick(a),$("#cs-popup-center-content").css("width","500px"),$("#cs-popup-center-content").css("height","125px"),gemini_commons.translateMessage("[[Copy]]",["Copy"],function(a){gemini_popup.centerPopup(gemini_item.itemUrl+"item/"+c+"/copyissue","popup/0",null,null,a)})}),$("#item-toolbar #action-vote").on("click",function(a){gemini_commons.stopClick(a),gemini_ajax.call(gemini_item.itemUrl+"item/"+c,"voteissue",function(a){a.Success&&($("#item-attributes").html(a.Result.Data.Html),$("#item-toolbar #action-vote").hide(),gemini_popup.toast(a.Result.Data.Voted))})}),$("#item-toolbar #action-follow-unfollow").on("click",function(a){gemini_commons.stopClick(a),gemini_ajax.call(gemini_item.itemUrl+"item/addwatcher/"+c,"0",function(a){if(a.Success){var b=$("#action-follow-unfollow","#item-toolbar").text(),c=$("#action-follow-unfollow","#item-toolbar").attr("data-alt-title");$("#action-follow-unfollow","#item-toolbar").text(c),$("#action-follow-unfollow","#item-toolbar").attr("data-alt-title",b),gemini_item.replaceContent(a.Result.Data),gemini_item.attachWatchersEvents(a.Result.Data.issueId)}})}),$("#item-collapse").click(function(){$("#view-item-collapse").is(":visible")?($("#view-item-collapse").slideUp(),$(this).html($(this).attr("data-text-show"))):($("#view-item-collapse").slideDown(),$(this).html($(this).attr("data-text-hide")))}),gemini_item.attachCommentsEditWindowEvents(c),gemini_item.attachCommentsTinyMcEvents(c,"comments-wysiwyg-content"),$("#view-item").on("click",".section-content.comments span.delete",function(a){a.preventDefault();var b=$(this).attr("data-id");gemini_commons.translateMessage("[[Delete]] [[Comment]]? ",["Delete","Comment"],function(a){gemini_popup.modalConfirm(a,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(gemini_item.itemUrl+"item/"+c,"deletecomment",gemini_item.deleteComment,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},{commentId:b})})})}),$("#view-item").on("click",".section-content.comments span.thumbnail-close-image",function(a){a.preventDefault();var b=$(this).attr("data-id");gemini_commons.translateMessage("[[Remove]] "+$(this).parents(".thumbnail").find(".thumbnail-name a").html()+"?",["Remove"],function(a){gemini_popup.modalConfirm(a,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.jsonCall(gemini_item.itemUrl+"item/"+c,"deleteattachment",gemini_item.deleteCommentAttachment,function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},{attachmentId:b})})})}),$("#view-item").on("click",".description-article .fonticon-edit",function(a){gemini_commons.stopClick(a),$("#cs-popup-center-content").css("width","725px"),$("#cs-popup-center-content").css("height","380px"),gemini_popup.centerPopup(gemini_item.itemUrl+"item/"+c+"/editdescription","popup",null)}),$("#view-item").on("click","#sourcecode-content .add",function(a){gemini_commons.stopClick(a),$("#cs-popup-center-content").css("width","420px"),$("#cs-popup-center-content").css("height","100px"),gemini_popup.centerPopup(gemini_item.itemUrl+"item/"+c+"/editsourcecontrol","popup",null)}),$("#view-item").on("click","#timelog-content .add",function(a){gemini_commons.stopClick(a),$("#cs-popup-center-content").css("width","500px"),$("#cs-popup-center-content").css("height","350px"),gemini_popup.centerPopup(gemini_item.itemUrl+"item/"+c+"/edittimeentry","popup/",{timeid:0})}),$("#view-item").on("click","#timelog-content .action-button-edit",function(a){gemini_commons.stopClick(a),$("#cs-popup-center-content").css("width","500px"),$("#cs-popup-center-content").css("height","350px"),gemini_popup.centerPopup(gemini_item.itemUrl+"item/"+c+"/edittimeentry","popup/",{timeid:$(this).parents("tr:eq(0)").attr("data-id")})}),$("#view-item").on("click","#sourcecode-content .action-button-delete",function(){var a=$(this).parents("tr:eq(0)").attr("data-id");gemini_commons.translateMessage("[[Delete]] "+$(this).parents("tr:eq(0)").find("td:eq(0)").html()+"?",["Delete"],function(b){gemini_popup.modalConfirm(b,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(gemini_item.itemUrl+"item/"+c,"deletesourcecontrol/"+a,function(a){a.Success&&gemini_item.replaceContent(a.Result.Data),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")}),function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")}})})}),$("#view-item").on("click","#timelog-content .action-button-delete",function(){var a=$(this).parents("tr:eq(0)").attr("data-id"),b="[[Delete]] "+$(this).parents("tr:eq(0)").find("td:eq(0)").text()+" - "+$(this).parents("tr:eq(0)").find("td:eq(3)").html()+" "+$(this).parents("tr:eq(0)").find("td:eq(4)").html()+"?";gemini_commons.translateMessage(b,["Delete"],function(b){gemini_popup.modalConfirm(b,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.call(gemini_item.itemUrl+"item/"+c,"deletetimeentry/"+a,function(a){a.Success&&gemini_item.replaceContent(a.Result.Data),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})})})}),$("#view-item").on("click","#comments-content .toolbar .button",function(a){return a.preventDefault(),$(".comments-wysiwyg-container").is(":visible")?($("#comments-content .cs-comment-add-close").click(),void 0):(gemini_ui.expand("#comments-section"),$(".comments-wysiwyg-container").css("display","inline-block"),$("#comments-wysiwyg-content").val(""),$("#comments-wysiwyg-content").parents("form:eq(0)").attr("class"),$("#comments-wysiwyg-content").parents("form:eq(0)").find(".option-row:eq(0) .file-upload-button").val(),$("#comments-wysiwyg-content").parents("form:eq(0)").find(".option-row:eq(0) .file-upload-button").replaceWith("<input class='file-upload-button' type='file' name='comment-attachment' multiple='multiple' />"),gemini_ui.htmlEditorCommand("mceFocus",!1,"comments-wysiwyg-content"),gemini_sizing.sameWidth("#comments-content .comments-wysiwyg-container .buttons input"),gemini_item.setContentHeight(),void 0)}),$("#view-item").on("click",".comments-wysiwyg-container.comment-editing-mode",function(){if($(this).parents(".comments-wysiwyg-container.comment-editing-mode").length>0){var a=$(this).parents(".comment").attr("alt");$(this).parents(".comments-wysiwyg-container").replaceWith(a)}else $(this).parents(".comments-wysiwyg-container").css("display","none"),$(this).parents(".comments-wysiwyg-container").find($("#comments-wysiwyg-content")).val(""),$(this).parents(".comments-wysiwyg-container").find($(".file-upload-button")).val("")}),$("#view-item").on("click",".cs-comment-add-save",function(a){""==$(this).parents(".comments-wysiwyg-container").find($(".wysiwyg-container textarea")).val()?a.preventDefault():(1==$(".comments-wysiwyg-container").length?gemini_ui.startBusy("#comments-content .comments-wysiwyg-container:eq(0) .cs-comment-add-save"):gemini_ui.startBusy("#comments-content .comments-wysiwyg-container:eq(1) .cs-comment-add-save"),a.preventDefault(),$(".comments-form").submit())}),$("#view-item").on("click","#comments-content .cs-comment-add-close",function(){$(this).parents(".comment").hasClass("comment-editing-mode")?($(this).parents(".comment").find(".comments-wysiwyg-container").before($(this).parents(".comment").data("content")),$(this).parents(".comment").removeClass("comment-editing-mode"),$(this).parents(".comments-wysiwyg-container").remove()):$(this).parents(".comments-wysiwyg-container").css("display","none")}),$("#tabledata").length||gemini_ajax.call(csVars.ProjectUrl+"item/"+c,"FilterNavigator",function(a){$("#filter-navigator-container").replaceWith(a)})},deleteComment:function(a){if(a.Success){$("#comments-content [data-id='"+a.Result.Data.id+"']").remove();var b=parseInt($("#comments-section h3").attr("title"))-1;$("#comments-section h3").html($("#comments-section").attr("title")+"&nbsp("+b+")"),$("#comments-section h3").attr("title",b),gemini_ui.stopBusy("#modal-confirm #modal-button-yes"),gemini_item.replaceContent(a.Result.Data),$.publish("issue-update",[gemini_item.issueId,gemini_edit.pageType])}},AttachmentFileUploader:function(a,b,c){var d='<li><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">[[Cancel]]</a><span class="qq-upload-failed-text">[[Failed]]</span><span class="fonticon-cross"></span></li>';gemini_commons.translateMessage(d,["Cancel","Failed"],function(d){gemini_item.attachmentUploader=new qq.FileUploader({element:a,action:gemini_ajax.getUrl(gemini_item.itemUrl+"Item/"+b,"UploadAttachment"),debug:!1,onComplete:function(a,c,d){d.success&&(void 0==d.Result?gemini_item.replaceContent(d):gemini_item.getItemAttachments(b),$("#item-attachments .qq-upload-list .qq-upload-success").hide()),$(".qq-upload-fail .fonticon-cross").click(function(){$(this).parent().remove()})},taxonomy:{uploadButton:"<a href='#'>Attachments</a>",dropZone:c},fileTemplate:d})})},getItemAttachments:function(a){gemini_item.attachmentUploader.setParams({IssueId:a});var b={id:a};gemini_ajax.call(gemini_item.itemUrl+"item/"+a,"Attachments",function(a){gemini_item.replaceContent(a.Result.Data)},null,b)},deleteItemAttachment:function(a){a.success&&($("#item-attachments .thumbnail[data-id='"+a.Result.Data.id+"']").remove(),gemini_item.replaceContent(a.Result.Data),gemini_ui.stopBusy("#modal-confirm #modal-button-yes"))},deleteCommentAttachment:function(a){a.success&&$("#comments-content [data-id='"+a.Result.Data.id+"']").remove(),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},getAppControlValue:function(issueId,appId,controlId,action,formData){var spinner=gemini_ui.getSpinnerSmall();$("#"+appId+"-"+controlId).html(spinner.Markup),eval(spinner.JS),$.ajax({type:"POST",url:csVars.Url+"issue/apps/submit/popup/"+issueId+"/"+appId+"/"+controlId+"/"+action,async:!0,data:formData,success:function(a){a.Success&&(gemini_commons.isEmpty(a.Result.Markup)&&(a.Result.Markup="&nbsp;"),$("#"+appId+"-"+controlId).html(a.Result.Markup))}})},attachCommentsTinyMcEvents:function(a,b){gemini_ui.htmlEditor("#"+b,null,gemini_item.setPendingChanges);var c={dataType:"json",success:function(a){a.success&&gemini_item.replaceContent(a),$.publish("issue-update",[gemini_item.issueId,gemini_edit.pageType])}};"comments-wysiwyg-content"!=b&&gemini_ui.htmlEditorCommand("mceFocus",!1,b),$(".comments-form").ajaxForm(c)},commentExpanders:function(a){$(a).on("click","span.comment-expandedOrcollapsed",function(){gemini_ui.expandCollapse($(this))})},attachCommentsEditWindowEvents:function(a){$(".section-content.comments .action-button-edit").unbind("click").click(function(){var b=$(this).parents("div:eq(0)").find(".comment");if(!$(b).hasClass("comment-editing-mode")){var c=$(".attachment",$(b)).detach(),d=$(b).html(),e=$("#comments-content .comments-wysiwyg-container").length+1,f=1,g=$(b).parent().parent().find(".author-box .control-icon").attr("data-group");(void 0==g||null==g)&&(g=f);var h=$("#comments-content:eq(0) #visibility").clone().attr("id","visibility"+e).removeClass("chzn-done").val(g);$(b).data("content",d),$(b).addClass("comment-editing-mode");var i="<div class='comments-wysiwyg-container'><form class='comments-form "+e+"' action='"+$(b).attr("data-url")+"' method='post' enctype='multipart/form-data'>"+"<div class='wysiwyg-container'><textarea id='comments-wysiwyg-content"+e+"' name='commentsWysiwygContent'>"+"</textarea></div>"+"<div class='comment-extra-options'>"+"<div class='option-row'><span class='left comment-label'>[[Attachments]]</span>  <input type='file' class='file-upload-button' name='comment-attachment' multiple='multiple' /></div>"+"<div class='option-row'><span class='left comment-label'>[[Visibility]]</span></div>"+"</div>"+"<div class='cs-comment-wysiwyg-option'>"+"<div class='buttons'>"+"<input type='button' value='[[Cancel]]' class='button-secondary button-popup cs-comment-add-close right'>"+"<input type='submit' value='[[Update]]' class='button-primary button-popup cs-comment-add-save-edit right'>"+"</div>"+"</div>"+"</form>"+"</div>";gemini_commons.translateMessage(i,["Update","Attachments","Visibility","Cancel"],function(f){b.html(f),b.append(c),b.find(".comments-wysiwyg-container").css("display","inline-block"),b.find(".comment-extra-options .option-row:eq(1)").append(h),0==b.find(".comments-wysiwyg-container .option-row:eq(1) select").length&&b.find(".comments-wysiwyg-container .option-row:eq(1)").hide(),gemini_ui.chosen("#comments-content .option-row .input-size8"),gemini_item.attachCommentsTinyMcEvents(a,"comments-wysiwyg-content"+e),gemini_ui.htmlEditorCommand("mceInsertContent",!1,d),gemini_item.setContentHeight()}),gemini_ui.expand($(this))}})},replaceContent:function(a){$("#progress-indicator").addClass("hide"),$(a.Data).each(function(){if("AssociatedAttachments"==this.Key){var b=$("#item-attachments");$("#item-attachments").replaceWith(this.Value),$(".action-add","#item-attachments").replaceWith($(".action-add",$(b))),$("#phantom-fileuploader","#item-attachments").replaceWith($("#phantom-fileuploader",$(b)))}else"AssociatedHistory"==this.Key?gemini_item.replaceContentContainer("history",this.Value):"AssociatedComments"==this.Key?(gemini_item.replaceContentContainer("comments",this.Value),gemini_ui.chosen("#comments-content .option-row .input-size8"),gemini_item.attachCommentsEditWindowEvents(a.issueId),gemini_item.attachCommentsTinyMcEvents(a.issueId,"comments-wysiwyg-content"),$("#comments-wysiwyg-content").val(""),$("#comments-section").click()):"Title"==this.Key?$("#view-item .item-title").html(this.Value):"Description"==this.Key?($(".clear-description-article").remove(),$(".description-article").replaceWith(this.Value)):"AssociatedHierarchy"==this.Key?($("#dependency-section").replaceWith(this.Value),gemini_item.attachDependencyEvents(a.issueId)):"AssociatedLinks"==this.Key?($(".see-also-container").html(this.Value),$(".see-also-container .see-also-value a").length>0?$(".see-also-container").attr("class","see-also-container margin-top-10 margin-bottom-10"):$(".see-also-container").removeClass("margin-top-10 margin-bottom-10"),gemini_ui.chosen("#links-find-item-container #linktypes")):"AssociatedWatchers"==this.Key?gemini_item.replaceContentContainer("watchers",this.Value):"AssociatedSourceControl"==this.Key?gemini_item.replaceContentContainer("sourcecode",this.Value):"AssociatedTime"==this.Key?gemini_item.replaceContentContainer("timelog",this.Value):"AttributePane"==this.Key?$("#item-attributes").html(this.Value):"EstimatedEffort"==this.Key?$("#view-item .progress-info").replaceWith(this.Value):"DateCreated"==this.Key&&($("#touch-info-container","#view-item").html(this.Value),gemini_sizing.sameWidth(".touch-info .box",10))})},replaceContentContainer:function(a,b){var c=$("#"+a+"-section").hasClass("selected");$("#"+a+"-content").remove(),$("#"+a+"-section").replaceWith(b),c&&$("#"+a+"-section").click()},attachWatchersEvents:function(a){$("#watchers-find-item-container").hide(),$("#watchers-find-item-container input").unbind("blur").blur(function(){$("#watchers-find-item-container").hide(),$("#watchers-find-item-container input").val("")}),$("#watchers-find-item-container input").unbind("keypress").keypress(function(a){27==a.keyCode&&($("#watchers-find-item-container").hide(),$("#watchers-find-item-container input").val(""))}),$("#watchers-content .toolbar .add").unbind("click").click(function(a){a.preventDefault();var b=$("#watchers-content .add").position();$("#watchers-find-item-container").show().css("left",b.left).css("top",b.top+15),$("#watchers-find-item-container input").focus()}),$("#watchers-content .action-button-delete").unbind("click").click(function(){var b=$(this).parents("tr:eq(0)").attr("data-id");gemini_commons.translateMessage("[[Remove]] "+$(this).parents("tr:eq(0)").find("td:eq(0)").html()+"?",["Remove"],function(c){gemini_popup.modalConfirm(c,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.jsonCall(gemini_item.itemUrl+"item","deletewatcher/"+a+"/"+b,function(a){a.Success&&(gemini_item.replaceContent(a.Result.Data),gemini_item.attachWatchersEvents(a.Result.Data.issueId)),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})})})}),$("#watchers-find-item").autocomplete({source:function(a,b){$.ajax({url:csVars.Url+gemini_item.itemUrl+"account/getusersdropdown",dataType:"json",data:{term:a.term},success:function(a){for(var c=new Array,d=0;d<a.Result.Data.length;d++)c[c.length]={label:a.Result.Data[d].label,value:a.Result.Data[d].value};b(c)}})},minLength:2,width:200,dataType:"json",matchContains:"word",autoFill:!1,select:function(b,c){return $("#watchers-find-item").val(c.item.label),gemini_ajax.jsonCall(gemini_item.itemUrl+"item","addwatcher/"+a+"/"+c.item.value,function(a){a.Success&&(gemini_item.replaceContent(a.Result.Data),gemini_item.attachWatchersEvents(a.Result.Data.issueId),gemini_ui.flashContent("#watchers-content [data-id='"+a.Result.Data.userId+"']"))}),!1},focus:function(a,b){this.value=b.item.label,a.preventDefault()}})},attachDependencyEvents:function(a){$("#dependency-section .dependency").hover(function(){$(this).hasClass("open")&&$(".fonticon-plus:not(.noshow)",$(this)).css("visibility","visible"),!$(this).hasClass("open")&&!$(this).hasClass("closed")||$(this).is(":first-child")||$(".fonticon-cross:not(.noshow)",$(this)).css("visibility","visible")},function(){$(".fonticon-plus:not(.noshow)",$(this)).css("visibility","hidden"),$(".fonticon-cross:not(.noshow)",$(this)).css("visibility","hidden")});var b=!1;$("#dependency-section .dependency .fonticon-plus").unbind("click").click(function(){var a=$(this).position();$("#dependencies-find-item-container").show().css("left",a.left).css("top",a.top+15),$("#dependencies-find-item-container input").focus(),b=$(this).parent().attr("data-id")}),$("#view-item #add-dependency").unbind("click").click(function(c){c.preventDefault(),$("#dependencies-find-item-container").show(),$("#dependencies-find-item-container").position({my:"right center",at:"left center",of:$("#item-toolbar"),offset:"-5 0",collision:"none"}),$("#dependencies-find-item-container input").focus(),b=a}),$("#view-item #add-new-dependency").unbind("click").click(function(b){gemini_commons.stopClick(b),gemini_add.hidePlan=!0,gemini_add.hideProject=!0,gemini_add.newItemRenderedCallback=function(){var a=$(window).scrollTop(),b=$("#cs-popup-add");a>b.position().top&&b.css("top",a),b.find("form").append("<input type='hidden' value='"+gemini_item.issueId+"' name='ParentItem' id='ParentItem' />")},gemini_add.newItemCreatedCallback=function(){gemini_ajax.jsonCall(gemini_item.itemUrl+"items","renderdependencies/"+a,function(a){a.Success&&gemini_item.replaceContent(a.Result.Data)})},gemini_commons.showAddItem()}),$("#dependency-section .dependency .fonticon-cross").unbind("click").click(function(){var b=$(this).parent().attr("data-id");$(this).parents("div:eq(1)").find(".thumbnail-name a").html(),gemini_commons.translateMessage("[[Remove]] "+$(this).parent().find(".item-links span:first").html()+"?",["Remove"],function(c){gemini_popup.modalConfirm(c,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.jsonCall(gemini_item.itemUrl+"items","deletedependency/"+a+"/"+b,function(a){a.Success&&gemini_item.replaceContent(a.Result.Data),setTimeout(function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},1250)})})})}),$("#dependencies-find-item-container input").unbind("blur").blur(function(){gemini_item.hideDependencyFindItem()}),gemini_commons.inputKeyHandler("#dependencies-find-item-container input",function(){gemini_ajax.jsonCall(gemini_item.itemUrl+"items","adddependency/"+a+"/"+b+"/"+$("#dependencies-find-item-container input").val(),function(a){a.Result.Data.success?(gemini_item.replaceContent(a.Result.Data),gemini_ui.flashContent(".dependencies-article [data-id='"+a.Result.Data.childIssueId+"']")):a.Result.Data.Message?gemini_popup.toast(a.Result.Data.Message):a.Message&&gemini_popup.toast(a.Message),gemini_item.hideDependencyFindItem()})},function(){gemini_item.hideDependencyFindItem()}),gemini_item.hideDependencyFindItem(),$("#dependencies-find-item").autocomplete({source:function(b,c){$.ajax({url:csVars.Url+gemini_item.itemUrl+"item/"+a+"/getissuesdropdown",dataType:"json",data:{term:b.term,action:"dependency"},success:function(a){for(var b=new Array,d=0;d<a.Result.Data.length;d++)b[b.length]={label:a.Result.Data[d].value+" - "+a.Result.Data[d].label,value:a.Result.Data[d].value};c(b)}})},minLength:2,width:200,dataType:"json",matchContains:"word",autoFill:!1,select:function(c,d){gemini_ajax.jsonCall(gemini_item.itemUrl+"items","adddependency/"+a+"/"+b+"/"+d.item.value,function(a){a.Success&&(gemini_item.replaceContent(a.Result.Data),gemini_ui.flashContent("#dependency-section [data-id='"+a.Result.Data.childIssueId+"']"))}),gemini_item.hideDependencyFindItem()}})},hideDependencyFindItem:function(){$("#dependencies-find-item-container").hide(),$("#dependencies-find-item-container input").val("")},hideLinkFindItem:function(){$("#links-find-item-container").hide(),$("#links-find-item").val("")},attachLinksEvents:function(a){function b(){""!=$("#links-find-item-container #links-find-item").val()?(""==$("#links-find-item-container #links-find-item-id").val()&&$("#links-find-item-container #links-find-item-id").val($("#links-find-item-container #links-find-item").val()),gemini_ajax.jsonCall(gemini_item.itemUrl+"item/"+a,"addlink/"+$("#links-find-item-container #links-find-item-id").val()+"/"+$("#links-find-item-container #linktypes").val(),function(a){a.Success?(gemini_item.replaceContent(a.Result.Data),gemini_item.attachLinksEvents(a.Result.Data.issueId),gemini_ui.chosen("#links-find-item-container #linktypes"),$("#links-find-item-container #links-find-item").val(""),$("#links-find-item-container").hide(),gemini_ui.flashContent($(".see-also [data-id='"+a.Result.Data.linkedIssueId+"']").prev())):a.Result.Data.Message?gemini_popup.toast(a.Result.Data.Message):a.Message&&gemini_popup.toast(a.Message)})):$("#links-find-item-container form").valid()}$("#links-find-item-container .fonticon-cross").unbind("click").click(function(){gemini_item.hideLinkFindItem()}),$("#link-section #links-find-item-container form").validate(),$("#view-item #add-link").unbind("click").click(function(a){a.preventDefault(),$("#links-find-item-container").show(),$("#links-find-item-container").position({my:"right center",at:"left center",of:$("#item-toolbar"),offset:"-5 0",collision:"none"}),$("#links-find-item-container #links-find-item").focus()}),$("#links-find-item-container").hide(),$("#links-find-item-container #links-find-item").unbind("keyup").keyup(function(){""==$(this).val()&&$("#links-find-item-id").val("")}),$("#links-find-item-container .fonticon-tick").unbind("click").click(function(){b()}),gemini_commons.inputKeyHandler("#links-find-item-container #links-find-item",function(){b()},function(){gemini_item.hideLinkFindItem()}),$(".see-also .delete-link").unbind("click").click(function(){var b=$(this).attr("data-id");gemini_commons.translateMessage("[[Remove]] [[Link]] "+$(this).prev().text()+"?",["Remove","Link"],function(c){gemini_popup.modalConfirm(c,null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.jsonCall(gemini_item.itemUrl+"item/"+a,"deletelink/"+b,function(a){a.Success&&(gemini_item.replaceContent(a.Result.Data),gemini_item.attachLinksEvents(a.Result.Data.issueId),gemini_ui.chosen("#link-section #links-find-item-container #linktypes")),gemini_ui.stopBusy("#modal-confirm #modal-button-yes")},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})})})}),$("#links-find-item").autocomplete({source:function(b,c){$.ajax({url:csVars.Url+gemini_item.itemUrl+"item/"+a+"/getissuesdropdown",dataType:"json",data:{term:b.term,action:"link"},success:function(a){for(var b=new Array,d=0;d<a.Result.Data.length;d++)b[b.length]={label:a.Result.Data[d].value+" - "+a.Result.Data[d].label,value:a.Result.Data[d].value};c(b)}})},minLength:2,width:200,dataType:"json",matchContains:"word",autoFill:!1,select:function(a,b){return $("#links-find-item-id").val(b.item.value),$("#links-find-item").val(b.item.label),!1}})},switchTab:function(a,b){var c=this;null!=b&&void 0!=b&&(c=b),$(".tab","#view-item-content-pane").removeClass("selected").addClass("normal"),$(".content","#view-item-content-pane").hide();var d=$("#"+$(c).attr("data-contentid"));d.show(),$("input[type='text']:first",d).focus(),$(c).removeClass("normal").addClass("selected"),gemini_item.setContentHeight()},setContentHeight:function(a){var b=$("#view-item-content-pane .tabs .selected");if(b.length>0){var c=$("#"+b.attr("data-contentid"));if(c.length>0){var d=$("#contents").css("min-height"),e=c.offset();c.position();var f=a?a:c.height(),g=c.width(),h=$("#cs-sections .tab:last").position(),i=$("#cs-sections .tab:last").height(),j=$("#cs-sections").width();0!=j&&g>j&&c.css("width",j+"px"),c.css("top",h.top+i+20+"px"),0==$("#items-grid #tabledata").length&&(e=c.offset(),d=parseInt(d),d<e.top+f&&(d=e.top+f+20,$("#contents").css("min-height",d+"px")))}}},resizeWindow:function(){var a=$(".tab.selected","#cs-sections.tabs");a&&a.length&&a.click()}},gemini_ajax={getUrl:function(a,b){var c=csVars.Url+a+"/"+b;return c+=-1==c.indexOf("?")?"?card="+gemini_appnav.pageCard.Id:"&card="+gemini_appnav.pageCard.Id},call:function(a,b,c,d,e,f){var g=gemini_ajax.getUrl(a,b);return $.ajax({type:"GET",url:g,data:e,success:function(a){null!=c&&void 0!=c&&"function"==typeof c&&(null!=f&&void 0!=f?c.call(this,a,f):c.call(this,a)),ajaxXHR=null},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c),null!=d&&void 0!=d&&"function"==typeof d&&d.call(this),ajaxXHR=null}})},jsonCall:function(a,b,c,d,e,f){var g=csVars.Url+a+"/"+b;return g+=-1==g.indexOf("?")?"?card="+gemini_appnav.pageCard.Id:"&card="+gemini_appnav.pageCard.Id,gemini_ui.cursorWait(),$.ajax({type:"GET",url:g,data:e,dataType:"json",success:function(a){gemini_ui.cursorDefault(),null!=c&&void 0!=c&&"function"==typeof c&&(null!=f&&void 0!=f?c.call(this,a,f):c.call(this,a)),ajaxXHR=null},error:function(a,b,c){gemini_ui.cursorDefault(),gemini_diag.log("FAILED, Status="+a.status+" -> "+c),null!=d&&void 0!=d&&"function"==typeof d&&d.call(this),ajaxXHR=null}})},postCall:function(a,b,c,d,e,f){var g=csVars.Url+a+"/"+b;return g+=-1==g.indexOf("?")?"?card="+gemini_appnav.pageCard.Id:"&card="+gemini_appnav.pageCard.Id,$.ajax({type:"POST",url:g,data:e,success:function(a){null!=c&&void 0!=c&&"function"==typeof c&&(null!=f&&void 0!=f?c.call(this,a,f):c.call(this,a)),ajaxXHR=null},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c),null!=d&&void 0!=d&&"function"==typeof d&&d.call(this),ajaxXHR=null}})}},gemini_appnav={pageCard:"",stopRefresh:!1,previousCards:[],cardCount:0,cardOffScreenCount:0,cardHeight:56,pageSize:0,originalTop:0,init:function(){if(gemini_appnav.initCardActions(),gemini_appnav.refreshTimer(),$("#card-holder .card.selected").length&&!gemini_appnav.isOnScreen($("#card-holder .card.selected"))){gemini_appnav.stopRefresh=!0;var a=$("#card-holder .card.selected").offset().top,b=$(window).height();a=a-b+gemini_appnav.cardHeight+parseInt($("#card-scroller").css("height")),$("#card-holder-container","#zone-side-bar").css("top",gemini_appnav.originalTop-a+"px")}},isOnScreen:function(a){var b=a.offset().top+parseInt($(a).css("height"))+parseInt($("#card-scroller").css("height")),c=$(window).height();return b>c?!1:!0
},initCardActions:function(){var a=$(window).height()-30-42-42;gemini_appnav.cardCount=$(".card","#zone-side-bar").length,gemini_appnav.cardOffScreenCount=0,$(".card","#zone-side-bar").each(function(){var b=$(this).position().top+$(this).height();b>a&&(gemini_appnav.cardOffScreenCount+=1),$(this).hasClass("system")||gemini_appnav.click(this)}),gemini_appnav.pageSize=gemini_appnav.cardCount-gemini_appnav.cardOffScreenCount,$("#card-"+gemini_appnav.pageCard.Id).addClass("selected"),$("#pin-page").hasClass("pinned")?gemini_appnav.showPinnedPageActions():gemini_appnav.hidePinnedPageActions(),$("#pin-page").length||$("#card-holder-container").css("top","35px"),$(".cards","#card-holder").sortable({forcePlaceholderSize:!0,forceHelperSize:!0,placeholder:"drag-placeholder",connectWith:".card",items:".card:not(.system)",delay:-1==csVars.IEVersion||csVars.IEVersion>=9?250:0,helper:function(a,b){return $(b).addClass("hovered"),b},start:function(a,b){gemini_appnav.stopRefresh=!0,$(b.item).addClass("dragging")},stop:function(a,b){gemini_appnav.stopRefresh=!1,$(b.item).removeClass("dragging"),$(b.item).removeClass("hovered")},update:function(){var a="";$(".cards","#card-holder").children().each(function(){a+=$(this).data("card-id"),a+="|"}),$.ajax({type:"POST",url:csVars.Url+"cards/sort",data:{sequence:a},dataType:"json",success:function(){gemini_appnav.stopRefresh=!1},error:function(a,b,c){gemini_appnav.stopRefresh=!1,gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}})}}),gemini_appnav.originalTop=parseInt($("#card-holder-container","#zone-side-bar").css("top")),gemini_appnav.scroller()},refreshTimer:function(){var a=1e4;setInterval(gemini_appnav.refresh,a)},refresh:function(){return gemini_appnav.stopRefresh?void 0:(gemini_appnav.stopRefresh=!0,$("#card-holder-container .card .info").is(":visible")?(gemini_appnav.stopRefresh=!1,void 0):($.ajax({type:"GET",url:csVars.Url+"cards/fetch",success:function(a){if(void 0!=a.Result&&null!=a.Result&&void 0!=a.Result.Data&&null!=a.Result.Data){$("#card-holder").empty(),$("#card-holder").html(a.Result.Html),gemini_appnav.initCardActions();var b=_.pluck(a.Result.Data,"Id"),c=_.difference(b,gemini_appnav.previousCards);_.each(c,function(a){$("#card-"+a).css("visibility","hidden").css("left","30px").css("visibility","visible").animate({left:"0"},{easing:"easeOutBounce",duration:1500})}),gemini_appnav.previousCards=b,gemini_appnav.stopRefresh=!1}},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c),gemini_appnav.stopRefresh=!1}}),void 0))},click:function(a){$(".remove-card",$(a)).unbind("click").bind("click",function(a){a.preventDefault(),gemini_appnav.removeCard($(this).attr("card-id"))}),$(".show-card-options",$(a)).unbind("click").bind("click",function(b){b.preventDefault(),$("#cs-popup-center-content").css("width","800px"),$("#cs-popup-center-content").css("height","380px"),gemini_popup.centerPopup("cards/popup",$(a).attr("data-card-id"),null,null,null,null,null,null,function(){$('#colorbox #edit-appnav-card div[data-tab="appnav-changes"]').length>0&&$(a).attr("data-counter")>0?$('#colorbox #edit-appnav-card div[data-tab="appnav-changes"]').click():($("#colorbox #edit-appnav-card #tabs-left-content > div:first").click(),$("#edit-appnav-card #Key").focus()),setTimeout(function(){$("#colorbox #edit-appnav-card #tabs-content").focus().click()},200),0==$("#colorbox #cs-popup-center-buttons #delete-card").length&&gemini_commons.translateMessage("[[Delete]]",["Delete"],function(a){$("#colorbox #cs-popup-center-buttons").append('<div class="buttons left"><input id="delete-card" class="button-small button-primary margin-left-10" type="button" value="'+a+'"></input></div>')})})})},pinPage:function(){var a=csVars.Url,b=!1;$("#pin-page").hasClass("pinned")?(a+="cards/remove",b=!0):a+="cards/add";var c=JSON.stringify(gemini_appnav.pageCard);$.ajax({type:"POST",url:a,data:c,dataType:"json",success:function(a){$("#pin-page").toggleClass("pinned"),$("#card-holder").html(a.Result.Data),gemini_appnav.pageCard=a.Result.PageCard,b?(gemini_appnav.hidePinnedPageActions(),$("#header-bar-current-card-title").empty()):($("#card-"+gemini_appnav.pageCard.Id).effect("shake",{times:2,distance:3,direction:"up"},500),gemini_appnav.showPinnedPageActions(),11!=gemini_appnav.pageCard.CardType&&$("#header-bar-current-card-title").html("<a href='"+csVars.Url+gemini_appnav.pageCard.Url+"?card="+gemini_appnav.pageCard.Id+"'>"+gemini_appnav.pageCard.Title+"</a>")),gemini_appnav.initCardActions(),$(".show-card-options",$("#card-"+gemini_appnav.pageCard.Id)).click()},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}})},removeCard:function(a){$.ajax({type:"POST",url:csVars.Url+"cards/delete/"+a,data:JSON.stringify(gemini_appnav.pageCard),dataType:"json",success:function(a){$("#card-holder").html(a.Result.Data),gemini_appnav.initCardActions()},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}})},duplicate:function(a){if(null!=a){var b=csVars.Url+"cards/duplicate/";a=JSON.stringify(a),$.ajax({type:"POST",url:b,data:a,dataType:"json",success:function(a){$("#card-holder").html(a.Result.Data),gemini_appnav.initCardActions(),window.location.href=csVars.Url+a.Result.PageCard.Url+"?card="+a.Result.PageCard.Id},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}})}},update:function(a){null!=a&&(a=JSON.stringify(a),$.ajax({type:"POST",url:csVars.Url+"cards/update/",data:a,dataType:"json",success:function(a){gemini_popup.toast(a.Result.Message)},error:function(a,b,c){gemini_diag.log("FAILED, Status="+a.status+" -> "+c)}}))},showPinnedPageActions:function(){$("#repin-pin").show(),$("#save-pin").show(),$("#repin-pin").unbind("click").bind("click",function(){null!=gemini_appnav.pageCard&&gemini_appnav.duplicate(gemini_appnav.pageCard)}),$("#save-pin").unbind("click").bind("click",function(){null!=gemini_appnav.pageCard&&gemini_appnav.update(gemini_appnav.pageCard)}),$("#card-holder-container").css("top","98px"),gemini_appnav.originalTop=98},hidePinnedPageActions:function(){$("#repin-pin").hide(),$("#save-pin").hide(),$("#repin-pin").unbind("click"),$("#save-pin").unbind("click"),$("#card-holder-container").css("top","75px"),gemini_appnav.originalTop=75},popup:function(a){function b(a){a?($("#edit-appnav-card #send-items").attr("disabled","disabled").removeClass("button-secondary").addClass("button-secondary-disabled"),$("#edit-appnav-card #email-badges").attr("disabled","disabled").removeClass("button-primary").addClass("button-secondary-disabled"),$("#edit-appnav-card #clear-items").attr("disabled","disabled").removeClass("button-secondary").addClass("button-secondary-disabled"),$("#edit-appnav-card #follow-items").attr("disabled","disabled").removeClass("button-secondary").addClass("button-secondary-disabled")):($("#edit-appnav-card #send-items").removeAttr("disabled","disabled").removeClass("button-secondary-disabled").addClass("button-secondary"),$("#edit-appnav-card #email-badges").removeAttr("disabled","disabled").removeClass("button-secondary-disabled").addClass("button-primary"),$("#edit-appnav-card #clear-items").removeAttr("disabled","disabled").removeClass("button-secondary-disabled").addClass("button-secondary"),$("#edit-appnav-card #follow-items").removeAttr("disabled","disabled").removeClass("button-secondary-disabled").addClass("button-secondary"))}function c(a){gemini_popup.popupClose(a),$("#edit-appnav-card").remove(),$("#cs-popup-center-buttons #delete-card").parent().remove()}$("#cs-popup-center").css("display","block"),Modernizr.input.placeholder||($("#edit-appnav-card input[type=text]").each(function(){""!=$(this).attr("placeholder")&&($(this).addClass("search_box_placeholder"),""==$(this).val()&&$(this).val($(this).attr("placeholder")),$(this).focus(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val(""),$(this).removeClass("search_box_placeholder")}),$(this).blur(function(){""==$(this).val()&&($(this).val($(this).attr("placeholder")),$(this).addClass("search_box_placeholder"))}))}),$("#edit-appnav-card textarea").each(function(){""!=$(this).attr("placeholder")&&($(this).addClass("search_box_placeholder"),""==$(this).val()&&$(this).val($(this).attr("placeholder")),$(this).focus(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val(""),$(this).removeClass("search_box_placeholder")}),$(this).blur(function(){""==$(this).val()&&($(this).val($(this).attr("placeholder")),$(this).addClass("search_box_placeholder"))}))})),gemini_ui.chosen("#edit-appnav-card #InteractionGroupList",null,!0),gemini_ui.chosen("#edit-appnav-card #InteractionUserList",null,!0),gemini_ui.chosen("#edit-appnav-card #ReportsGroupList",null,!0),gemini_ui.chosen("#edit-appnav-card #ReportsUserList",null,!0),gemini_ui.chosen("#edit-appnav-card #ReportsExcelList",null,!0),gemini_ui.chosen("#edit-appnav-card #EmailToListGroups",null,!0),gemini_ui.chosen("#edit-appnav-card #EmailToListUsers",null,!0),gemini_ui.chosen("#edit-appnav-card #SubscriptionGroupsList",null,!0),gemini_ui.chosen("#edit-appnav-card #SubscriptionUsersList",null,!0),b(!0),$("#popup-button-yes").click(function(a){$("#edit-appnav-card #regular-form").valid()&&(gemini_ui.startBusy("#colorbox #popup-button-yes"),gemini_ajax.postCall("cards","updatecard",function(b){if(b.Success){gemini_popup.toast(b.Message);var d=$("#edit-appnav-card #id").val();$(".key",$("#card-"+d)).html($("#edit-appnav-card #Key").val()),$(".title",$("#card-"+d)).html($("#edit-appnav-card #Title").val()),$(".card-box",$("#card-"+d)).attr("title",$("#edit-appnav-card #appnav-comment").val()),c(a),gemini_appnav.refresh(),gemini_appnav.pageCard=b.Result.PageCard}gemini_ui.stopBusy("#colorbox #popup-button-yes")},function(){gemini_ui.stopBusy("#colorbox #popup-button-yes"),c(a)},$("#edit-appnav-card #regular-form").serialize()))}),$("#edit-appnav-card #send-report").click(function(){var a=$("#edit-appnav-card #ReportsExcelList").val();$("#edit-appnav-card #ReportsGroupList").val(),$("#edit-appnav-card #ReportsUserList").val(),$("#edit-appnav-card #ReportsExcelList").removeClass("error"),null!=a?(gemini_ui.startBusy2("#edit-appnav-card #send-report","#progress-indicator"),gemini_ajax.postCall("cards","sendreport",function(a){a.Success&&gemini_popup.toast("Report sent"),gemini_ui.stopBusy2("#edit-appnav-card #send-report")},function(){gemini_ui.stopBusy2("#edit-appnav-card #send-report"),gemini_popup.toast("Report not sent",!0)},$("#edit-appnav-card #regular-form").serialize())):null==a&&$("#edit-appnav-card #ReportsExcelList").addClass("error")}),$("#edit-appnav-card #send-items").click(function(){$("#edit-appnav-card .send-items-container").removeClass("hide"),$("#edit-appnav-card #jump-to-send-email").click()}),$("#edit-appnav-card #clear-items").click(function(){$("#edit-appnav-card .updates tbody input:checkbox:checked").length>0&&(gemini_ui.startBusy2("#edit-appnav-card #clear-items","#progress-indicator"),gemini_ajax.postCall("cards","clearitems",function(a){if(a.Success){var c=$("#edit-appnav-card .updates tbody input:checkbox:checked").length,d=$("#edit-appnav-card #appnav-changes-tab").attr("data-update-count"),e=d-c;if($("#edit-appnav-card #appnav-changes-tab").attr("data-update-count",e),$("#edit-appnav-card #appnav-changes-tab span").html("("+e+")"),$("#edit-appnav-card .updates tbody input:checkbox:checked").each(function(a,b){$("#tabledata #tr-issue-"+$(b).val()).removeClass("issue-highlight"),$(b).parents("tr:eq(0)").remove()}),0==e){var f=!1;$("#edit-appnav-card #toggle-checkbox").is(":checked")&&(f=!0),$("#edit-appnav-card #appnav-changes").empty(),f&&$("#colorbox #cs-popup-center-buttons #popup-button-no").click()}else $("#toggle-checkbox").iCheck("uncheck");b(!0),gemini_appnav.refresh()}gemini_ui.stopBusy2("#edit-appnav-card #clear-items")},function(){gemini_ui.stopBusy2("#edit-appnav-card #clear-items")},$("#edit-appnav-card #regular-form").serialize()))}),$("#cancel-email-badges").click(function(){$("#edit-appnav-card .send-items-container").addClass("hide")}),$("#edit-appnav-card #email-badges").click(function(){var a=$("#edit-appnav-card .updates tbody input:checkbox:checked").length,b=$("#edit-appnav-card #EmailToListGroups").val(),c=$("#edit-appnav-card #EmailToListUsers").val();$("#edit-appnav-card #EmailToListGroups").removeClass("error"),$("#edit-appnav-card #EmailToListUsers").removeClass("error"),$("#edit-appnav-card #email-subject").removeClass("error"),$("#edit-appnav-card #email-message").removeClass("error"),a>0&&(null!=b||null!=c)&&""!=$("#edit-appnav-card #email-subject").val()&&""!=$("#edit-appnav-card #email-message").val()?(gemini_ui.startBusy("#edit-appnav-card #email-badges"),gemini_ajax.postCall("cards","emailitems",function(a){a.Success?(gemini_popup.toast(a.Message),$("#edit-appnav-card .send-items-container").addClass("hide")):gemini_popup.toast(a.Message,!0),gemini_ui.stopBusy("#edit-appnav-card #email-badges")},function(){gemini_ui.stopBusy("#edit-appnav-card #email-badges")},$("#edit-appnav-card #regular-form").serialize())):(0==a&&gemini_popup.toast("Select items",!0),null==b&&null==c&&($("#edit-appnav-card #EmailToListGroups").addClass("error"),$("#edit-appnav-card #EmailToListUsers").addClass("error")),""==$("#edit-appnav-card #email-subject").val()&&$("#edit-appnav-card #email-subject").addClass("error"),""==$("#edit-appnav-card #email-message").val()&&$("#edit-appnav-card #email-message").addClass("error"))}),$("#edit-appnav-card #follow-items").click(function(){$("#edit-appnav-card .updates tbody input:checkbox:checked").length>0&&(gemini_ui.startBusy2("#edit-appnav-card #follow-items","#progress-indicator"),gemini_ajax.postCall("cards","followitems",function(a){a.Success?gemini_popup.toast(a.Message):gemini_popup.toast(a.Message,!0),gemini_ui.stopBusy2("#edit-appnav-card #follow-items")},function(){gemini_ui.stopBusy2("#edit-appnav-card #follow-items")},$("#edit-appnav-card #regular-form").serialize()))}),$("#edit-appnav-card #toggle-checkbox").bind("ifChanged",function(){$(this).is(":checked")?(gemini_ui.scrollTo("#edit-appnav-card #tabs-content","#edit-appnav-card #clear-items"),$("#edit-appnav-card .updates .item-checkboxes").iCheck("check"),b()):($("#edit-appnav-card .updates .item-checkboxes").iCheck("uncheck"),b(!0))}),$("#edit-appnav-card .item-checkboxes").bind("ifChanged",function(){$("#edit-appnav-card .updates tbody input:checkbox:checked").length>0||$(this).is(":checked")?b():b(!0)}),$("#edit-appnav-card #tabs-left div").click(function(){$("#edit-appnav-card #tabs-left div").attr("class","normal"),$(this).attr("class","selected"),$("#edit-appnav-card #tabs-content > div").hide(),$("#edit-appnav-card #tabs-content > #"+$(this).attr("data-tab")).show()}),$("#edit-appnav-card #schedule-appnav-emails").length>0&&$("#edit-appnav-card #schedule-appnav-emails").cron({initial:""==$("#email-interval").val()?"0 7 * * 1":$("#email-interval").val(),onChange:function(){$("#edit-appnav-card #email-interval").val($(this).cron("value"))}}),$("#popup-button-no").click(function(a){c(a)}),$(document).off("click","#colorbox #delete-card").on("click","#colorbox #delete-card",function(a){var b=$("#edit-appnav-card #id").val(),d=$("#edit-appnav-card #Title").val(),e=a;gemini_commons.translateMessage("[[Delete]] "+d+" ?",["Delete"],function(a){gemini_popup.modalConfirm(a,null,function(){$.ajax({type:"POST",url:csVars.Url+"cards/delete/"+b,data:"{}",dataType:"json",success:function(a){0!=gemini_appnav.pageCard.Id&&gemini_appnav.pageCard.Id==b&&($("#pin-page").toggleClass("pinned"),gemini_appnav.pageCard=a.Result.PageCard),gemini_appnav.refresh(),c(e)},error:function(a,b,d){gemini_diag.log("FAILED, Status="+a.status+" -> "+d),c(e)}})},function(a){c(a)},null)})}),$(".swatch-color","#appnav-description").click(function(){var a=$(this).css("background-color");$("#color-picker-color","#appnav-description").css("background-color",a),$("#Color","#appnav-description").val(a),$("#colorSelector","#appnav-description").ColorPickerSetColor(a)}),$("#colorSelector","#appnav-description").ColorPicker({onChange:function(a,b){$("#colorSelector div","#appnav-description").css("backgroundColor","#"+b),$("#ColorCode","#appnav-description").val("#"+b)},onSubmit:function(a,b,c,d){$(d).val(b),$(d).ColorPickerHide(),$("#Color","#appnav-description").val("#"+b),$("#Color","#appnav-description").change()},color:a})},scroller:function(){return 0==gemini_appnav.cardOffScreenCount?($("#card-scroller","#zone-side-bar").hide(),void 0):($("#card-scroller","#zone-side-bar").show(),$("#card-scroller-down","#card-scroller").off("click"),$("#card-scroller-up","#card-scroller").off("click"),$("#card-scroller-down","#card-scroller").on("click",function(){gemini_appnav.stopRefresh=!0;var a=$(".card:last-child","#zone-side-bar").offset().top+gemini_appnav.cardHeight;if(a>$("#card-scroller","#zone-side-bar").offset().top){var b=gemini_appnav.pageSize-3;0>=b&&(b=2);var c=parseInt($("#card-holder-container","#zone-side-bar").css("top"));c-=b*gemini_appnav.cardHeight,$("#card-holder-container","#zone-side-bar").css("top",c+"px")}}),$("#card-scroller-up","#card-scroller").on("click",function(){var a=gemini_appnav.pageSize-3;0>=a&&(a=2);var b=parseInt($("#card-holder-container","#zone-side-bar").css("top"));b+=a*gemini_appnav.cardHeight,b>=gemini_appnav.originalTop&&(b=gemini_appnav.originalTop,gemini_appnav.stopRefresh=!1),$("#card-holder-container","#zone-side-bar").css("top",b)}),void 0)},resizeWindow:function(){gemini_appnav.initCardActions()}},gemini_pdf={init:function(){$("#pdf-action").click(function(){var a=$(this).data("pdf");a.length>0&&window.open(a)})}},gemini_sizing={padProjectsMenu:function(){var a=-1,b=$(".cs-menu-dropdown .menu-project-code");b.each(function(){$(this).width()>a&&(a=$(this).width())}),b.each(function(){$(this).width(a+10)})},sameHeight:function(a){var b=Math.max.apply(Math,$(a).map(function(){return $(this).height()}).get());0!=b&&$(a).each(function(){$(this).height(b)})},sameWidth:function(a,b){var c=0;c=Math.max.apply(Math,$(a).map(function(){return $(this).width()}).get()),0!=c&&(null!=b&&b>0&&(c+=b),$(a).each(function(){$(this).width(c)}))},appResizer:function(){8!=csVars.IEVersion&&$(window).resize(function(){waitForFinalEvent(function(){gemini_sizing.stretchWindow()},500,"stretch-window"),waitForFinalEvent(function(){gemini_item.resizeWindow()},500,"item-resize"),waitForFinalEvent(function(){gemini_appnav.resizeWindow()},500,"appnav-resize")})},stretchWindow:function(){var a=$("header").height(),b=$("footer").height();$("#contents").css("min-height","0"),$("#contents").css("min-height",$(window).height()-b-a-10)},textWidth:function(a){var b=$(a).html(),c="<span>"+b+"</span>";$(a).html(c);var d=$(a).find("span:first").width();return $(a).html(b),d},availableHeight:function(){var a=$(window).height(),b=$("header").height(),c=$("footer").height(),d=b+c;return Math.floor(a-d-100)},windowResized:function(a,b){$(window).resize(function(){waitForFinalEvent(function(){a()},500,b)})}},testing={boxTag:"#items-filter",scopeTag:"#cs-template",initialize:function(){return gemini_ui.expanders(),testing.rowClicks(),testing.filterClicks(),gemini_ui.expandCollapse("#section-history"),!1},waitCursor:function(){$("#testing-box").css({cursor:"wait"})},normalCursor:function(){$("#testing-box").css({cursor:"default"})},post:function(a,b,c){testing.waitCursor();var d=csVars.ProjectUrl+"testing",e=planner.updateError;return gemini_ajax.postCall(d,a,b,e,c),!1},postDefault:function(a){testing.post("update",testing.filteringUpdate,a)},updateError:function(){return testing.normalCursor(),!1},filteringUpdate:function(a){testing.normalCursor();var b=$("#cs-sections",testing.scopeTag);return b.html(a),Gemini.Trigger(self.onTestEvent,{item:a,column:testing.scopeTag}),!1},saveData:function(){var a=new Object;return filters=$("ul.filter-attribute li.attribute",testing.boxTag),a.viewType=$(testing.boxTag).data("view"),a.filterList=[],filters.each(function(){var b=new Object;b.title=$(this).attr("id"),b.type=$(this).data("type"),b.list=[];var c=$(this).find("ul.filter-data li input");c.each(function(){item=$(this);var a,c=item.attr("type"),d=item.attr("id");if("checkbox"==c){var e=$("#"+item.attr("id")+":checked",$(this).parent()).length;a=0!=e}else a=item.text();b.list.push({id:d,selected:a})}),a.filterList.push(b)}),testing.postDefault({changes:JSON.stringify(a)}),!1},resetFilterBoxes:function(a){if("checkbox"==$(a).attr("type"))if(0!=$(a).parent().index()||$(a).hasClass("options-filter")){var b=$(a).parent().parent().find('input[type="checkbox"]:first');$(b).hasClass("options-filter")||$(b).attr("checked",!1)}else $(a).is(":checked")&&$(a).parent().parent().find('input[type="checkbox"]:not(:first)').attr("checked",!1)},dismissFilterPopop:function(a,b){var c="";$(a).find("input:checked").each(function(){c+=$(this).parent().find("label").attr("title"),c+=", "}),c.length>0?c=c.substring(0,c.lastIndexOf(",")):($(a).find("input[type=text]").each(function(){$(this).val().length&&(c+=$(this).val(),c+=", ")}),c.length>0&&(c=c.substring(0,c.lastIndexOf(",")))),0==c.length?(b.find(".label").attr("title",""),b.find(".label").html("&nbsp;")):(b.find(".label").attr("title",c),b.find(".label").html(c)),$(a).fadeOut("fast"),b.removeClass("selected")},executeFilter:function(){testing.saveData()},filterClicks:function(){$(".header, .label, .icon",testing.boxTag).disableSelection(),$(".filter-changer",testing.boxTag).on("change",function(){testing.resetFilterBoxes(this),testing.executeFilter()}),$(".header, .label, .icon",testing.boxTag).on("click",function(){if(!$(this).hasClass(".filter-data")){var a=$(this).parent(),b=a.find(".filter-data");$(b).is(":visible")?(gemini_filter.dismissFilterPopop(b,a),$(this).hasClass("filter-changer-text")&&testing.executeFilter()):($(".filter-data:visible").each(function(){testing.dismissFilterPopop(this,$(this).parent())}),$(b).jScrollPane({autoReinitialise:!0,autoReinitialiseDelay:250}),$(b).slideDown("fast"),a.addClass("selected")),a.find(".icon").toggleClass("fonticon-tick"),a.find(".icon").toggleClass("fonticon-arrow-down")}}),$(".filter-data").each(function(){testing.dismissFilterPopop(this,$(this).parent())})},rowClicks:function(){$("tbody td",testing.scopeTag).on("click",function(){var a=$(this).parent(),b=$(this).find("a");if(0==b.length){var c=a.find("td.cs-link a, td.cs-title-link a");return c.each(function(){var a=$(this).attr("href");return window.location=a,!1}),!1}})}},gemini_diag={log:function(a){}},gemini_ui={showPopOut:function(a){$(a).is(":visible")?$(a).fadeOut("fast"):($(a).slideDown("fast"),$(a+" :input:visible:enabled:first").focus(),$(document).keyup(function(b){27==b.keyCode&&$(a).fadeOut("fast")}))},cursorWait:function(){$("body").css("cursor","wait")},cursorDefault:function(){$("body").css("cursor","default")},visualProgressStart:function(a){$(a).css("opacity","0.6")},visualProgressFinish:function(a){$(a).css("opacity","1")},runSpinnerSmall:function(spinnerId,selector){var spinner=gemini_ui.getSpinnerSmall(spinnerId);$(selector).html(spinner.Markup),eval(spinner.JS)},getSpinner:function(a){return gemini_commons.isEmpty(a)&&(a=gemini_commons.guidGenerator()),{Markup:"<div id='spinner-"+a+"' style='margin-bottom:7px;height:30px;'>&nbsp;</div>",JS:"$('#spinner-"+a+"').spin(gemini_ui.spinnerOptions);"}},getSpinnerSmall:function(a){return gemini_commons.isEmpty(a)&&(a=gemini_commons.guidGenerator()),{Markup:"<div id='spinner-"+a+"' style='margin-bottom:4px;height:10px;width:20px;'>&nbsp;</div>",JS:"$('#spinner-"+a+"').spin(gemini_ui.spinnerOptionsSmall);"}},getSpinnerProgress:function(a){return gemini_commons.isEmpty(a)&&(a=gemini_commons.guidGenerator()),{Markup:"<div id='spinner-"+a+"' style='margin-bottom:4px;height:10px;width:20px;'>&nbsp;</div>",JS:"$('#spinner-"+a+"').spin(gemini_ui.spinnerProgressOptions);"}},getSpinnerProgress2:function(a){return gemini_commons.isEmpty(a)&&(a=gemini_commons.guidGenerator()),{Markup:"<div id='spinner-"+a+"' style='margin-bottom:4px;height:10px;width:20px;'>&nbsp;</div>",JS:"$('#spinner-"+a+"').spin(gemini_ui.spinnerProgress2Options);"}},spinnerOptions:{lines:6,length:0,width:7,radius:6,color:"#000",speed:1.3,trail:60,shadow:!1},spinnerOptionsSmall:{lines:6,length:0,width:4,radius:4,color:"#000",speed:1.3,trail:60,shadow:!1},spinnerProgressOptions:{lines:17,length:1,width:3,radius:7,corners:0,rotate:47,color:"#fff",speed:1.2,trail:53,shadow:!1},spinnerProgress2Options:{lines:10,length:1,width:3,radius:7,corners:0,rotate:47,color:"#000",speed:1.2,trail:10,shadow:!1},tinyCounter:function(a,b,c,d,e,f,g){var h=$(a),i=$("<canvas />").appendTo(h).css({position:"absolute",top:c+"px",left:b+"px"}).get(0);i.width=d,i.height=d;var j=d/2,k=i.getContext("2d");k.width=d,k.height=d,k.save(),k.fillStyle=e,k.beginPath(),k.rect(0,0,d,d),k.closePath(),k.fill();var l=""+g;k.fillStyle=f,k.beginPath(),k.font="8pt Calibri",k.textAlign="center",k.textBaseline="middle",k.fillText(l,j,j),k.closePath(),k.fill()},tinyPercent:function(a,b,c,d,e,f,g,h){var i=$(a).get(0),j=Raphael(i);j.customAttributes.arc=function(a,b,c,d,e){var f=this.paper.width>this.paper.height?this.paper.height:this.paper.width;f>e&&(f=e);var g=(f-b)/2,h=c+Math.floor(this.paper.width/2),i=d+Math.floor(this.paper.height/2)-g,j=3.6*a,k=(90-j)*Math.PI/180,l=g*Math.cos(k),m=g*Math.sin(k),n=[["M",h,i],["a",g,g,0,+(j>180),1,l-1e-4,g-m]];return{path:n}},f=f||0,g=g||0;var k=j.width>j.height?j.height:j.width;h=h||k,k>h&&(k=h);var l=.15*k,m=(k-l)/2,n={stroke:Raphael.color(c),"stroke-width":l},o=j.path().attr(n).attr({arc:[0,l,f,g,h]});o.animate({arc:[b,l,f,g,h]},e,">"),tx=j.width/2+f,ty=j.height/2+g;var p={font:""+(m-l)+"px Helvetica",opacity:.75};j.text(tx,ty,Math.floor(b)).attr(p).attr({fill:d})},datePicker:function(a,b,c){(null==c||void 0==c)&&(c=function(){return!0}),$(a).each(function(){var a=$(this).data("date-format");void 0==a&&(a="m/d/Y");var d=$(this).prop("value");void 0==d&&(d="");var e=this;$(e).DatePicker({format:a,setDate:new Date,date:d,current:d,starts:csVars.FirstDayOfWeek,flat:!1,position:"right",onBeforeShow:function(){var a=$(this).prop("value");void 0==a&&(a=""),$(e).DatePickerSetDate(a,!0),$(".datepicker").addClass("z-index-max")},onChange:function(a){$(e).val(a),$(e).DatePickerHide(),b&&b(a,e)},onHide:c})})},expanders:function(a){$(a).on("click","div.section-header > div:first-child > div:first-child",function(){gemini_ui.expandCollapse($(this))})},expandCollapse:function(){for(var a=arguments.length,b=0;a>b;b++){elem=$(arguments[b]).parent();var c=$("span.expander",elem);c.toggleClass("fonticon-arrow-right").toggleClass("fonticon-arrow-down");var d=$("> div.section-content",elem.parent());d.toggleClass("expanded").toggleClass("collapsed"),gemini_item.setContentHeight()}return!1},expand:function(){for(var a=arguments.length,b=0;a>b;b++){elem=$(arguments[b]).parent();var c=$("span.expander",elem);c.removeClass("fonticon-arrow-right").addClass("fonticon-arrow-down");var d=$("> div.section-content",elem.parent());d.removeClass("collapsed").addClass("expanded"),gemini_item.setContentHeight()}return!1},collapse:function(){for(var a=arguments.length,b=0;a>b;b++){elem=$(arguments[b]).parent();var c=$("span.expander",elem);c.removeClass("fonticon-arrow-down").addClass("fonticon-arrow-right");var d=$("> div.section-content",elem.parent());d.removeClass("expanded").addClass("collapsed")}return!1},collapseStarting:function(){for(var a=arguments.length,b=0;a>b;b++)matching=$('[id^="'+arguments[b]+'"]'),matching.each(function(){var a=$(this).parent(),b=$("span.expander",a);b.removeClass("fonticon-arrow-down").addClass("fonticon-arrow-right");var c=$("> div.section-content",a.parent());c.removeClass("expanded").addClass("collapsed")});return!1},htmlEditor:function(a,b,c,d){tinymce.init({selector:a,relative_urls:!1,browser_spellcheck:!0,gecko_spellcheck:!0,height:300,width:600,oninit:b,theme:"modern",skin:"lightgray",statusbar:!1,paste_data_images:!0,plugins:["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table directionality","emoticons template paste textcolor"],content_css:csVars.AssetsPath+"scripts/tiny_mce/skins/lightgray/content.min.css",content_style:"",menu:{file:{},edit:{},insert:{},view:{},format:{},table:{},tools:{}},toolbar_items_size:"small",toolbar1:"bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | forecolor backcolor | link image table styleselect",setup:function(a){d&&a.on("init",function(){a.focus()}),a.on("change",function(){a.save(),setTimeout(function(){a.save()},250),c&&c()}),a.on("blur",function(){a.save(),setTimeout(function(){a.save()},250),c&&c()})}})},htmlEditorCommand:function(a,b,c,d){try{d?tinyMCE.get(d).execCommand(a,b,c):tinymce.execCommand(a,b,c)}catch(e){}},destroyHtmlEditor:function(a){$(a).each(function(){tinymce.remove(a)})},fancyInputs:function(a,b){b||(b=""),$(a).iCheck({checkboxClass:"icheckbox_minimal "+b,radioClass:"iradio_minimal "+b,increaseArea:"20%"})},chosen:function(a,b,c){(null==c||void 0==c)&&(c=!1),$(a).chosen({stay_open:!0,topmost_container:b,fix_popup:c})},ajaxChosen:function(a,b,c,d,e){(null==c||void 0==c)&&(c=!1),(null==d||void 0==d||0==d.length)&&(d="project/ALL/{projectid}"),method="GET",null!=e&&(method="POST"),$(a).each(function(){$(this).ajaxChosen({type:method,data:e,url:csVars.Url+d+"/editcfac",dataType:"json",minTermLength:1},function(a){var b=[];return $.each(a.Result.Data,function(a,c){b.push({value:c.ItemId,text:c.ItemText})}),b},{stay_open:!0,topmost_container:b,fix_popup:c})})},setDropdownValue:function(a,b){$(a).val(b).trigger("liszt:updated")},destroyJScrollPane:function(a){var b=$(a).data("jsp");void 0!=b&&b.destroy()},getTableTHForTD:function(a){var b=$(a);return b.closest("table").find("th").eq(b.index())},triggerChecked:function(a,b,c){$(a).click(function(){$(a).is(":checked")?b.length&&$(b).removeAttr("disabled"):c.length&&$(c).attr("disabled","disabled")})},disableButton:function(a){$(a).attr("disabled","disabled"),$(a).attr("disabled",!0),$(a).addClass("button-disabled").removeClass("button-primary")},enableButton:function(a){$(a).removeAttr("disabled"),$(a).attr("disabled",!1),$(a).addClass("button-primary").removeClass("button-disabled")},togglePageOverlay:function(a){$(a).toggleClass("page-overlay")},flashContent:function(a){$(a).removeClass("cs-flash-remove"),$(a).addClass("cs-flash"),setTimeout(function(){$(a).removeClass("cs-flash"),$(a).addClass("cs-flash-remove")},3e3)},toggleCheckbox:function(a,b,c,d){$(a).bind("ifChanged",function(){$(this).is(":checked")?$(b).each(function(){$(this).iCheck("check"),c&&c(this)}):$(b).each(function(){$(this).iCheck("uncheck"),d&&d(this)})})},inlineEdit:function(a,b,c,d){$(a).editable(csVars.Url+c,{placeholder:"",dateFormat:function(a){var b=gemini_ui.getTableTHForTD(a);return $(b).attr("data-date-format")},detectType:function(a){var b=gemini_ui.getTableTHForTD(a);return $(b).data("edit-type")},validationRequired:function(a){var b=gemini_ui.getTableTHForTD(a);return $(b).data("required")},validationEmail:function(a){var b=gemini_ui.getTableTHForTD(a);return $(b).data("email")},loadurl:csVars.Url+b,loaddata:function(){var a=gemini_ui.getTableTHForTD(this),b=$(a).data("field");return{id:$(this).parent().data("id"),property:b}},submitdata:function(){var a=gemini_ui.getTableTHForTD(this),b=$(a).data("field");return{id:$(this).parent().data("id"),property:b}},cssclass:d,height:"14px"})},startBusy:function(buttonSelector){$(buttonSelector).attr("disabled","disabled");var spinner=gemini_ui.getSpinnerProgress();$("#progress-indicator").html(spinner.Markup);var buttonWidth=$(buttonSelector).outerWidth();$(buttonSelector).attr("data-progress",$(buttonSelector).val()),$(buttonSelector).css("width",buttonWidth).val(" "),$("#progress-indicator").css("width",buttonWidth).css("z-index",2147483640),$("#progress-indicator > div").css("margin","0 auto"),$("#progress-indicator").removeClass("hide"),$("#progress-indicator").position({of:$(buttonSelector),my:"center center",at:"center center",offset:"0 0",collision:"none"}),eval(spinner.JS)
},stopBusy:function(a){$("#progress-indicator").addClass("hide"),$("#progress-indicator").css("top",-200).css("left",-200),$(a).val($(a).attr("data-progress")),$(a).removeAttr("disabled")},startBusy2:function(buttonSelector,progressContainer){$(buttonSelector).attr("disabled","disabled");var spinner=gemini_ui.getSpinnerProgress2();$(progressContainer).html(spinner.Markup);var buttonWidth=$(buttonSelector).outerWidth();$(buttonSelector).attr("data-progress",$(buttonSelector).val()),$(buttonSelector).css("width",buttonWidth).val(" "),$("#progress-indicator").css("width",buttonWidth).css("z-index",2147483640),$("#progress-indicator > div").css("margin","0 auto"),$("#progress-indicator").removeClass("hide"),$("#progress-indicator").position({of:$(buttonSelector),my:"center center",at:"center center",offset:"0 0",collision:"none"}),eval(spinner.JS)},stopBusy2:function(a){$("#progress-indicator").addClass("hide"),$("#progress-indicator").css("top",-200).css("left",-200),$(a).val($(a).attr("data-progress")),$(a).removeAttr("disabled")},userAutocomplete:function(a){$(a).autocomplete({source:function(a,b){$.ajax({url:csVars.Url+csVars.ProjectUrl+"account/getusersdropdown",dataType:"json",data:{term:a.term,returnValue:"FullnameRUsername"},success:function(a){for(var c=new Array,d=0;d<a.Result.Data.length;d++)c[c.length]={label:a.Result.Data[d].label,value:a.Result.Data[d].value};b(c)}})},minLength:2,width:200,dataType:"json",matchContains:"word",autoFill:!1,select:function(a,b){return $(this).val(b.item.value),!1},focus:function(a,b){this.value=b.item.label,a.preventDefault()}})},scrollTo:function(a,b){$(a).scrollTo($(b),1e3)}},gemini_projects={initAllProjects:function(){$(".projects-list").disableSelection(),$(".projects-dropdown-toggle").click(function(){var a=$(this).find(".projects-dropdown-box"),b=$(this).find(".toggle-image");$(a).is(":visible")?($(a).fadeOut("fast"),$(b).addClass("fonticon-arrow-right"),$(b).removeClass("fonticon-arrow-down")):($(".toggle-image").each(function(){$(this).removeClass("fonticon-arrow-down"),$(this).addClass("fonticon-arrow-right")}),$(b).removeClass("fonticon-arrow-right"),$(b).addClass("fonticon-arrow-down"),$(".projects-dropdown-box").hide(),$(a).show(),$(a).position({of:this,my:"left top",at:"left bottom",offset:"0 -2",collision:"none"}),$(a).jScrollPane({autoReinitialise:!0,autoReinitialiseDelay:250}))})},initSettings:function(a){$(".tab","#project-administration").unbind("click").click(function(b){gemini_commons.stopClick(b),$(".tab","#project-administration").each(function(){$(this).addClass("normal"),$(this).removeClass("selected")}),$(this).addClass("selected"),"components"==$(this).attr("data-tab")?gemini_projects.settingsComponents(a):"versions"==$(this).attr("data-tab")?gemini_projects.settingsVersions(a):"defaults"==$(this).attr("data-tab")?gemini_projects.settingsDefaults(a,0):"cflookup"==$(this).attr("data-tab")&&gemini_projects.settingsCFLookup(a,0)}),$(".tab","#project-administration").first().click()},settingsComponents:function(a){gemini_ajax.jsonCall("project/"+a+"/settings","components",function(a){$("#setting-zone","#project-administration").html(a.Result.Html),gemini_sizing.stretchWindow()})},settingsVersions:function(a){gemini_ajax.jsonCall("project/"+a+"/settings","versions",function(a){$("#setting-zone","#project-administration").html(a.Result.Html),gemini_sizing.stretchWindow()})},settingsDefaults:function(a,b){gemini_ajax.jsonCall("project/"+a+"/settings","defaults",function(a){$("#setting-zone","#project-administration").html(a.Result.Html),gemini_ui.fancyInputs("#defaults-form .fancy"),gemini_sizing.stretchWindow()},null,{typeId:b})},settingsCFLookup:function(a,b){gemini_ajax.jsonCall("project/"+a+"/settings","cflookup",function(a){$("#setting-zone","#project-administration").html(a.Result.Html)},null,{id:b,projectId:a})}},gemini_activity={callback:[],initTimeline:function(){$("#timeline-datepicker").DatePicker({flat:!1,calendars:2,starts:1,mode:"range",format:"d B",date:[new Date($("#timeline-from-date").val()),new Date($("#timeline-to-date").val())],onBeforeShow:function(){},onChange:function(a,b){$("#timeline-datepicker").text(a.join(" - ")),$("#timeline-from-date").val(moment(b[0]).format("DD MMM YYYY")),$("#timeline-to-date").val(moment(b[1]).format("DD MMM YYYY"))},onHide:function(){$("#timeline-options").submit()}}),gemini_activity.sizeTimelanes(),$(window).resize(function(){waitForFinalEvent(function(){gemini_activity.sizeTimelanes()},500,"timelane-resize")})},sizeTimelanes:function(){$(".timelane").height($("#page-content-zone").height()-200),$(".timelane").jScrollPane({})},loadCalendarItems:function(a,b){var c=[];null!=a.Result.SavedCard&&(gemini_appnav.pageCard.Options=a.Result.SavedCard.Options),$(a.Result.Events).each(function(){c.push({title:this.Title,start:this.Start,end:this.End,url:this.Url,color:this.Color,id:this.Id,editable:this.Editable,allDay:this.AllDay,className:this.ClassName,backgroundColor:this.BackgroundColor,borderColor:this.BorderColor,textColor:this.TextColor,resizable:this.Resizable,draggable:this.Draggable,refId:this.RefId,description:this.Description,colorText:this.ColorText})}),b(c)},initCalendar:function(){null!=gemini_appnav.pageCard&&0!=gemini_appnav.pageCard.Id;var a=jQuery.parseJSON(gemini_commons.htmlDecode(gemini_appnav.pageCard.Options));gemini_ui.fancyInputs("#calendar-control-box .fancy","background-color-white"),$("#widget-calendar").fullCalendar({editable:!0,year:a.Year,month:a.Month-1,date:a.Day-1,defaultView:a.CurrentView,header:{left:"",center:"",right:""},firstDay:1,timeFormat:"H:mm",aspectRatio:2,eventDrop:function(a,b,c,d,e){var f={id:a.id,daysOffset:b,minutesOffset:c};gemini_ajax.call(csVars.ProjectUrl+"calendar","dropSave",function(a){a.Success||e()},e,f)},eventResize:function(a,b,c,d){var e={id:a.id,daysOffset:b,minutesOffset:c};gemini_ajax.call(csVars.ProjectUrl+"calendar","resizeSave",function(a){a.Success||d()},d,e)},eventRender:function(a,b){b.find("div.fc-event-inner").wrapInner('<div class="event-content" title="'+a.colorText+'" />'),b.find("div.fc-event-inner div.event-content").append('&nbsp;<span class="CalendarItemTitle">'+a.description+"</span>")},viewDisplay:function(a){$("#calendar-title").html("<h2>"+a.title+"</h2>")}}),$("#calendar-control-box #calendar-month").bind("click",function(){gemini_activity.changeView("month")}),$("#calendar-control-box #calendar-basicweek").bind("click",function(){gemini_activity.changeView("basicWeek")}),$("#calendar-control-box #calendar-agendaweek").bind("click",function(){gemini_activity.changeView("agendaWeek")}),$("#calendar-control-box #calendar-basicday").bind("click",function(){gemini_activity.changeView("basicDay")}),$("#calendar-control-box #calendar-prev").bind("click",function(a){a.preventDefault(),$("#widget-calendar").fullCalendar("prev")}),$("#calendar-control-box #calendar-next").bind("click",function(a){a.preventDefault(),$("#widget-calendar").fullCalendar("next")}),$("#calendar-control-box #IncStartDate").bind("ifClicked",function(){gemini_activity.amendSource($(this).is(":checked")?!1:!0,0)}),$("#calendar-control-box #IncDueDate").bind("ifClicked",function(){gemini_activity.amendSource($(this).is(":checked")?!1:!0,1)}),$("#calendar-control-box #IncGantt").bind("ifClicked",function(){gemini_activity.amendSource($(this).is(":checked")?!1:!0,2)}),$("#calendar-control-box #ColorBySelected").change(function(){$("#widget-calendar").fullCalendar("refetchEvents")}),$("#ColorBySelected").val(a.ColorMode),a.ShowStart&&gemini_activity.amendSource(!0,0),a.ShowDue&&gemini_activity.amendSource(!0,1),a.ShowDuration&&gemini_activity.amendSource(!0,2),gemini_activity.changeView(a.CurrentView),$(".control-icon","#calendar-control-box").click(function(){var a=$(this),b=a.find("+ .options");b.is(":visible")?b.hide():(a.parent().parent().find(".options").each(function(){$(this).is(":visible")&&$(this).hide()}),b.show()),b.position({of:a,my:"right top",at:"right bottom",offset:"0 0",collision:"none"})})},changeView:function(a){var b=$("#widget-calendar").fullCalendar("getView").name.toLowerCase();$("#widget-calendar").fullCalendar("changeView",a),$("#calendar-"+b).removeClass(b+"-selected").addClass(b),$("#calendar-"+a.toLowerCase()).addClass(a.toLowerCase()+"-selected")},amendSource:function(a,b){switch(b){case 0:$("#IncGantt").iCheck("uncheck"),$("#IncStartDate").iCheck("check"),$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[2]);break;case 1:$("#IncGantt").iCheck("uncheck"),$("#IncDueDate").iCheck("check"),$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[2]);break;case 2:$("#IncStartDate").iCheck("uncheck"),$("#IncDueDate").iCheck("uncheck"),$("#IncGantt").iCheck("check"),$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[0]),$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[1])}a?$("#widget-calendar").fullCalendar("addEventSource",gemini_activity.calendarSources[b]):$("#widget-calendar").fullCalendar("removeEventSource",gemini_activity.calendarSources[b])},calendarSources:[function(a,b,c){gemini_ajax.postCall(csVars.ProjectUrl+"calendar","StartDate",gemini_activity.loadCalendarItems,null,{start:Math.round(a.getTime()/1e3),end:Math.round(b.getTime()/1e3),options:gemini_activity.getOptions()},c)},function(a,b,c){gemini_ajax.postCall(csVars.ProjectUrl+"calendar","DueDate",gemini_activity.loadCalendarItems,null,{start:Math.round(a.getTime()/1e3),end:Math.round(b.getTime()/1e3),options:gemini_activity.getOptions()},c)},function(a,b,c){gemini_ajax.postCall(csVars.ProjectUrl+"calendar","Gantt",gemini_activity.loadCalendarItems,null,{start:Math.round(a.getTime()/1e3),end:Math.round(b.getTime()/1e3),options:gemini_activity.getOptions()},c)}],getOptions:function(){var a=$("#widget-calendar").fullCalendar("getDate"),b={Year:a.getFullYear(),Month:a.getMonth()+1,Day:a.getDate()+1,CurrentView:$("#widget-calendar").fullCalendar("getView").name,ShowStart:$("#IncStartDate").is(":checked"),ShowDue:$("#IncDueDate").is(":checked"),ShowDuration:$("#IncGantt").is(":checked"),ColorMode:$("#ColorBySelected").val()};return JSON.stringify(b)}},gemini_popup={buttonModalResized:!1,init:function(){$(document).bind("cbox_complete",function(){$("#cboxLoadedContent .button-modal").hasClass("button-resized")||(gemini_sizing.sameWidth("#cboxLoadedContent .button-modal",33),$("#cboxLoadedContent .button-modal").addClass("button-resized"))})},sameConfirmWidth:function(){gemini_popup.buttonModalResized2||(gemini_sizing.sameWidth(".button-modal",33),gemini_popup.buttonModalResized2=!0)},close:function(a){gemini_commons.stopClick(a),$.colorbox.close(),$("#modal-button-yes","#modal-confirm").unbind("click"),$("#modal-button-no","#modal-confirm").unbind("click"),gemini_keyboard.unbindEscape("#colorbox #modal-button-no"),gemini_keyboard.unbindNo("#colorbox #modal-button-no"),gemini_keyboard.unbindYes("#colorbox #modal-button-yes")},modalTranslatedConfirm:function(a,b,c,d,e){$.ajax({type:"POST",url:csVars.Url+"resources/get",data:{keys:JSON.stringify(e)},success:function(e){$(e.Result.Data).each(function(b,c){a=a.replace("[["+c.Key+"]]",c.Value)}),gemini_popup.modalConfirm(a,b,c,d)}})},modalConfirm:function(a,b,c,d){var e="{}";null!=b&&(e=b),$(".message","#modal-confirm").html(a),$("#modal-button-yes","#modal-confirm").click(function(a){gemini_popup.close(a),c&&c()}),$("#modal-button-no","#modal-confirm").click(function(a){gemini_popup.close(a),d&&d()});var f=$.extend({},{inline:!0,href:"#modal-confirm",overlayClose:!1,escKey:!1,initialWidth:"400px",width:"400px",initialHeight:"150px",height:"150px"},e);$.colorbox(f),gemini_keyboard.bindEscape("#colorbox #modal-button-no"),gemini_keyboard.bindNo("#colorbox #modal-button-no"),gemini_keyboard.bindYes("#colorbox #modal-button-yes")},centerPendingChanges:!1,centerPopup:function(a,b,c,d,e,f,g,h,i){e||(e="Save"),f||(f="Cancel"),$("#popup-button-yes","#cs-popup-center").show(),$("#popup-button-no","#cs-popup-center").show(),$("#popup-button-yes","#cs-popup-center").unbind(),$("#popup-button-no","#cs-popup-center").unbind(),$("#popup-button-yes","#cs-popup-center").attr("value",e),$("#popup-button-no","#cs-popup-center").attr("value",f),g&&$("#popup-button-yes","#cs-popup-center").hide(),h&&$("#popup-button-no","#cs-popup-center").hide(),gemini_ajax.call(a,b,function(a){a.Success&&(gemini_popup.showCenterPopup(a),null!=i&&void 0!=i&&i(a))},null,c,d)},showCenterPopup:function(a){if(a.success){$("#cs-popup-center").css("display","inline-block");var b=$("#cs-popup-center-content");void 0==a.Result?b.html(a):b.html(a.Result.Html),$("#cs-popup-center-buttons").css("top","auto");var c=$("#cs-popup-center-content").height()+$("#cs-popup-center-buttons").height()+50,d=$("#cs-popup-center-content").width()+20;$("#cs-popup-center-buttons").css("top",$("#cs-popup-center-buttons").position().top+"px"),$("#cs-popup-center").css("display","block");var e={inline:!0,href:"#cs-popup-center",transition:"none",width:Math.max(d,300)+"px",height:Math.max(c,80)+"px",overlayClose:!1,escKey:!1,opacity:"0.8"};$.colorbox(e),$("#cs-popup-center-content input[type='text']:first").focus(),$("#cs-popup-center-content input[type='text']:first").click(),gemini_keyboard.bindEscape("#colorbox #popup-button-no")}},popupCallback:function(a,b){$("#popup-button-yes","#cs-popup-center").click(function(a){gemini_popup.centerSave(a,b)}),$("#popup-button-no","#cs-popup-center").click(function(a){b&&b.noCallback&&b.noCallback(),a.preventDefault(),gemini_popup.popupClose(a,b)})},centerSave:function(a,b){b&&b.yesCallback&&b.yesCallback(),a.preventDefault(),gemini_popup.centerPendingChanges=!1},popupClose:function(a){a&&gemini_commons.stopClick(a),$.colorbox.close(),gemini_popup.centerPendingChanges=!1,gemini_keyboard.unbindEscape("#colorbox #popup-button-no"),$("#popup-button-yes","#cs-popup-center").unbind(),$("#popup-button-no","#cs-popup-center").unbind(),$("#cs-popup-center").css("display","none")},toast:function(a,b){$(".toast").is(":visible")||($(".toast").css({top:$(window).scrollTop()+50,"z-index":1e4}),null!=b&&void 0!=b&&1==b&&($(".toast").addClass("error"),$(".fonticon-tick",".toast").addClass("fonticon-cross").removeClass("fonticon-tick")),$(".toast-message").html(a),$(".toast").fadeIn("fast"),$("body").off("click",".toast"),$("body").on("click",".toast",function(){$(this).hide()}),setTimeout(function(){$(".toast").fadeOut("slow",function(){null!=b&&void 0!=b&&1==b&&($(".toast").removeClass("error"),$(".fonticon-cross",".toast").addClass("fonticon-tick").removeClass("fonticon-cross"))})},2500))}},gemini_add={pendingChanges:!1,editingMode:!1,newItemRenderedCallbackOrig:null,newItemRenderedCallback:null,newItemCreatedCallback:null,newItemBeforeRenderedCallback:null,hidePlan:!1,hideProject:!1,addUrl:!1,init:function(){gemini_add.addUrl=csVars.ProjectUrl,gemini_keyboard.initKeyboard(),$("#plus-header").click(function(){$(".fonticon-plus",$(this)).length>0&&($("#cs-popup-add").is(":visible")?($(".fonticon-plus",$(this)).removeClass("selected"),gemini_add.hide()):($(".fonticon-plus",$(this)).addClass("selected"),gemini_keyboard.bindEscape("#cs-popup-add #cs-popup-add-close"),gemini_add.hidePlan?($('span[data-tab-id="quick-items"]',"#cs-popup-add").hide(),gemini_add.hidePlan=!1):$('span[data-tab-id="quick-items"]',"#cs-popup-add").show(),gemini_add.hideProject?($('span[data-tab-id="new-project"]',"#cs-popup-add").hide(),gemini_add.hideProject=!1):$('span[data-tab-id="new-project"]',"#cs-popup-add").show(),gemini_add.show()))})},triggerChange:function(a){null!=gemini_edit.triggerXHR&&gemini_edit.triggerXHR.abort();var b=$(a).data("trigger");if("*"!=b){var c="|"+$(a).val()+"|";if(-1==b.indexOf(c))return}gemini_ui.destroyHtmlEditor(".wysiwyg-editor"),gemini_add.newItemRenderedCallback=gemini_add.newItemRenderedCallbackOrig,gemini_edit.triggerXHR=gemini_ajax.postCall(gemini_add.addUrl+"edit",gemini_commons.PAGE_TYPE.Item,gemini_add.populateAddItem,null,$("#inline-edit-form").serialize(),$('[data-attribute-id="'+$(a).attr("id")+'"]').parent().parent())},triggerCustomfieldChange:function(a){var b=$(a).data("customfield-trigger");if(""!=b){var c=$(a).attr("id").replace("cf_",""),d="";$(a).find("option:selected").each(function(){d+=$(this).val()+"|"}),d.length>0&&(d=d.slice(0,-1)),gemini_ajax.postCall("project","cascadeddata",gemini_add.cascadeUpdate,null,{fieldid:c,value:d,projectid:$("#ProjectName","#cs-popup-add").find("option:selected").val(),issueid:$("#id","#cs-popup-add").val()})}},cascadeUpdate:function(a){for(var b=a.Result.Data,c=0;c<b.length;c++){var d=b[c],e="";$("#"+d.Key,"#cs-popup-add").find("option:selected").each(function(){e+="|"+$(this).val()+"|"}),$("#"+d.Key,"#cs-popup-add").empty();for(var f=0;f<d.Value.length;f++){var g="";(d.Value[f].Selected||e.indexOf("|"+d.Value[f].Value+"|")>=0)&&(g=" selected='selected' "),$("#"+d.Key,"#cs-popup-add").append("<option "+g+"value='"+d.Value[f].Value+"'>"+d.Value[f].Text+"</option>")}$("#"+d.Key,"#cs-popup-add").trigger("liszt:updated"),$("#"+d.Key,"#cs-popup-add").change()}},populateAddItem:function(a){if(null==a.success||null!=a.success&&a.success){$("#full-item").html(a),$("#cs-popup-add-content").data("jsp").reinitialise({contentWidth:"700px"}),$(".checked-select","#cs-popup-add-content").jScrollPane({}),gemini_ui.datePicker("#cs-popup-add-content .datepicker"),$("select:not(.no-chosen)","#cs-popup-add-content").chosen({stay_open:!0,topmost_container:"#cs-popup-add-content .jspPane:first",fix_popup:!1}),gemini_ui.ajaxChosen("#cs-popup-add-content select.no-chosen.auto-complete-chosen","#cs-popup-add-content .jspPane:first",!1),$("input","#full-item").change(gemini_add.setPendingChanges),$("input[type=text]","#full-item").keyup(gemini_add.setPendingChanges),$("select","#full-item").change(gemini_add.setPendingChanges),$("#cs-popup-add-content").find("*[data-trigger]").change(function(){gemini_add.triggerChange(this)}),$("#cs-popup-add-content").find("*[data-customfield-trigger]").change(function(){gemini_add.triggerCustomfieldChange(this)}),$("#cs-popup-add-content").find("*[data-customfield-trigger]").each(function(){"P"==$(this).data("customfield-trigger")&&gemini_add.triggerCustomfieldChange(this)}),$(".chzn-results","#cs-popup-add-content").jScrollPane({}),gemini_ui.htmlEditor(".wysiwyg-editor",null,gemini_add.setPendingChanges),gemini_ui.userAutocomplete("#cs-popup-add-content .user-autocomplete"),$("#full-item #inline-edit-form tr").each(function(){$(this).find("textarea").length>0&&$("td:eq(0)",$(this)).css("vertical-align","top")});var b={dataType:"json",success:function(a){a.success&&gemini_add.postIssueCreate(a),gemini_ui.stopBusy("#cs-popup-add #cs-popup-add-save")},error:function(){gemini_ui.stopBusy("#cs-popup-add #cs-popup-add-save"),gemini_popup.toast("Item could not be created",!0)}};$("#inline-edit-form","#cs-popup-add").ajaxForm(b),gemini_add.newItemRenderedCallback&&(gemini_add.newItemRenderedCallback(),gemini_add.newItemRenderedCallbackOrig=gemini_add.newItemRenderedCallback,gemini_add.newItemRenderedCallback=null),$("#inline-edit-form input[type='text']:first").focus(),gemini_ui.fancyInputs("#inline-edit-form .fancy")}},show:function(){var a=gemini_add.addUrl;gemini_add.newItemBeforeRenderedCallback&&(gemini_add.newItemBeforeRenderedCallback(),gemini_add.newItemBeforeRenderedCallback=null),gemini_ajax.postCall(gemini_add.addUrl+"edit",gemini_commons.PAGE_TYPE.Item,gemini_add.populateAddItem),gemini_add.addUrl=a,gemini_add.showContent()},showContent:function(){window.onbeforeunload=gemini_add.warn,$("#cs-popup-add-content").html('<div id="cs-template"><div id="quick-items" class="nestedSortable tab-content hide"></div><div id="full-item" class="tab-content"></div><div id="new-project" class="tab-content hide"></div></div>'),$("#cs-popup-add").show(),$("#cs-popup-add-zone").show();var a=gemini_sizing.availableHeight();$("#cs-popup-add").css("height",a+40),$("#cs-popup-add").css("width","820px");var b=a+40-$("#cs-popup-add-buttons").height()-60;$("#cs-popup-add").css("display","block");var c={inline:!0,href:"#cs-popup-add",transition:"none",width:"820px",height:a+40,overlayClose:!1,escKey:!1,opacity:"0.8",onComplete:function(){$("#cs-popup-add-content").jScrollPane({contentWidth:"700px"}),$(".jspContainer","#cs-popup-add-content").css("height",b)}};$.colorbox(c),$("#cs-popup-add .tabs span.tab").removeClass("selected").addClass("normal"),$("#cs-popup-add .tabs span.tab:eq(0)").removeClass("normal").addClass("selected"),$("input","#cs-popup-add").change(gemini_add.setPendingChanges),$("input[type=text]","#cs-popup-add").keyup(gemini_add.setPendingChanges),$("select","#cs-popup-add").change(gemini_add.setPendingChanges),$("#cs-popup-add-save").unbind("click"),$("#cs-popup-add-close").unbind("click"),$("#cs-popup-add-save").click(gemini_add.save),$("#cs-popup-add-close").click(gemini_add.hide),$(".tab","#cs-popup-add").disableSelection(),$(".tab","#cs-popup-add").click(function(){$(".tab","#cs-popup-add").addClass("normal").removeClass("selected"),$(this).removeClass("normal").addClass("selected"),$(".tab-content","#cs-popup-add-content").hide(),$("#"+$(this).data("tab-id")).show(),$("#cs-popup-add-content").data("jsp").reinitialise({contentWidth:"700px"}),"new-project"==$(this).attr("data-tab-id")&&gemini_ajax.postCall(gemini_add.addUrl,"wizard",function(a){$("#new-project").html(a)}),$("#quick-items input[type='text']:first").focus()}),$("#quick-items").liManipulator({debug:!1,events:{onAddText:gemini_add.setPendingChanges}}),$("#quick-items input").attr("placeholder","Issue")},setPendingChanges:function(){gemini_add.pendingChanges=!0,$("#cs-popup-add-content").data("jsp").reinitialise({contentWidth:"700px"})},save:function(){if($("#quick-items .limTextContainer input").length>0&&""!=$.trim($("#quick-items .limTextContainer input").val())){var a=$("#quick-items .limTextContainer input").val();$("#quick-items .limTextContainer").parent().html("<div><span class='fonticon-drag-handle valign-text-bottom margin-right-5' style='color:#C4C4C4;'></span>"+a+"</div>")}var b=$('.tab[data-tab-id="full-item"]',"#cs-popup-add-zone").hasClass("selected"),c=$('.tab[data-tab-id="new-project"]',"#cs-popup-add-zone").hasClass("selected"),d=!b||$("#inline-edit-form","#cs-popup-add").valid(),e=$("#quick-items").liManipulator("data"),f=$("#quick-items").is(":visible");e.length>0&&(f&&gemini_ui.startBusy("#cs-popup-add #cs-popup-add-save"),gemini_ajax.postCall(gemini_add.addUrl+"items","dump/SaveItemDump",function(a){d&&a.Success&&gemini_add.postIssueCreate(a),f&&gemini_ui.stopBusy("#cs-popup-add #cs-popup-add-save")},function(){f&&gemini_ui.stopBusy("#cs-popup-add #cs-popup-add-save")},{items:JSON.stringify(e)})),b?$("#inline-edit-form","#cs-popup-add").valid()?(gemini_ui.startBusy("#cs-popup-add #cs-popup-add-save"),$("#inline-edit-form","#cs-popup-add").submit()):$(".error","#cs-popup-add").first().focus():c&&(gemini_add.pendingChanges=!1,$("#new-project-form","#cs-popup-add").valid()?(gemini_ui.startBusy("#cs-popup-add #cs-popup-add-save"),$("#new-project-form","#cs-popup-add").submit()):$(".error","#cs-popup-add").first().focus())},postIssueCreate:function(a){gemini_add.pendingChanges=!1,gemini_add.hide(),gemini_ajax.postCall("account","actions",function(a){if($("#pager-next").length>0){var b=$("#pager-next").data("page")-1;0>b&&(b=0),gemini_filter.getFilteredItemsPage(b)}$("#notification-center").html(a.Result.Data),gemini_master.initNotificationCenter(),gemini_master.showNotificationCenter()},null),gemini_add.newItemCreatedCallback&&(gemini_add.newItemCreatedCallback(a.Result.Item.Id),gemini_add.newItemCreatedCallback=null)},warn:function(){return gemini_add.pendingChanges?"Unsaved changes.":void 0},hide:function(){gemini_add.pendingChanges?($("#cs-popup-add").hide(),gemini_popup.sameConfirmWidth(),gemini_popup.modalConfirm("Save changes?",null,function(){gemini_add.save()},function(){gemini_add.pendingChanges=!1,gemini_add.hide()})):($("#cs-popup-add").hide(),$(".fonticon-plus",$("#plus-header")).removeClass("selected"),gemini_add.pendingChanges=!1,gemini_add.editingMode=!1,$("#cs-popup-add-content").empty(),$("#cs-popup-add-content").data("jsp",""),gemini_keyboard.unbindEscape("#cs-popup-add #cs-popup-add-close"),$.colorbox.close())},initNewProjectWizard:function(){$("li","#new-project-wizard").click(function(){$("li","#new-project-wizard").removeClass("selected"),$(".title","#template-details").html($(this).data("title")),$(".description","#template-details").html($(this).data("description")),$(this).addClass("selected"),$("#new-project-form input[type='text']:first").focus(),$("#cloud-component","#template-cloud").html($(this).data("component")),$("#cloud-version","#template-cloud").html($(this).data("version")),$("#cloud-item","#template-cloud").html($(this).data("item")),$("#cloud-resource","#template-cloud").html($(this).data("resource")),$("#cloud-type","#template-cloud").html($(this).data("type")),$("#cloud-status","#template-cloud").html($(this).data("status")),$("#id","#new-project-form").val($(this).data("id"))}),$("li:first","#new-project-wizard").click(),$("#new-project-form").validate({}),Modernizr.input.placeholder||$("#new-project-form input[type=text]").each(function(){""!=$(this).attr("placeholder")&&($(this).addClass("search_box_placeholder"),""==$(this).val()&&$(this).val($(this).attr("placeholder")),$(this).focus(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val(""),$(this).removeClass("search_box_placeholder")}),$(this).blur(function(){""==$(this).val()&&($(this).val($(this).attr("placeholder")),$(this).addClass("search_box_placeholder"))}))})}},gemini_edit={pageType:0,popupContainer:"",formContainer:"",pendingChanges:!1,editingMode:!1,useInlineEdit:!0,issueId:0,triggerXHR:null,refreshFunction:null,clickedElement:null,includeProjectsField:!1,initEditing:function(a,b){if(gemini_edit.editingMode)gemini_edit.hideEditingPopup();else{var c="{}";if(gemini_edit.includeProjectsField&&(c={includeProjectsField:gemini_edit.includeProjectsField}),gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item&&(gemini_edit.issueId=$(a).parent().data("issue-id")),gemini_edit.useInlineEdit){if(gemini_edit.pageType==gemini_commons.PAGE_TYPE.Item){var d=$(a).find(".attribute-header");$(d).length>0&&(a=d)}gemini_edit.pendingChanges=!1;var e=!1;if(e=gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item?csVars.ProjectUrl:gemini_item.itemUrl,b){var f="";f=gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item?a.closest("table").find("th").eq(a.index()).attr("data-id"):$(a).attr("data-attribute-id");var g=$.extend({},{id:gemini_edit.issueId,property:f},c);gemini_ajax.postCall(e+"inlineedit/getproperty",gemini_edit.pageType,gemini_edit.showEditingField,null,g,a)}else{var g=$.extend({},{id:gemini_edit.issueId},c);gemini_ajax.postCall(e+"edit",gemini_edit.pageType,gemini_edit.showEditingPopup,null,g,a)}}else{var g=$.extend({},{id:gemini_edit.issueId},c);gemini_edit.pendingChanges=!1,gemini_ajax.postCall(csVars.ProjectUrl+"edit",gemini_edit.pageType,gemini_edit.showEditingPopup,null,g,a)}}},setPendingChanges:function(){gemini_edit.pendingChanges=!0,$("#cs-popup-content").data("jsp").reinitialise({})},saveEditing:function(){$("#inline-edit-form",gemini_edit.formContainer).valid()?(gemini_ui.startBusy("#cs-popup #cs-popup-save"),$("#inline-edit-form",gemini_edit.formContainer).submit()):$(".error:not(label)","#cs-popup-content").first().focus()},refresh:function(a,b){gemini_edit.pendingChanges=!1,gemini_edit.hideEditingPopup(),gemini_edit.pageType==gemini_commons.PAGE_TYPE.Item?($("#item-attributes").html(a.Result.Html),$(".widget-header").each(function(){gemini_item.getAppControlValue(gemini_item.issueId,$(this).data("gemini-app-id"),$(this).data("gemini-control-id"),"value","")}),$(a.Result.Sections).each(function(){"Title"==this.Key?$(".item-title .title","#view-item").html(this.Value):"reload"==this.Key?window.location=a.Result.RedirectUrl:"AssociatedHistory"==this.Key?gemini_item.replaceContentContainer("history",this.Value):"AssociatedCustomFields"==this.Key?gemini_item.replaceContentContainer("additional",this.Value):"AssociatedAttachments"==this.Key?$("#item-attachments").replaceWith(this.Value):"EstimatedEffort"==this.Key?$(".progress-info","#view-item").replaceWith(this.Value):"Description"==this.Key?$(".description","#view-item").replaceWith(this.Value):"DateCreated"==this.Key&&($("#touch-info-container","#view-item").html(this.Value),gemini_sizing.sameWidth(".touch-info .box",10))})):gemini_edit.refreshFunction(a,b)},showInlineEditField:function(a,b){if(gemini_edit.hideEditingField(),gemini_edit.hideInlineEditField(),a.success){var c=b.text(),d=$(a.Result.Html);d.each(function(a,b){$(b).hasClass("inline-editing")&&$(b).removeClass("input-tall").attr("class",$(b).attr("class").replace(/\binput-size\d+\b/g,""))});var e=!1;e=gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item?csVars.ProjectUrl:gemini_item.itemUrl;var f='<form style="display:inline-block;" method="post" action="'+csVars.Url+e+"inlineedit/saveproperty/"+gemini_edit.pageType+'"></form>';b.html(f),$("form",b).append(d),$("input",$(b)).focus().data("oldvalue",c).css("height","22px").css("width","500px").css("font-size","0.8em"),$("input",$(b)).blur(function(){gemini_edit.hideInlineEditField()}),gemini_commons.inputKeyHandlerUnbind(b),gemini_commons.inputKeyHandler(b,gemini_edit.saveInlineEditField,gemini_edit.hideInlineEditField)}},saveInlineEditField:function(){var a=$(".inline-editing"),b=a.parents("form:eq(0)");if(b.valid()){var c=b.serialize(),d=c;d+="&id="+a.attr("name")+"&itemid="+gemini_item.issueId+"&property="+a.attr("name");var e=!1;e=gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item?csVars.ProjectUrl:gemini_item.itemUrl,gemini_ajax.postCall(e+"inlineedit/saveproperty",gemini_edit.pageType,gemini_edit.InlineEditSaveResponse,null,d,a)}},hideInlineEditField:function(){if($(".inline-editing").length>0){var a=$(".inline-editing").data("oldvalue");$(".inline-editing").closest("form").parent().text(a)}},showEditingField:function(a,b){if(gemini_edit.hideEditingField(),gemini_edit.hideInlineEditField(),a.Success){var c=$(a.Result.Html),d=!1;if(c.each(function(a,b){$(b).hasClass("inline-editing")&&($(b).removeClass("input-tall").attr("class",$(b).attr("class").replace(/\binput-size\d+\b/g,"")),d||(d=$(b)))}),d||(d=c.find(".inline-editing")),"Repeat_Interval"!=d.attr("id")){b.data("value",$(b).html()),b.addClass("edit-mode");var e=!1;e=gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item?csVars.ProjectUrl:gemini_item.itemUrl;var f='<form method="post" action="'+csVars.Url+e+"inlineedit/saveproperty/"+gemini_edit.pageType+'"><div class="left"></div></form>';if(d.is("textarea")){$("#cs-popup-center-content").css("width","600px"),$("#cs-popup-center-content").css("height","400px");var g='<form action="'+csVars.Url+e+"inlineedit/saveproperty/"+gemini_edit.pageType+'">'+'<h2 class="margin-bottom-10">'+a.Result.IssueKey+" "+a.Result.Property+"</h2>";g+=a.Result.Html+"</form>",a.Result.Html=g,gemini_popup.showCenterPopup(a),$("#colorbox .inline-editing").css("width","100%"),$("#popup-button-no").click(function(a){b.removeClass("edit-mode"),gemini_popup.popupClose(a),$("#colorbox .inline-editing").closest("form").remove()}),$("#popup-button-yes").click(function(a){gemini_edit.saveEditingField(gemini_edit.issueId),gemini_popup.popupClose(a),$("#colorbox .inline-editing").closest("form").remove()}),setTimeout(function(){gemini_ui.htmlEditor("#colorbox .inline-editing",null,"",!0)},50)}else{$("#page-content-zone").append('<div class="inline-edit-dropdown"> '+f+"</div>"),$(".inline-edit-dropdown form > div","#page-content-zone").html(c),$(".inline-edit-dropdown","#page-content-zone").append('<div class="dropdown-options right"><div class="fonticon-tick margin-right-10"></div><div class="fonticon-cross"></div></div>');var h=$(".inline-edit-dropdown form .inline-editing","#page-content-zone").length;1==h?$(".inline-edit-dropdown form .inline-editing","#page-content-zone").css("width","270px").addClass("left"):$(".inline-edit-dropdown form .inline-editing","#page-content-zone").css("width",100/h+"px");
var i=$(window).width(),j=350,k=$(b).position().left,l="left";0>i-(j+k)&&(l="right");var m="top",n="bottom";$(b).closest("tr").is(":last-child")&&(m="bottom",n="top"),$(".inline-edit-dropdown","#page-content-zone").position({my:l+" "+m,at:l+" "+n,of:$(b),offset:"0 0",collision:"none"}),$("#page-content-zone .inline-edit-dropdown .fonticon-cross").unbind("click").click(function(){gemini_edit.hideEditingField()}),$("#page-content-zone .inline-edit-dropdown .fonticon-tick").unbind("click").click(function(){gemini_edit.saveEditingField()})}var o;if($(".inline-edit-dropdown form  input:not(:hidden)","#page-content-zone").length>0){var p=$(".inline-edit-dropdown form  input:not(:hidden)","#page-content-zone");o=p,gemini_edit.applyFieldFunctionality(p)}if($(".inline-edit-dropdown form  select","#page-content-zone").length>0){var q=$(".inline-edit-dropdown form  select","#page-content-zone");o=q,gemini_edit.applyFieldFunctionality(q)}if($(".inline-edit-dropdown form  textarea","#page-content-zone").length>0){var r=$(".inline-edit-dropdown form  textarea","#page-content-zone");o=r,gemini_edit.applyFieldFunctionality(r)}d.focus()}}},InlineEditSaveResponse:function(a){if(a.success){if(gemini_edit.pageType==gemini_commons.PAGE_TYPE.Item){var b=!1;a.Result.Extra&&$(a.Result.Extra).each(function(){"reload"==this.Key?(b=!0,window.location=a.Result.RedirectUrl):"AssociatedHistory"!=this.Key||b?"AssociatedCustomFields"!=this.Key||b?"Title"!=this.Key||b?"EstimatedEffort"!=this.Key||b?"Description"==this.Key?$(".description","#view-item").replaceWith(this.Value):"DateCreated"==this.Key&&($("#touch-info-container","#view-item").html(this.Value),gemini_sizing.sameWidth(".touch-info .box",10)):$(".progress-info","#view-item").replaceWith(this.Value):$(".item-title .title","#view-item").html(this.Value):gemini_item.replaceContentContainer("additional",this.Value):gemini_item.replaceContentContainer("history",this.Value)}),$("#item-attributes .attribute-header.edit-mode").length>0&&!b&&$("#item-attributes").html(a.Result.Html)}else gemini_edit.refreshFunction(a,a.Result.ItemId);gemini_edit.hideEditingField(!0),$.publish("issue-update",[a.Result.ItemId,gemini_edit.pageType])}},saveEditingFieldSelect:function(a){a.parent().find(".chzn-drop").position().left<0&&gemini_edit.saveEditingField()},cancelInlineEditFieldSelect:function(a){a.parent().find(".chzn-drop").position().left<0&&gemini_edit.hideEditingField()},saveEditingField:function(a){var b=$(".inline-editing"),c=b.parents("form:eq(0)"),d=gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item?$("#tabledata tbody td.edit-mode").parent().attr("data-issue-id"):gemini_edit.issueId;if(c.validate({ignore:".chzn-search input, .search-field input"}),c.valid()){var e=c.serialize(),f=null!=a?a:d,g=[f];$(".checked-items:checked",$("#items-grid")).length>0&&$(".checked-items:checked",$("#items-grid")).each(function(a,b){f!=$(b).val()&&g.push($(b).val())});var h=!1;h=gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item?csVars.ProjectUrl:gemini_item.itemUrl;for(var i in g)if(g[i]>0)if(b.is('input[type="file"]')){var j={data:{itemid:g[i],id:b.attr("name"),property:b.attr("name")},dataType:"json",type:"post",success:function(a){gemini_edit.InlineEditSaveResponse(a)},error:function(){}};c.ajaxForm(j),c.submit()}else{var k=e;k+="&id="+b.attr("name")+"&itemid="+g[i]+"&property="+b.attr("name"),gemini_ajax.postCall(h+"inlineedit/saveproperty",gemini_edit.pageType,gemini_edit.InlineEditSaveResponse,null,k,b)}}},hideEditingField:function(){$(".inline-edit-dropdown","#page-content-zone").remove(),gemini_edit.pageType!=gemini_commons.PAGE_TYPE.Item?$("#tabledata tbody td.edit-mode").removeClass("edit-mode"):($("#item-attributes li.edit-mode").length>0&&$("#item-attributes li.edit-mode").removeClass("edit-mode"),$("#additional-content tr.edit-mode").length>0&&$("#additional-content tr.edit-mode").removeClass("edit-mode"))},applyFieldFunctionality:function(a){var b=a.attr("data-input-type");if(a.is("select")){gemini_ui.chosen("#page-content-zone .inline-edit-dropdown select.inline-editing:not(.no-chosen)","#page-content-zone",!1),gemini_ui.ajaxChosen("#page-content-zone .inline-edit-dropdown select.inline-editing.no-chosen.auto-complete-chosen","#page-content-zone",!1);var c=$("#page-content-zone .inline-edit-dropdown select.inline-editing").next();c.addClass("left"),$(a.next()).focus().mousedown(),gemini_commons.inputKeyHandler($(".chzn-choices",a.parent()),function(){gemini_edit.saveEditingFieldSelect(a)},function(){gemini_edit.cancelInlineEditFieldSelect(a)}),gemini_commons.inputKeyHandler($(".chzn-container",a.parent()),function(){gemini_edit.saveEditingFieldSelect(a)},function(){gemini_edit.cancelInlineEditFieldSelect(a)})}else a.is("input")&&"checkbox"==b?($('#page-content-zone .inline-edit-dropdown input[data-input-type="checkbox"]').css("width",0),gemini_ui.fancyInputs('#page-content-zone .inline-edit-dropdown input[data-input-type="checkbox"]'),$('#page-content-zone .inline-edit-dropdown input[data-input-type="checkbox"]').parent().css("margin-top","8px"),gemini_commons.inputKeyHandler(a,gemini_edit.saveEditingField,gemini_edit.hideEditingField)):a.is("input")&&"date"==b?(gemini_ui.datePicker('#page-content-zone .inline-edit-dropdown input[data-input-type="date"]'),a.click(),gemini_commons.inputKeyHandler(a,gemini_edit.saveEditingField,gemini_edit.hideEditingField)):gemini_commons.inputKeyHandler(a,gemini_edit.saveEditingField,gemini_edit.hideEditingField)},showEditingPopup:function(a,b){if("object"!=typeof a||a.success){gemini_edit.triggerXHR=null,gemini_edit.clickedElement=b;try{$("#cs-popup-content",gemini_edit.popupContainer).html(a)}catch(c){}gemini_ui.datePicker("#cs-popup-content .datepicker"),gemini_ui.chosen("#cs-popup-content select:not(.no-chosen)","#cs-popup-content .jspPane:first",!1),gemini_ui.ajaxChosen("#cs-popup-content select.no-chosen.auto-complete-chosen","#cs-popup-content .jspPane:first",!1),$("#cs-popup-content",gemini_edit.popupContainer).data("jsp",""),$(gemini_edit.popupContainer).show();var d=gemini_sizing.availableHeight();$(gemini_edit.popupContainer).css("height",d+40),$(gemini_edit.popupContainer).css("width","820px");var e=d+40-$("#cs-popup-buttons").height()-20,f={inline:!0,href:gemini_edit.popupContainer,transition:"none",width:"820px",height:d+40,overlayClose:!1,escKey:!1,opacity:"0.8",onComplete:function(){$(".checked-select").jScrollPane({}),$("#cs-popup-content",gemini_edit.popupContainer).jScrollPane({}),$(".jspContainer","#cs-popup-content").css("height",e),$(".jspPane","#cs-popup-content").css("min-height",e-10),gemini_ui.htmlEditor(".wysiwyg-editor",null,gemini_edit.setPendingChanges),gemini_ui.userAutocomplete("#cs-popup-content .user-autocomplete"),$("#cs-popup-content",gemini_edit.popupContainer).jScrollPane("reinitialise")}};$.colorbox(f);var g={dataType:"json",success:function(a){a.success&&gemini_edit.refresh(a,gemini_edit.issueId),gemini_ui.stopBusy("#cs-popup #cs-popup-save"),$.publish("issue-update",[a.Result.Item.Id,gemini_edit.pageType])},error:function(){gemini_ui.stopBusy("#cs-popup #cs-popup-save"),gemini_popup.toast("Item could not be created",!0)}};$("#inline-edit-form",gemini_edit.formContainer).ajaxForm(g),$("#inline-edit-form",gemini_edit.formContainer).validate({ignoreTitle:!0,submitHandler:function(){}}),gemini_edit.editingMode=!0,$("input",gemini_edit.popupContainer).change(gemini_edit.setPendingChanges),$("input[type=text]",gemini_edit.popupContainer).keyup(gemini_edit.setPendingChanges),$("select",gemini_edit.popupContainer).change(gemini_edit.setPendingChanges),$("#cs-popup-save",gemini_edit.popupContainer).unbind("click"),$("#cs-popup-close",gemini_edit.popupContainer).unbind("click"),$("#cs-popup-save",gemini_edit.popupContainer).click(gemini_edit.saveEditing),$("#cs-popup-close",gemini_edit.popupContainer).click(gemini_edit.hideEditingPopup),window.onbeforeunload=gemini_edit.warnLoseChanges,gemini_commons.inputKeyHandler($(document),null,gemini_edit.hideEditingPopup);var h=$("#cs-popup-content",gemini_edit.popupContainer).data("jsp");if(gemini_edit.pageType==gemini_commons.PAGE_TYPE.Item){var i=$(b).find(".attribute-header");0==$(i).length&&(i=b);var j=$(i).data("attribute-id");0!=$("#"+j,"#cs-popup-content").length?($("*[name='"+j+"']","#cs-popup-content").is("select")?(h.scrollToY($("#"+j+"_chzn","#cs-popup-content").position().top),$('*[name="'+j+'"] + div',"#cs-popup-content").focus().mousedown()):(h.scrollToY($("#"+j,"#cs-popup-content").position().top),$("*[name='"+j+"'][type!='hidden']","#cs-popup-content").is(":checkbox")?$("#"+j,"#cs-popup-content").focus():$("#"+j,"#cs-popup-content").focus().click()),$("#"+j,"#cs-popup-content").parent().addClass("highlight-underline"),$("#"+j,"#cs-popup-content").parent().siblings().addClass("highlight-underline")):$("#cs-popup input[type='text']:first").focus()}else{var k=$(b).closest("table").find("th").eq($(b).index());0!=$("#"+$(k).data("id"),"#cs-popup-content").length?($("*[name='"+$(k).data("id")+"'][type!='hidden']","#cs-popup-content").is("select")?(h.scrollToY($('*[name="'+$(k).data("id")+'"] + div',"#cs-popup-content").position().top),$('*[name="'+$(k).data("id")+'"] + div',"#cs-popup-content").focus().mousedown()):(h.scrollToY($("#"+$(k).data("id"),"#cs-popup-content").position().top),$("*[name='"+$(k).data("id")+"'][type!='hidden']","#cs-popup-content").is(":checkbox")?$("#"+$(k).data("id"),"#cs-popup-content").focus():$("#"+$(k).data("id"),"#cs-popup-content").focus().click()),$("#"+$(k).data("id"),"#cs-popup-content").parent().addClass("highlight-underline"),$("#"+$(k).data("id"),"#cs-popup-content").parent().siblings().addClass("highlight-underline")):$("#cs-popup input[type='text']:first").focus();var l=$(b).closest("tr");($(l).hasClass("dependant")||1==$(l).find(".parent").length)&&($(".dependant","#tabledata").remove(),$(".parent","#tabledata").removeClass("fonticon-arrow-up").addClass("fonticon-arrow-down"))}$("#cs-popup-content").find("*[data-trigger]").change(function(){gemini_edit.triggerChange(this)}),$("#cs-popup-content").find("*[data-customfield-trigger]").change(function(){gemini_edit.triggerCustomfieldChange(this)}),$("#cs-popup-content").find("*[data-customfield-trigger]").each(function(){"P"==$(this).data("customfield-trigger")&&gemini_edit.triggerCustomfieldChange(this)}),$(".chzn-results","#cs-popup-content").jScrollPane({}),gemini_keyboard.bindEscape("#cs-popup #cs-popup-close"),gemini_ui.fancyInputs("#inline-edit-form .fancy")}},triggerChange:function(a){null!=gemini_edit.triggerXHR&&gemini_edit.triggerXHR.abort();var b=$(a).data("trigger");if("*"!=b){var c="|"+$(a).val()+"|";if(-1==b.indexOf(c))return}var d=$("#inline-edit-form",gemini_edit.formContainer).serialize();gemini_edit.includeProjectsField&&(d+="&includeProjectsField="+encodeURIComponent(gemini_edit.includeProjectsField)),gemini_ui.destroyHtmlEditor(".wysiwyg-editor"),gemini_edit.triggerXHR=gemini_ajax.postCall(csVars.ProjectUrl+"edit",gemini_edit.pageType,gemini_edit.showEditingPopup,null,d,$('[data-attribute-id="'+$(a).attr("id")+'"]').parent().parent(),"#attributes")},triggerCustomfieldChange:function(a){var b=$(a).data("customfield-trigger");if(""!=b){var c=$(a).attr("id").replace("cf_",""),d="";$(a).find("option:selected").each(function(){d+=$(this).val()+"|"}),d.length>0&&(d=d.slice(0,-1)),gemini_ajax.postCall("project","cascadeddata",gemini_edit.cascadeUpdate,null,{fieldid:c,value:d,projectid:null,issueid:$("#Id","#cs-popup").val()})}},cascadeUpdate:function(a){for(var b=a.Result.Data,c=0;c<b.length;c++){var d=b[c],e="";$("#"+d.Key,"#cs-popup").find("option:selected").each(function(){e+="|"+$(this).val()+"|"}),$("#"+d.Key,"#cs-popup").empty();for(var f=0;f<d.Value.length;f++){var g="";(d.Value[f].Selected||e.indexOf("|"+d.Value[f].Value+"|")>=0)&&(g=" selected='selected' "),$("#"+d.Key,"#cs-popup").append("<option "+g+"value='"+d.Value[f].Value+"'>"+d.Value[f].Text+"</option>")}0==d.Value.length&&$("#"+d.Key,"#cs-popup").append("<option  value='0'>-- none --</option>"),$("#"+d.Key,"#cs-popup").trigger("liszt:updated"),$("#"+d.Key,"#cs-popup").change()}},warnLoseChanges:function(){return gemini_edit.pendingChanges?"Unsaved changes.":void 0},hideEditingPopup:function(){gemini_edit.includeProjectsField=!1,gemini_edit.pendingChanges?($(gemini_edit.popupContainer).hide(),gemini_popup.sameConfirmWidth(),gemini_popup.modalConfirm("Save changes?",null,function(){gemini_edit.saveEditing()},function(){gemini_edit.pendingChanges=!1,gemini_edit.hideEditingPopup()})):($(gemini_edit.popupContainer).hide(),gemini_edit.pendingChanges=!1,gemini_edit.editingMode=!1,gemini_commons.inputKeyHandlerUnbind($(document)),$("#cs-popup-content",gemini_edit.popupContainer).empty(),$("#cs-popup-content",gemini_edit.popupContainer).data("jsp",""),gemini_keyboard.unbindEscape("#cs-popup #cs-popup-close"),$.colorbox.close())},initEdit:function(a,b,c,d,e,f){gemini_edit.pageType=b,gemini_edit.issueId=a,gemini_edit.popupContainer=c,gemini_edit.formContainer=d,gemini_edit.refreshFunction=f,csVars.DontUseInlineEdit&&(gemini_edit.useInlineEdit=!1),$(e).on("click",".attribute",gemini_edit.initEditing)},setProjectFieldDisplay:function(a){gemini_edit.includeProjectsField=a}},gemini_admin={currentTab:"",currentSubTab:"",currentTemplate:0,tabTopSelector:"#tabs-top > .tab",tabLeftSelector:"#tabs-left",currentXHR:null,currentTable:null,initGlobal:function(a){var b=gemini_admin.tabTopSelector,c=gemini_admin.tabLeftSelector;gemini_admin.currentTemplate=a,$(b).disableSelection(),$(c).disableSelection(),gemini_sizing.sameWidth(b),$(b).on("click",function(){$(b).removeClass("selected").addClass("normal"),$(this).removeClass("normal").addClass("selected"),gemini_admin.currentTab=$(this).data("tab"),gemini_admin.getSubTab()}),$(c).on("click","div:not(.help)",function(){$("#tabs-left div:not(.help)").removeClass("selected").addClass("normal"),$(this).removeClass("normal").addClass("selected"),gemini_admin.currentSubTab=$(this).data("tab"),gemini_admin.getPage()}),0==gemini_admin.currentTab.length?gemini_admin.currentTab=$("#tabs-top div:first-child").data("tab"):($(b).removeClass("selected").addClass("normal"),$(b+'[data-tab="'+gemini_admin.currentTab+'"]').addClass("selected")),gemini_admin.getSubTab(gemini_admin.currentSubTab)},checkXHR:function(){null!=gemini_admin.currentXHR&&(gemini_admin.currentXHR.abort(),gemini_admin.currentXHR=null)},getSubTab:function(a){gemini_admin.checkXHR(),(null==a||void 0==a)&&(gemini_admin.currentSubTab=""),gemini_admin.currentXHR=gemini_ajax.jsonCall("configure","tab/"+gemini_admin.currentTab,gemini_admin.renderSubTabs)},renderSubTabs:function(a){$("#tabs-left-content").html(a.Result.Menu),""==gemini_admin.currentSubTab&&(gemini_admin.currentSubTab=$("#tabs-left div:first-child").data("tab")),gemini_admin.currentXHR=null,gemini_admin.getPage()},getPage:function(){gemini_admin.checkXHR(),gemini_admin.clearPage(),gemini_admin.currentXHR=gemini_ajax.postCall("configure","tab/"+gemini_admin.currentTab+"/"+gemini_admin.currentSubTab,gemini_admin.renderPage,null,{template:gemini_admin.currentTemplate})},clearPage:function(){$("#configure-page-content").empty()},getTemplateId:function(){return gemini_admin.currentTemplate},getFormTemplateId:function(){return"&template="+gemini_admin.currentTemplate},renderPage:function(a){$("#configure-page-content").html(a.Result.Page),gemini_admin.currentXHR=null,gemini_ui.chosen("select",null),$("#tabs-left div:not(.help)").removeClass("selected").addClass("normal"),$('#tabs-left div:not(.help)[data-tab="'+gemini_admin.currentSubTab+'"]').removeClass("normal").addClass("selected"),$("#configure-page-content input[type='text']:first").focus(),"Templates"==gemini_admin.currentTab&&(gemini_admin.currentTemplate=$("#Template").val(),$("#Template").unbind("change").change(function(){gemini_admin.currentTemplate=$("#Template").val(),gemini_admin.getPage()}),$("#export-template").unbind("click").click(function(a){gemini_commons.stopClick(a),gemini_commons.openUrl(csVars.Url+"configure/template/export/"+gemini_admin.currentTemplate)}),$("#delete-template").unbind("click").click(function(a){gemini_commons.stopClick(a),gemini_popup.modalConfirm("Delete Project Template?",null,function(){gemini_ui.startBusy("#modal-confirm #modal-button-yes"),gemini_ajax.postCall("configure","template/delete/"+gemini_admin.currentTemplate,function(){$("#Template option").each(function(){return $(this).val()!=gemini_admin.currentTemplate?(gemini_admin.currentTemplate=$(this).val(),!1):void 0}),gemini_ui.stopBusy("#modal-confirm #modal-button-yes"),gemini_admin.getPage()},function(){gemini_ui.stopBusy("#modal-confirm #modal-button-yes")})},null)}),$("#load-templates").unbind("click").click(function(a){gemini_commons.stopClick(a),gemini_ajax.postCall("configure","template/load/",gemini_admin.getPage)}),$("#duplicate-template").unbind("click").click(function(a){gemini_commons.stopClick(a),gemini_popup.centerPopup("configure/template/duplicate","popup",null)}))},initDatatables:function(a,b){var c={};null!=b&&(c=b);var d=$.extend({},{bFilter:!0,bInfo:!0,bSort:!0,bPaginate:!0,bLengthChange:!1,iDisplayLength:20,sPaginationType:"full_numbers",oLanguage:{sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:""}},c);gemini_admin.currentTable=$(a).dataTable(d)},rowDragIndex:0,initTableDnD:function(a){$(a).tableDnD({dragHandle:".dragHandle",onDrop:function(a,b){gemini_ajax.postCall("configure",gemini_admin.currentTab+"/"+gemini_admin.currentSubTab+"/resequence",function(){},null,{id:$(b).data("id"),template:gemini_admin.currentTemplate,afterid:1==b.rowIndex?0:$(a.rows[b.rowIndex-1]).data("id"),newIndex:b.rowIndex-1,oldIndex:gemini_admin.rowDragIndex-1})},onDragStart:function(a,b){gemini_admin.rowDragIndex=b.parentNode.parentNode.rowIndex},onDragClass:"highlight-hover",onAllowDrop:function(a,b){return $(b.children[0]).is("td")}})},initDatatablesWithEdit:function(a,b,c,d){var e={};(null==c||void 0==c)&&(c="tbody td:not([data-edit='false'])"),null!=d&&(e=d);var f=!0,g=!1,h=$.extend({},{bFilter:!0,bInfo:!0,bSort:!0,bPaginate:!0,bLengthChange:!1,iDisplayLength:20,sPaginationType:"full_numbers",oLanguage:{sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"No data."},fnDrawCallback:function(b){f&&(b.bFiltered||b.bSorted?($(".dragHandle").hide(),g=!0):g||$(".dragHandle").show()),$(a+" "+c).editable(csVars.Url+"configure/"+gemini_admin.currentTab+"/"+gemini_admin.currentSubTab+"/saveproperty",{placeholder:"",detectType:function(a){var b=gemini_ui.getTableTHForTD(a);return $(b).data("edit-type")},validationRequired:function(a){var b=gemini_ui.getTableTHForTD(a);return $(b).data("required")},validationEmail:function(a){var b=gemini_ui.getTableTHForTD(a);return $(b).data("email")},validationProgrammaticalNames:function(a){var b=gemini_ui.getTableTHForTD(a);return $(b).data("programmaticalnames")},loadurl:csVars.Url+"configure/"+gemini_admin.currentTab+"/"+gemini_admin.currentSubTab+"/getproperty",loaddata:function(){var a=gemini_ui.getTableTHForTD(this),b=$(a).data("field");return{id:$(this).parent().data("id"),property:b}},submitdata:function(){var a=gemini_ui.getTableTHForTD(this),b=$(a).data("field");return{id:$(this).parent().data("id"),property:b}},height:"14px"}),$('*[data-edit-type="color"]').length>0&&$(c).each(function(){var a=gemini_ui.getTableTHForTD(this);"color"==$(a).data("edit-type")&&$(this).click()})}},e);gemini_admin.currentTable=$(a).dataTable(h)},removeRow:function(a){var b=$(a).closest("tr"),c=b.closest("tbody"),d=gemini_admin.currentTable.fnGetPosition(b[0]);gemini_admin.currentTable.fnDeleteRow(d),c.children("tr:even").addClass("odd").removeClass("even"),c.children("tr:odd").addClass("even").removeClass("odd")},showPopup:function(a,b,c){gemini_ajax.call(a,b,function(a){$("#cs-popup-center-content").html(a.result.data.html),$("#cs-popup-center").show()},null,{id:c},null)},saveStarted:function(a){gemini_ui.togglePageOverlay("#tabs-left, #tabs-top"),gemini_ui.cursorWait(),gemini_ui.disableButton(a)},saveFinished:function(a){gemini_ui.cursorDefault(),gemini_ui.enableButton(a),gemini_popup.toast("Saved")},hideAttributeOptionsPicker:function(){$("#attribute-options-picker").hide();var a=$("#attribute-options-picker").attr("data-field");$("#attribute-options-picker").attr("data-field","");var b=$("#"+a).attr("id");$("#attribute-options-picker").removeClass(b)},persistAttributeOptionsPicker:function(a,b){var c=$("#attribute-options-picker").attr("data-field"),d="";$(":selected","#attribute-options-ProjectGroup").each(function(){d=d+"|"+$(this).val()}),$("#"+c).attr("data-project-groups",d),a&&($("#field-required").is(":checked")?$("#"+c).attr("data-required","true"):$("#"+c).attr("data-required","false")),b&&b()},EscapeAttributeDdropdown:function(){gemini_admin.hideAttributeOptionsPicker()},attributeOptionsPicker:function(a,b,c,d){c?$("#option-required","#attribute-options-picker").show():$("#option-required","#attribute-options-picker").hide(),$("#option-delete","#attribute-options-picker").hide(),$("#option-apply-button","#attribute-options-picker").unbind("click"),$("#option-apply-button","#attribute-options-picker").click(function(){gemini_admin.persistAttributeOptionsPicker(c,d),gemini_admin.hideAttributeOptionsPicker()}),$(a).unbind("click"),$(a).click(function(){var a=b(this),e=$("#attribute-options-picker").attr("data-field");if(void 0!=e&&""!=e&&gemini_admin.persistAttributeOptionsPicker(c,d),$("#attribute-options-picker").hasClass(a.attr("id")))return $("#attribute-options-picker").hide(),$("#attribute-options-picker").removeClass(a.attr("id")),$("#attribute-options-picker").attr("data-field",""),void 0;if(c){var f=a.attr("data-required");$("#field-required").iCheck("uncheck"),"true"==f&&$("#field-required").iCheck("check")}$("option","#attribute-options-ProjectGroup").attr("selected",!1);var g=a.attr("data-project-groups").split("|");$(g).each(function(){""!=this&&$('option[value="'+this+'"]',"#attribute-options-ProjectGroup").attr("selected",!0)}),$("#attribute-options-ProjectGroup").trigger("liszt:updated"),$("#attribute-options-picker").attr("data-field",a.attr("id")),$("#attribute-options-picker").addClass(a.attr("id")),$("#attribute-options-picker").slideDown("fast"),$("#attribute-options-picker").position({my:"left top",at:"left bottom",of:this,offset:"-10 0",collision:"none"}),gemini_keyboard.bindEscape("#attribute-options-picker",gemini_admin.EscapeAttributeDdropdown)})}},gemini_reports={supressTimeTypes:!1,supressResources:!1,currentListValues:null,init:function(a){gemini_reports.settings=a,$("#Reports").change(function(a){gemini_reports.reportChanged(a)}),gemini_ui.datePicker(".datepicker",gemini_reports.reportChanged),$(".datepicker").change(function(a){gemini_reports.reportChanged(a)}),$("#SubChart").change(function(a){gemini_reports.reportChanged(a)});var b=jQuery.parseJSON(gemini_commons.htmlDecode(gemini_appnav.pageCard.Options));gemini_ui.setDropdownValue("#Reports",b.SelectedReport),$("#FieldId").change(function(a){gemini_reports.reportChanged(a)}),$("#FilterId").change(function(a){gemini_reports.reportChanged(a)}),$("#ProjectId").change(function(a){gemini_reports.projectChanged(),gemini_reports.reportChanged(a)}),$("#TimeTypeId").change(function(a){gemini_reports.supressTimeTypes=!0,gemini_reports.reportChanged(a)}),$("#ResourceId").change(function(a){gemini_reports.supressResources=!0,gemini_reports.reportChanged(a)}),$("#GroupBy").change(function(a){gemini_reports.reportChanged(a)}),$(".report-summary-table-button","#report-menu").click(function(){$("#ProjectSummaryChart").val("false"),$(".report-summary-chart").fadeOut("fast",function(){$(".report-summary-table").fadeIn("fast")})}),$(".report-summary-chart-button","#report-menu").click(function(){$("#ProjectSummaryChart").val("true"),$(".report-summary-table").fadeOut("fast",function(){$(".report-summary-chart").fadeIn("fast")})}),gemini_reports.options=b,gemini_reports.setupControls(),gemini_reports.reportChanged(),$("#Reports_chzn input[type='text']:first").focus(),$(".control-icon","#report-menu").click(function(){var a=$(this),b=a.find("+ .options");b.is(":visible")?(b.hide(),gemini_keyboard.unbindEscape("#page-options-box .options")):(a.parent().parent().find(".options").each(function(){$(this).is(":visible")&&$(this).hide()}),b.show(),gemini_keyboard.bindEscape("#page-options-box .options",gemini_reports.escapeDropdowns),$("input[type='text']:first",b).focus()),b.position({of:a,my:"right top",at:"right bottom",offset:"0 0",collision:"none"})})},escapeDropdowns:function(a,b){$(b).hide(),gemini_keyboard.unbindEscape(a)},settings:null,options:null,reportChanged:function(){gemini_ui.cursorWait(),$("#report-content").html("<div id='cs-template'><div id='no-data'>"+gemini_reports.settings.Loading+"</div></div>"),gemini_ajax.postCall(csVars.ProjectUrl+"report","get",gemini_reports.displayReport,null,$("#ReportParams").serialize())},displayReport:function(a){return"Not Found"==a?($("#report-content").empty(),gemini_ui.cursorDefault(),void 0):(null!=a.Result.SavedCard&&(gemini_appnav.pageCard.Options=a.Result.SavedCard.Options,gemini_reports.options=jQuery.parseJSON(a.Result.SavedCard.Options)),gemini_reports.setupControls(),$("#report-content").html(a.Result.Html),gemini_reports.setTimeTypes(a.Result.TimeTypes),gemini_reports.setResources(a.Result.Resources),$(window).trigger("resize"),void 0)},setTimeTypes:function(a){if(gemini_reports.supressTimeTypes)return gemini_reports.supressTimeTypes=!1,void 0;gemini_reports.supressTimeTypes=!1;var b="|";$("#TimeTypeId").find("option:selected").each(function(){b+=$(this).attr("value")+"|"}),$("#TimeTypeId").empty();for(var c=0;c<a.length;c++){var d=a[c],e=-1!=b.indexOf("|"+d.Value+"|")?"selected":"";$("#TimeTypeId").append("<option "+e+" value='"+"|"+d.Value+"'>"+d.Text+"</option>")}$("#TimeTypeId_chzn").remove(),$("#TimeTypeId").removeClass("chzn-done"),gemini_ui.chosen("#TimeTypeId")},setResources:function(a){if(gemini_reports.supressResources)return gemini_reports.supressResources=!1,void 0;gemini_reports.supressResources=!1;var b="";$("#ResourceId").find("option:selected").each(function(){b+=$(this).attr("value")}),$("#ResourceId").empty();for(var c=0;c<a.length;c++){var d=a[c],e=-1!=b.indexOf(d.Value)?"selected":"";$("#ResourceId").append("<option "+e+" value='"+d.Value+"'>"+d.Text+"</option>")}$("#ResourceId_chzn").remove(),$("#ResourceId").removeClass("chzn-done"),gemini_ui.chosen("#ResourceId")},setupControls:function(){var a=gemini_reports.options;a.StartDate?$("#StartDate").show().val(a.StartDateDisplay):$("#StartDate").hide(),a.EndDate?$("#EndDate").show().val(a.EndDateDisplay):$("#EndDate").hide(),gemini_ui.setDropdownValue("#Reports",a.Reports),a.SubChart&&20==a.Reports?(gemini_ui.setDropdownValue("#HoursAllocation",a.SubChart),$("#HoursAllocationContainer").show()):$("#HoursAllocationContainer").hide(),40==a.Reports?($("#FieldFilterContainer").show(),$("#FilterContainer").show()):($("#FieldFilterContainer").hide(),$("#FilterContainer").hide()),a.Reports>=30&&a.Reports<40?$("#ProjectSummaryControlsContainer").show():$("#ProjectSummaryControlsContainer").hide(),a.Reports>=50&&a.Reports<60?($("#ResourceFilterContainer").hide(),52==a.Reports?$("#ResourceFilterContainer").show():51==a.Reports&&$("#ResourceFilterContainer").show(),$("#TimeFilterContainer").show(),$("#TimeReportExtraControls").show()):($("#ProjectFilterContainer").show(),$("#TimeFilterContainer").hide(),$("#ResourceFilterContainer").hide(),$("#TimeReportExtraControls").hide()),$("#pdf-action").data("pdf",a.PdfUrl),gemini_ui.cursorDefault(),gemini_reports.currentListValues=$("#ProjectId").val()},projectChanged:function(){var a=$("#ProjectId").val(),b=$("option:first",$("#ProjectId")).val();if(null!=a&&void 0!=a&&a.length>1&&-1!=a.indexOf(b))if(null!=gemini_reports.currentListValues&&void 0!=gemini_reports.currentListValues&&-1!=gemini_reports.currentListValues.indexOf(b)){var c=$("#ProjectId").val();c.splice(0,1),$("#ProjectId").val(c)}else $("#ProjectId").val(b);else(null==a||void 0==a)&&$("#ProjectId").val(b);$("#ProjectId").trigger("liszt:updated"),gemini_reports.currentListValues=$("#ProjectId").val()}},gemini_progress={init:function(){$(document).on("ifChecked",".burndown .radio-check input[type='radio']",function(){gemini_progress.executeFilter()}),$(document).on("change",".burndown #days",function(){gemini_progress.executeFilter()})},initInlineEditing:function(){$("#contents").on("click","#tabledata tr:not(.drop-zone) td:not(:first-child):not(.read-only):not(.edit-mode)",function(a){$(a.target).is("a")||gemini_edit.initEditing($(this),!0)})},burddownChart:function(a,b,c,d,e,f){burddownChart=new Highcharts.Chart({colors:["#20AA00","#A00000","#000000","#20AA00"],chart:{renderTo:"burndown",type:"area"},title:{text:""},xAxis:{categories:b,labels:{align:"right",rotation:-90}},yAxis:{min:0,title:{text:a.Items},stackLabels:{}},legend:{align:"right",x:-210,verticalAlign:"top",y:0,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColorSolid||"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+("Ideal"==this.series.name?Math.ceil(this.y):this.y)+"<br/>"+("Ideal"==this.series.name||"Trend"==this.series.name?"":a.Total+": "+this.point.stackTotal)}},plotOptions:{area:{stacking:"normal",marker:{enabled:!0,symbol:"circle",radius:0,states:{hover:{enabled:!0,radius:4}}}}},series:[{name:a.Open,data:c},{name:a.Created,data:d},{type:"spline",name:"Ideal",data:e,marker:{enabled:!0,symbol:"circle",radius:0,states:{hover:{enabled:!0,radius:4}}}},{type:"spline",name:"Trend",data:f,dashStyle:"dot",marker:{enabled:!0,symbol:"circle",radius:0,states:{hover:{enabled:!0,radius:4}}}}]})},burdupChart:function(a,b,c,d,e){burdupChart=new Highcharts.Chart({colors:["#A00000","#20AA00","#20AA00"],chart:{renderTo:"burnup",type:"line"},title:{text:""},xAxis:{categories:b,labels:{align:"right",rotation:-90}},yAxis:{min:0,title:{text:a.Items}},legend:{align:"right",x:-240,verticalAlign:"top",y:0,floating:!0,borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+this.y+"<br/>"}},plotOptions:{series:{marker:{enabled:!0,symbol:"circle",radius:0,states:{hover:{enabled:!0,radius:4}}}}},series:[{name:a.Total,data:c},{name:a.Closed,data:d},{type:"spline",name:"Trend",data:e,dashStyle:"dot",marker:{enabled:!0,symbol:"circle",radius:0,states:{hover:{enabled:!0,radius:4}}}}]})},velocityChart:function(a,b,c,d){velocityChart=new Highcharts.Chart({colors:["#20AA00","#A00000"],chart:{renderTo:"velocity",type:"column"},title:{text:""},xAxis:{categories:b,labels:{align:"right",rotation:-90}},yAxis:{min:0,title:{text:a.Items},plotLines:[{value:d[0],color:"#A00000",width:3,zIndex:7,label:{text:"Velocity Average ("+d[0]+")",align:"center",style:{color:"black"}}}]},legend:{align:"right",x:-240,verticalAlign:"top",y:0,floating:!0,borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+this.y+"<br/>"}},plotOptions:{series:{marker:{enabled:!0,symbol:"circle",radius:0,states:{hover:{enabled:!0,radius:4}}}}},series:[{name:a.Closed,data:c}]})},chart:function(a,b,c){var d=[];$(c).each(function(){d.push({y:this.Second,url:this.Third})});var e="transparent";(csVars.IEVersion>=7&&csVars.IEVersion<9||csVars.IsOpera)&&(e="rgba(255,255,255,0.1)"),new Highcharts.Chart({chart:{backgroundColor:e,renderTo:"status-breakdown",type:"bar",marginLeft:100,marginRight:30},colors:["#63b6db"],title:{text:""},subtitle:{text:""},xAxis:{labels:{style:{width:"100px"}},categories:a,title:{text:null}},yAxis:{min:0,title:{text:""},labels:{enabled:!1},gridLineWidth:0},tooltip:{formatter:function(){return""+this.y}},plotOptions:{bar:{dataLabels:{enabled:!0,formatter:function(){return Math.floor(100*this.y/b)+"%"}}},series:{cursor:"pointer",point:{events:{click:function(){location.href=this.options.url}}}}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-100,y:100,floating:!0,borderWidth:1,backgroundColor:"#FFFFFF",shadow:!0,itemWidth:100},credits:{enabled:!1},exporting:{enabled:!1},series:[{data:d}]})
},minutes:function(a,b,c){return 60*(8*a+b)+c},deltaString:function(a){mins=Math.abs(a),hours=mins>=60?Math.floor(mins/60):0,mins-=60*hours,$(".days-remaining").text(gemini_progress.addLeadingZero(hours,2)+"h"+" "+gemini_progress.addLeadingZero(mins,2)+"m")},showDelta:function(a){delta=a,delta>0?$(".delta").removeClass("behind ahead").addClass("ahead"):$(".delta").removeClass("behind ahead").addClass("behind"),gemini_progress.deltaString(delta)},showDays:function(a,b,c){$(".days-est").text(gemini_progress.addLeadingZero(Math.floor(a/60),2)+"h "+gemini_progress.addLeadingZero(Math.floor(a%60),2)+"m"),$(".days-cpt").text(gemini_progress.addLeadingZero(Math.floor(b/60),2)+"h "+gemini_progress.addLeadingZero(Math.floor(b%60),2)+"m"),$(".days-excess").text(gemini_progress.addLeadingZero(Math.floor(c/60),2)+"h "+gemini_progress.addLeadingZero(Math.floor(c%60),2)+"m")},addLeadingZero:function(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c},showCompleteness:function(a){gemini_ui.tinyPercent("#statusbar .tinyProgress",Math.floor(a),"#0B0","#4c4c4c",500,0,0,50)},showGrid:function(a,b,c){gemini_filter.executeEndPoint=c,gemini_filter.executeData=function(){return $("#Sort").val()},gemini_filter.refreshTable=function(a){$("#progress-items-table").html(a),$("#items-grid").css("opacity","1")},gemini_filter.init(a),gemini_edit.initEdit(0,a,"#cs-popup","#cs-popup-content","#data",gemini_items.refreshRow),gemini_filter.gridColumnPickerInit(function(){var c="getroadmap";a==gemini_commons.PAGE_TYPE.Changelog&&(c="getchangelog"),gemini_ajax.call(csVars.ProjectUrl+"progress",c,function(a){a.Success&&($("#progress-items-table").html(a.Result.Data),gemini_filter.initDataTable())},null,{id:b})})},executeFilter:function(){$("#progress").css("opacity",.7),gemini_ajax.postCall(csVars.ProjectUrl+"progress/burndown","filter",function(a){a.success&&($("#progress").html(a.Result.Data.Data),gemini_appnav.pageCard.Options=a.Result.Data.SavedCard.Options,gemini_ui.chosen("#days"),gemini_ui.fancyInputs("#burndown-form .fancy")),$("#progress").css("opacity",1)},function(){$("#progress").css("opacity",1)},{filterForm:$("#filter-form").serialize(),days:$("#days").length>0?$("#days").val():1,itemhour:$('#progress input[name="itemhour"]:checked').val()})}},function(a){var b=a({});a.subscribe=function(){b.on.apply(b,arguments)},a.unsubscribe=function(){b.off.apply(b,arguments)},a.publish=function(){b.trigger.apply(b,arguments)}}(jQuery);var cs_colors={theme_color:"#63b6db",theme_color_secondary:"#6d9dce",theme_color_gradient:"#6d9dce",color_green:"#41a241",color_red:"#d42f2f",color_black:"#4c4c4c",color_white:"white",color_yellow:"yellow",color_orange:"#ff7700",color_text:"#4c4c4c",color_grayscale:"#4c4c4c",color_grayscale0:"#747474",color_grayscale1:"#888888",color_grayscale2:"#c4c4c4",color_grayscale3:"#e2e2e2",color_grayscale4:"whitesmoke",color_grayscale5:"#d6d6d6",color_tooltip:"#fff7b7",color_tooltip_border:"#ffec51",color_hover:"cornsilk",color_error:"#fff6f8",color_placeholder:"#eeeeee",color_password_very_weak:"#aa0033",color_password_weak:"#f5ac00",color_password_good:"#6699cc",color_password_strong:"green",color_000:"black"};