(function(ca,P){function fa(k,h){for(var f,e=[],a=0;a<k.length;++a){if(!(f=$[k[a]]))a:{f=ca;for(var b=k[a].split(/[.\/]/),c=0;c<b.length;++c){if(!f[b[c]]){f=void 0;break a}f=f[b[c]]}}if(!f)throw"module definition dependecy not found: "+k[a];e.push(f)}h.apply(null,e)}function x(k,h,f){if("string"!==typeof k)throw"invalid module definition, module id must be defined and be a string";if(h===P)throw"invalid module definition, dependencies must be specified";if(f===P)throw"invalid module definition, definition function must be specified";
fa(h,function(){$[k]=f.apply(null,arguments)})}var $={};x("tinymce/dom/Sizzle",[],function(){function k(f,e,a,b){return h.find(f,e,a,b)}if(!window.jQuery)throw Error("Load jQuery first");var h=jQuery;k.matches=function(f,e){return h(e).is(f)?e:[]};return k});x("tinymce/html/Styles",[],function(){return function(k,h){function f(a,d,b,n){function g(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+g(d)+g(b)+g(n)}var e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
b=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,d,n={},g;k=k||{};g="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(d=0;d<g.length;d++)n[g[d]]="\ufeff"+d,n["\ufeff"+d]=g[d];return{toHex:function(a){return a.replace(e,f)},parse:function(d){function g(a,d){var m,b;if(m=r[a+"-top"+d])b=r[a+"-right"+d],m==b&&(m=r[a+"-bottom"+d],b==m&&(b=r[a+"-left"+d],m==b&&(r[a+d]=b,delete r[a+"-top"+d],delete r[a+"-right"+d],delete r[a+"-bottom"+d],delete r[a+"-left"+d])))}function s(a){var d=r[a],m;if(d&&!(0>d.indexOf(" "))){d=
d.split(" ");for(m=d.length;m--;)if(d[m]!==d[0])return!1;r[a]=d[0];return!0}}function t(a,d,m,b){s(d)&&(s(m)&&s(b))&&(r[a]=r[d]+" "+r[m]+" "+r[b],delete r[d],delete r[m],delete r[b])}function q(a){h=!0;return n[a]}function p(a,d){h&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return n[a]}));d||(a=a.replace(/\\([\'\";:])/g,"$1"));return a}function u(a,d,m,b,g,n){if(g=g||n)return g=p(g),"'"+g.replace(/\'/g,"\\'")+"'";d=p(d||m||b);C&&(d=C.call(B,d,"style"));return"url('"+d.replace(/\'/g,"\\'")+"')"}var r=
{},y,m,F,h,C=k.url_converter,B=k.url_converter_scope||this;if(d){for(d=d.replace(/\\[\"\';:\uFEFF]/g,q).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,q)});y=b.exec(d);){m=y[1].replace(c,"").toLowerCase();F=y[2].replace(c,"");if(m&&0<F.length){if("font-weight"===m&&"700"===F)F="bold";else if("color"===m||"background-color"===m)F=F.toLowerCase();F=F.replace(e,f);F=F.replace(a,u);r[m]=h?p(F,!0):F}b.lastIndex=y.index+y[0].length}g("border","");g("border","-width");g("border","-color");
g("border","-style");g("padding","");g("margin","");t("border","border-width","border-style","border-color");"medium none"===r.border&&delete r.border}return r},serialize:function(a,d){function b(d){var n,c,m,e;if(n=h.styles[d])for(c=0,m=n.length;c<m;c++)d=n[c],e=a[d],void 0!==e&&0<e.length&&(g+=(0<g.length?" ":"")+d+": "+e+";")}var g="",n,c;if(d&&h&&h.styles)b("*"),b(d);else for(n in a)c=a[n],void 0!==c&&0<c.length&&(g+=(0<g.length?" ":"")+n+": "+c+";");return g}}}});x("tinymce/dom/EventUtils",[],
function(){function k(a,b,g,c){a.addEventListener?a.addEventListener(b,g,c||!1):a.attachEvent&&a.attachEvent("on"+b,g)}function h(a,b,g,c){a.removeEventListener?a.removeEventListener(b,g,c||!1):a.detachEvent&&a.detachEvent("on"+b,g)}function f(a,b){function g(){return!1}function e(){return!0}var f,s=b||{};for(f in a)"layerX"!==f&&"layerY"!==f&&(s[f]=a[f]);s.target||(s.target=s.srcElement||document);if(a&&c.test(a.type)&&void 0===a.pageX&&void 0!==a.clientX){var t=s.target.ownerDocument||document;
f=t.documentElement;t=t.body;s.pageX=a.clientX+(f&&f.scrollLeft||t&&t.scrollLeft||0)-(f&&f.clientLeft||t&&t.clientLeft||0);s.pageY=a.clientY+(f&&f.scrollTop||t&&t.scrollTop||0)-(f&&f.clientTop||t&&t.clientTop||0)}s.preventDefault=function(){s.isDefaultPrevented=e;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)};s.stopPropagation=function(){s.isPropagationStopped=e;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=
e;s.stopPropagation()};s.isDefaultPrevented||(s.isDefaultPrevented=g,s.isPropagationStopped=g,s.isImmediatePropagationStopped=g);return s}function e(a,b,g){function c(){g.domLoaded||(g.domLoaded=!0,b(q))}function e(){"complete"===t.readyState&&(h(t,"readystatechange",e),c())}function f(){try{t.documentElement.doScroll("left")}catch(a){setTimeout(f,0);return}c()}var t=a.document,q={type:"ready"};g.domLoaded?b(q):(t.addEventListener?k(a,"DOMContentLoaded",c):(k(t,"readystatechange",e),t.documentElement.doScroll&&
a===a.top&&f()),k(a,"load",c))}function a(){function a(d,b){var n,c,m,e;if(n=g[b][d.type])for(c=0,m=n.length;c<m&&((e=n[c])&&!1===e.func.call(e.scope,d)&&d.preventDefault(),!d.isImmediatePropagationStopped());c++);}var n=this,g={},c,v,s,t,q;v=b+(+new Date).toString(32);t="onmouseenter"in document.documentElement;s="onfocusin"in document.documentElement;q={mouseenter:"mouseover",mouseleave:"mouseout"};c=1;n.domLoaded=!1;n.events=g;n.bind=function(b,u,r,y){function m(m){a(f(m||L.event),F)}var F,h,C,
B,z,E,H,L=window;if(b&&3!==b.nodeType&&8!==b.nodeType){b[v]?F=b[v]:(F=c++,b[v]=F,g[F]={});y=y||b;u=u.split(" ");for(C=u.length;C--;)B=u[C],E=m,z=H=!1,"DOMContentLoaded"===B&&(B="ready"),n.domLoaded&&"ready"===B&&"complete"==b.readyState?r.call(y,f({type:B})):(t||(z=q[B])&&(E=function(m){var b,g;b=m.currentTarget;if((g=m.relatedTarget)&&b.contains)g=b.contains(g);else for(;g&&g!==b;)g=g.parentNode;g||(m=f(m||L.event),m.type="mouseout"===m.type?"mouseleave":"mouseenter",m.target=b,a(m,F))}),s||"focusin"!==
B&&"focusout"!==B||(H=!0,z="focusin"===B?"focus":"blur",E=function(m){m=f(m||L.event);m.type="focus"===m.type?"focusin":"focusout";a(m,F)}),(h=g[F][B])?"ready"===B&&n.domLoaded?r({type:B}):h.push({func:r,scope:y}):(g[F][B]=h=[{func:r,scope:y}],h.fakeName=z,h.capture=H,h.nativeHandler=E,"ready"===B?e(b,E,n):k(b,z||B,E,H)));b=h=0;return r}};n.unbind=function(a,d,b){var c,m,e,f,s,l;if(!a||3===a.nodeType||8===a.nodeType)return n;if(c=a[v]){l=g[c];if(d)for(d=d.split(" "),e=d.length;e--;){if(s=d[e],m=l[s]){if(b)for(f=
m.length;f--;)m[f].func===b&&m.splice(f,1);b&&0!==m.length||(delete l[s],h(a,m.fakeName||s,m.nativeHandler,m.capture))}}else{for(s in l)m=l[s],h(a,m.fakeName||s,m.nativeHandler,m.capture);l={}}for(s in l)return n;delete g[c];try{delete a[v]}catch(q){a[v]=null}}return n};n.fire=function(b,g,c){if(!b||3===b.nodeType||8===b.nodeType)return n;c=f(null,c);c.type=g;c.target=b;do(g=b[v])&&a(c,g),b=b.parentNode||b.ownerDocument||b.defaultView||b.parentWindow;while(b&&!c.isPropagationStopped());return n};
n.clean=function(a){var d,b,g=n.unbind;if(!a||3===a.nodeType||8===a.nodeType)return n;a[v]&&g(a);a.getElementsByTagName||(a=a.document);if(a&&a.getElementsByTagName)for(g(a),b=a.getElementsByTagName("*"),d=b.length;d--;)a=b[d],a[v]&&g(a);return n};n.destroy=function(){g={}};n.cancel=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation());return!1}}var b="mce-data-",c=/^(?:mouse|contextmenu)|click/;a.Event=new a;a.Event.bind(window,"ready",function(){});return a});x("tinymce/dom/TreeWalker",
[],function(){return function(k,h){function f(a,b,c,d){if(a){if(!d&&a[b])return a[b];if(a!=h){if(b=a[c])return b;for(a=a.parentNode;a&&a!=h;a=a.parentNode)if(b=a[c])return b}}}var e=k;this.current=function(){return e};this.next=function(a){return e=f(e,"firstChild","nextSibling",a)};this.prev=function(a){return e=f(e,"lastChild","previousSibling",a)}}});x("tinymce/util/Tools",[],function(){function k(a,b){return b?"array"==b&&c(a)?!0:typeof a==b:a!==P}function h(a,b,g){var c,e;if(!a)return 0;g=g||
a;if(a.length!==P)for(c=0,e=a.length;c<e;c++){if(!1===b.call(g,a[c],c,a))return 0}else for(c in a)if(a.hasOwnProperty(c)&&!1===b.call(g,a[c],c,a))return 0;return 1}function f(a,b){var g=[];h(a,function(a){g.push(b(a))});return g}function e(a,b,g,c){c=c||this;a&&(g&&(a=a[g]),h(a,function(a,d){if(!1===b.call(c,a,d,g))return!1;e(a,b,g,c)}))}var a=/^\s*|\s*$/g,b=function(b){return null===b||b===P?"":(""+b).replace(a,"")},c=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};
return{trim:b,isArray:c,is:k,toArray:function(a){var b=[],g,c;g=0;for(c=a.length;g<c;g++)b[g]=a[g];return b},makeMap:function(a,b,g){a=a||[];"string"==typeof a&&(a=a.split(b||","));g=g||{};for(b=a.length;b--;)g[a[b]]={};return g},each:h,map:f,grep:function(a,b){var g=[];h(a,function(a){b&&!b(a)||g.push(a)});return g},inArray:function(a,b){var g,c;if(a)for(g=0,c=a.length;g<c;g++)if(a[g]===b)return g;return-1},extend:function(a,b){var g,c,e,f=arguments,t;g=1;for(c=f.length;g<c;g++)for(e in b=f[g],b)b.hasOwnProperty(e)&&
(t=b[e],t!==P&&(a[e]=t));return a},create:function(a,b,g){var c,e,f,t,q,p=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a);f=a[3].match(/(^|\.)(\w+)$/i)[2];e=this.createNS(a[3].replace(/\.\w+$/,""),g);if(!e[f])if("static"==a[2]){if(e[f]=b,this.onCreate)this.onCreate(a[2],a[3],e[f])}else b[f]||(b[f]=function(){},p=1),e[f]=b[f],this.extend(e[f].prototype,b),a[5]&&(c=this.resolve(a[5]).prototype,t=a[5].match(/\.(\w+)$/i)[1],q=e[f],e[f]=p?function(){return c[t].apply(this,arguments)}:function(){this.parent=
c[t];return q.apply(this,arguments)},e[f].prototype[f]=e[f],this.each(c,function(a,b){e[f].prototype[b]=c[b]}),this.each(b,function(a,b){c[b]?e[f].prototype[b]=function(){this.parent=c[b];return a.apply(this,arguments)}:b!=f&&(e[f].prototype[b]=a)})),this.each(b["static"],function(a,b){e[f][b]=a})},walk:e,createNS:function(a,b){var g,c;b=b||window;a=a.split(".");for(g=0;g<a.length;g++)c=a[g],b[c]||(b[c]={}),b=b[c];return b},resolve:function(a,b){var g,c;b=b||window;a=a.split(".");g=0;for(c=a.length;g<
c&&(b=b[a[g]],b);g++);return b},explode:function(a,c){return!a||k(a,"array")?a:f(a.split(c||","),b)}}});x("tinymce/dom/Range",["tinymce/util/Tools"],function(k){function h(f){function e(a,b){l(I,a,b)}function a(a,b){l(C,a,b)}function b(a){e(a.parentNode,D(a))}function c(b){a(b.parentNode,D(b)+1)}function d(){return v(m)}function n(a,b){var m;if(3==a.nodeType||0>b)return a;for(m=a.firstChild;m&&0<b;)--b,m=m.nextSibling;return m?m:a}function g(a,b,m,g){var d,c;if(a==m)return b==g?0:b<g?-1:1;for(d=m;d&&
d.parentNode!=a;)d=d.parentNode;if(d){c=0;for(m=a.firstChild;m!=d&&c<b;)c++,m=m.nextSibling;return b<=c?-1:1}for(d=a;d&&d.parentNode!=m;)d=d.parentNode;if(d){c=0;for(m=m.firstChild;m!=d&&c<g;)c++,m=m.nextSibling;return c<g?-1:1}for(b=f.findCommonAncestor(a,m);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(g=m;g&&g.parentNode!=b;)g=g.parentNode;g||(g=b);if(a==g)return 0;for(m=b.firstChild;m;){if(m==a)return-1;if(m==g)return 1;m=m.nextSibling}}function l(a,b,m){a?(r[z]=b,r[B]=m):(r[E]=b,r[H]=m);for(b=
r[E];b.parentNode;)b=b.parentNode;for(m=r[z];m.parentNode;)m=m.parentNode;m==b?0<g(r[z],r[B],r[E],r[H])&&r.collapse(a):r.collapse(a);r.collapsed=r[z]==r[E]&&r[B]==r[H];r.commonAncestorContainer=f.findCommonAncestor(r[z],r[E])}function v(a){var b,g=0,d=0,c;if(r[z]==r[E])return s(a);b=r[E];for(c=b.parentNode;c;b=c,c=c.parentNode){if(c==r[z]){var e=b;c=d=g=g=c=b=void 0;a!=F&&(b=y.createDocumentFragment());c=t(e,a);b&&b.appendChild(c);g=D(e);g-=r[B];if(!(0>=g))for(c=e.previousSibling;0<g;)d=c.previousSibling,
c=u(c,a),b&&b.insertBefore(c,b.firstChild),--g,c=d;a!=m&&(r.setEndBefore(e),r.collapse(C));a=b;return a}++g}b=r[z];for(c=b.parentNode;c;b=c,c=c.parentNode){if(c==r[E]){e=b;c=d=g=c=g=b=void 0;a!=F&&(b=y.createDocumentFragment());c=q(e,a);b&&b.appendChild(c);g=D(e);++g;g=r[H]-g;for(c=e.nextSibling;c&&0<g;)d=c.nextSibling,c=u(c,a),b&&b.appendChild(c),--g,c=d;a!=m&&(r.setStartAfter(e),r.collapse(I));return b}++d}d-=g;for(b=r[z];0<d;)b=b.parentNode,d--;for(g=r[E];0>d;)g=g.parentNode,d++;d=b.parentNode;
for(c=g.parentNode;d!=c;d=d.parentNode,c=c.parentNode)b=d,g=c;var f;a!=F&&(e=y.createDocumentFragment());f=q(b,a);e&&e.appendChild(f);d=D(b);c=D(g);++d;d=c-d;for(f=b.nextSibling;0<d;)c=f.nextSibling,f=u(f,a),e&&e.appendChild(f),f=c,--d;f=t(g,a);e&&e.appendChild(f);a!=m&&(r.setStartAfter(b),r.collapse(I));return e}function s(a){var b,g,c,d,e;a!=F&&(b=y.createDocumentFragment());if(r[B]==r[H])return b;if(3==r[z].nodeType){g=r[z].nodeValue;c=g.substring(r[B],r[H]);a!=m&&(g=r[z],d=r[B],e=r[H]-r[B],0===
d&&e>=g.nodeValue.length-1?g.parentNode.removeChild(g):g.deleteData(d,e),r.collapse(I));if(a==F)return;0<c.length&&b.appendChild(y.createTextNode(c));return b}g=n(r[z],r[B]);for(c=r[H]-r[B];g&&0<c;)d=g.nextSibling,g=u(g,a),b&&b.appendChild(g),--c,g=d;a!=m&&r.collapse(I);return b}function t(a,b){var m=n(r[E],r[H]-1),g,c,d,e=m!=r[E];if(m==a)return p(m,e,C,b);g=m.parentNode;for(c=p(g,C,C,b);g;){for(;m;)d=m.previousSibling,m=p(m,e,C,b),b!=F&&c.insertBefore(m,c.firstChild),e=I,m=d;if(g==a)return c;m=g.previousSibling;
g=g.parentNode;d=p(g,C,C,b);b!=F&&d.appendChild(c);c=d}}function q(a,b){var m=n(r[z],r[B]),g=m!=r[z],c,d,e;if(m==a)return p(m,g,I,b);c=m.parentNode;for(d=p(c,C,I,b);c;){for(;m;)e=m.nextSibling,m=p(m,g,I,b),b!=F&&d.appendChild(m),g=I,m=e;if(c==a)return d;m=c.nextSibling;c=c.parentNode;e=p(c,C,I,b);b!=F&&e.appendChild(d);d=e}}function p(a,b,g,c){var d;if(b)return u(a,c);if(3==a.nodeType){b=a.nodeValue;g?(d=r[B],g=b.substring(d),b=b.substring(0,d)):(d=r[H],g=b.substring(0,d),b=b.substring(d));c!=m&&
(a.nodeValue=b);if(c==F)return;a=f.clone(a,C);a.nodeValue=g;return a}if(c!=F)return f.clone(a,C)}function u(a,b){if(b!=F)return b==m?f.clone(a,I):a;a.parentNode.removeChild(a)}var r=this,y=f.doc,m=1,F=2,I=!0,C=!1,B="startOffset",z="startContainer",E="endContainer",H="endOffset",L=k.extend,D=f.nodeIndex;L(r,{startContainer:y,startOffset:0,endContainer:y,endOffset:0,collapsed:I,commonAncestorContainer:y,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:e,setEnd:a,setStartBefore:b,
setStartAfter:function(a){e(a.parentNode,D(a)+1)},setEndBefore:function(b){a(b.parentNode,D(b))},setEndAfter:c,collapse:function(a){a?(r[E]=r[z],r[H]=r[B]):(r[z]=r[E],r[B]=r[H]);r.collapsed=I},selectNode:function(a){b(a);c(a)},selectNodeContents:function(b){e(b,0);a(b,1===b.nodeType?b.childNodes.length:b.nodeValue.length)},compareBoundaryPoints:function(a,b){var m=r[z],c=r[B],d=r[E],e=r[H],f=b.startContainer,n=b.startOffset,s=b.endContainer,l=b.endOffset;if(0===a)return g(m,c,f,n);if(1===a)return g(d,
e,f,n);if(2===a)return g(d,e,s,l);if(3===a)return g(m,c,s,l)},deleteContents:function(){v(F)},extractContents:function(){return v(0)},cloneContents:d,insertNode:function(a){var b=this[z],m=this[B],g;3!==b.nodeType&&4!==b.nodeType||!b.nodeValue?(0<b.childNodes.length&&(g=b.childNodes[m]),g?b.insertBefore(a,g):b.appendChild(a)):m?m>=b.nodeValue.length?f.insertAfter(a,b):(m=b.splitText(m),b.parentNode.insertBefore(a,m)):b.parentNode.insertBefore(a,b)},surroundContents:function(a){var b=r.extractContents();
r.insertNode(a);a.appendChild(b);r.selectNode(a)},cloneRange:function(){return L(new h(f),{startContainer:r[z],startOffset:r[B],endContainer:r[E],endOffset:r[H],collapsed:r.collapsed,commonAncestorContainer:r.commonAncestorContainer})},toStringIE:function(){return f.create("body",null,d()).outerText}});return r}h.prototype.toString=function(){return this.toStringIE()};return h});x("tinymce/html/Entities",["tinymce/util/Tools"],function(k){function h(b,g){var c,d,e,f={};if(b){b=b.split(",");g=g||10;
for(c=0;c<b.length;c+=2)d=String.fromCharCode(parseInt(b[c],g)),a[d]||(e="&"+b[c+1]+";",f[d]=e,f[e]=d);return f}}var f=k.makeMap,e,a,b,c=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n=/[<>&\"\']/g,g=/&(#x|#)?([\w]+);/g,l={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",
147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};a={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};b={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};e=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var v={encodeRaw:function(b,g){return b.replace(g?c:d,function(b){return a[b]||b})},encodeAllRaw:function(b){return(""+b).replace(n,function(b){return a[b]||b})},encodeNumeric:function(b,g){return b.replace(g?c:d,function(b){return 1<b.length?"&#"+(1024*(b.charCodeAt(0)-55296)+(b.charCodeAt(1)-56320)+65536)+";":a[b]||"&#"+b.charCodeAt(0)+";"})},encodeNamed:function(b,g,f){f=f||e;return b.replace(g?c:d,function(b){return a[b]||f[b]||b})},getEncodeFunc:function(b,g){function n(b,e){return b.replace(e?
c:d,function(b){return a[b]||g[b]||"&#"+b.charCodeAt(0)+";"||b})}function l(a,b){return v.encodeNamed(a,b,g)}g=h(g)||e;b=f(b.replace(/\+/g,","));return b.named&&b.numeric?n:b.named?g?l:v.encodeNamed:b.numeric?v.encodeNumeric:v.encodeRaw},decode:function(a){return a.replace(g,function(a,g,c){if(g)return c=parseInt(c,2===g.length?16:10),65535<c?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(c&1023))):l[c]||String.fromCharCode(c);(g=b[a])||(g=e[a])||(g=document.createElement("div"),g.innerHTML=a,
g=g.textContent||g.innerText||a);return g})}};return v});x("tinymce/Env",[],function(){var k=navigator,h=k.userAgent,f,e,a,b,c;f=window.opera&&window.opera.buildNumber;e=/WebKit/.test(h);k=(k=!e&&!f&&/MSIE/gi.test(h)&&/Explorer/gi.test(k.appName))&&/MSIE (\w+)\./.exec(h)[1];a=!e&&/Gecko/.test(h);b=-1!=h.indexOf("Mac");c=/(iPad|iPhone)/.test(h);h=!c||534<=h.match(/AppleWebKit\/(\d*)/)[1];return{opera:f,webkit:e,ie:k,gecko:a,mac:b,iOS:c,contentEditable:h,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
caretAfter:8!=k,range:window.getSelection&&"Range"in window,documentMode:k?document.documentMode||7:10}});x("tinymce/dom/DOMUtils","tinymce/dom/Sizzle tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools".split(" "),function(k,h,f,e,a,b,c,d){function n(a,b){var g;this.doc=a;this.win=window;this.files={};this.counter=0;this.stdMode=!p||8<=a.documentMode;this.boxModel=!p||"CSS1Compat"==a.compatMode||this.stdMode;this.hasOuterHTML=
"outerHTML"in a.createElement("a");this.settings=b=t({keep_values:!1,hex_colors:1},b);this.schema=b.schema;this.styles=new h({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);this.fixDoc(a);this.events=b.ownEvents?new f(b.proxy):f.Event;g=b.schema?b.schema.getBlockElements():{};this.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!g[a.nodeName]):!!g[a]}}var g=d.each,l=d.is,v=d.grep,s=d.trim,t=d.extend,q=c.webkit,p=c.ie,u=/^([a-z0-9],?)+$/i,r=
/^[ \t\r\n]*$/,y=d.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");n.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(a){var b=this.settings,g;if(p&&b.schema)for(g in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,
function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(g)},clone:function(a,b){var c=this,d,e;if(!p||1!==a.nodeType||b)return a.cloneNode(b);e=c.doc;return b?d.firstChild:(d=e.createElement(a.nodeName),g(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),d)},getRoot:function(){return this.get(this.settings.root_element)||this.doc.body},getViewPort:function(a){var b;a=a?a:this.win;b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||
b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(a){var b;a=this.get(a);b=this.getPos(a);a=this.getSize(a);return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){var b,g;a=this.get(a);b=this.getStyle(a,"width");g=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===g.indexOf("px")&&(g=0);return{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(g,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,g){return this.getParents(a,
b,g,!1)},getParents:function(a,b,g,c){var d=this,e,f=[];a=d.get(a);c=c===P;g=g||("BODY"!=d.getRoot().nodeName?d.getRoot().parentNode:null);l(b,"string")&&(e=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return d.is(a,e)});for(;a&&a!=g&&a.nodeType&&9!==a.nodeType;){if(!b||b(a))if(c)f.push(a);else return a;a=a.parentNode}return c?f:null},get:function(a){var b;return a&&(this.doc&&"string"==typeof a)&&(b=a,(a=this.doc.getElementById(a))&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,
b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return k(a,this.get(b)||this.get(this.settings.root_element)||this.doc,[])},is:function(a,b){var g;if(a.length===P){if("*"===b)return 1==a.nodeType;if(u.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(g=b.length-1;0<=g;g--)if(b[g]==a)return!0;return!1}}return a.nodeType&&1!=a.nodeType?!1:0<k.matches(b,a.nodeType?[a]:a).length},add:function(a,b,g,
c,d){var e=this;return this.run(a,function(a){var m;m=l(b,"string")?e.doc.createElement(b):b;e.setAttribs(m,g);c&&(c.nodeType?m.appendChild(c):e.setHTML(m,c));return d?m:a.appendChild(m)})},create:function(a,b,g){return this.add(this.doc.createElement(a),a,b,g,1)},createHTML:function(a,b,g){var c,d;c="<"+a;for(d in b)b.hasOwnProperty(d)&&null!==b[d]&&(c+=" "+d+'="'+this.encode(b[d])+'"');return"undefined"!=typeof g?c+">"+g+"</"+a+">":c+" />"},createFragment:function(a){var b;b=this.doc;var g;g=b.createElement("div");
b=b.createDocumentFragment();a&&(g.innerHTML=a);for(;a=g.firstChild;)b.appendChild(a);return b},remove:function(a,b){return this.run(a,function(a){var g,c=a.parentNode;if(!c)return null;if(b)for(;g=a.firstChild;)!p||3!==g.nodeType||g.nodeValue?c.insertBefore(g,a):a.removeChild(g);return c.removeChild(a)})},setStyle:function(a,b,g){return this.run(a,function(a){var c;if(b)if("string"===typeof b){c=a.style;b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"number"!==typeof g||y[b]||(g+="px");
"opacity"===b&&(a.runtimeStyle&&"undefined"===typeof a.runtimeStyle.opacity)&&(c.filter=""===g?"":"alpha(opacity="+100*g+")");"float"==b&&(b="cssFloat"in a.style?"cssFloat":"styleFloat");try{c[b]=g}catch(d){}this.settings.update_styles&&a.removeAttribute("data-mce-style")}else for(c in b)this.setStyle(a,c,b[c])})},getStyle:function(a,b,g){if(a=this.get(a)){if(this.doc.defaultView&&g){b=b.replace(/[A-Z]/g,function(a){return"-"+a});try{return this.doc.defaultView.getComputedStyle(a,null).getPropertyValue(b)}catch(c){return null}}b=
b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==b&&(b=p?"styleFloat":"cssFloat");return b.currentStyle&&g?a.currentStyle[b]:a.style?a.style[b]:P}},setStyles:function(a,b){this.setStyle(a,b)},css:function(a,b,g){this.setStyle(a,b,g)},removeAllAttribs:function(a){return this.run(a,function(a){var b,g=a.attributes;for(b=g.length-1;0<=b;b--)a.removeAttributeNode(g.item(b))})},setAttrib:function(a,b,c){var d=this;if(a&&b)return this.run(a,function(a){var m=d.settings,e=a.getAttribute(b);
if(null!==c)switch(b){case "style":if(!l(c,"string")){g(c,function(b,g){d.setStyle(a,g,b)});return}m.keep_values&&(c?a.setAttribute("data-mce-style",c,2):a.removeAttribute("data-mce-style",2));a.style.cssText=c;break;case "class":a.className=c||"";break;case "src":case "href":m.keep_values&&(m.url_converter&&(c=m.url_converter.call(m.url_converter_scope||d,c,b,a)),d.setAttrib(a,"data-mce-"+b,c,2));break;case "shape":a.setAttribute("data-mce-style",c)}l(c)&&null!==c&&0!==c.length?a.setAttribute(b,
""+c,2):a.removeAttribute(b,2);if(e!=c&&m.onSetAttrib)m.onSetAttrib({attrElm:a,attrName:b,attrValue:c})})},setAttribs:function(a,b){var c=this;return this.run(a,function(a){g(b,function(b,g){c.setAttrib(a,g,b)})})},getAttrib:function(a,b,g){var c;a=this.get(a);if(!a||1!==a.nodeType)return void 0===g?!1:g;l(g)||(g="");if(/^(src|href|style|coords|shape)$/.test(b)&&(c=a.getAttribute("data-mce-"+b)))return c;p&&this.props[b]&&(c=(c=a[this.props[b]])&&c.nodeValue?c.nodeValue:c);c||(c=a.getAttribute(b,
2));if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b))return!0===a[this.props[b]]&&""===c?b:c?b:"";if("FORM"===a.nodeName&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;"style"===b&&(c=c||a.style.cssText)&&(c=this.serializeStyle(this.parseStyle(c),a.nodeName),this.settings.keep_values&&a.setAttribute("data-mce-style",c));q&&("class"===b&&c)&&(c=c.replace(/(apple|webkit)\-[a-z\-]+/gi,""));if(p)switch(b){case "rowspan":case "colspan":1===
c&&(c="");break;case "size":if("+0"===c||20===c||0===c)c="";break;case "width":case "height":case "vspace":case "checked":case "disabled":case "readonly":0===c&&(c="");break;case "hspace":-1===c&&(c="");break;case "maxlength":case "tabindex":if(32768===c||2147483647===c||"32768"===c)c="";break;case "multiple":case "compact":case "noshade":case "nowrap":return 65535===c?b:g;case "shape":c=c.toLowerCase();break;default:0===b.indexOf("on")&&c&&(c=(""+c).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,
"$1"))}return void 0!==c&&null!==c&&""!==c?""+c:g},getPos:function(a,b){var c=0,g=0,d;d=this.doc;a=this.get(a);b=b||d.body;if(a){if(b===d.body&&a.getBoundingClientRect)return g=a.getBoundingClientRect(),b=this.boxModel?d.documentElement:d.body,c=g.left+(d.documentElement.scrollLeft||d.body.scrollLeft)-b.clientTop,g=g.top+(d.documentElement.scrollTop||d.body.scrollTop)-b.clientLeft,{x:c,y:g};for(d=a;d&&d!=b&&d.nodeType;)c+=d.offsetLeft||0,g+=d.offsetTop||0,d=d.offsetParent;for(d=a.parentNode;d&&d!=
b&&d.nodeType;)c-=d.scrollLeft||0,g-=d.scrollTop||0,d=d.parentNode}return{x:c,y:g}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc,c,g;if(this!==n.DOM&&b===document){c=(c=n.DOM.addedStyles)||[];if(c[a])return;c[a]=!0;n.DOM.addedStyles=c}g=b.getElementById("mceDefaultStyles");g||(g=b.createElement("style"),g.id="mceDefaultStyles",g.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?
c.insertBefore(g,c.firstChild):c.appendChild(g));g.styleSheet?g.styleSheet.cssText+=a:g.appendChild(b.createTextNode(a))},loadCSS:function(a){var b=this,c=b.doc,d;b!==n.DOM&&c===document?n.DOM.loadCSS(a):(a||(a=""),d=c.getElementsByTagName("head")[0],g(a.split(","),function(a){var g;b.files[a]||(b.files[a]=!0,g=b.create("link",{rel:"stylesheet",href:a}),p&&(c.documentMode&&c.recalc)&&(g.onload=function(){c.recalc&&c.recalc();g.onload=null}),d.appendChild(g))}))},addClass:function(a,b){return this.run(a,
function(a){var c;if(!b)return 0;if(this.hasClass(a,b))return a.className;c=this.removeClass(a,b);return a.className=c=(""!==c?c+" ":"")+b})},removeClass:function(a,b){var c=this,g;return c.run(a,function(a){var d;return c.hasClass(a,b)?(g||(g=RegExp("(^|\\s+)"+b+"(\\s+|$)","g")),d=a.className.replace(g," "),d=s(" "!=d?d:""),a.className=d,d||(a.removeAttribute("class"),a.removeAttribute("className")),d):a.className})},hasClass:function(a,b){return(a=this.get(a))&&b?-1!==(" "+a.className+" ").indexOf(" "+
b+" "):!1},toggleClass:function(a,b,c){c=c===P?!this.hasClass(a,b):c;this.hasClass(a,b)!==c&&(c?this.addClass(a,b):this.removeClass(a,b))},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){a=this.get(a);return!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){var c=this;return c.run(a,function(a){if(p){for(;a.firstChild;)a.removeChild(a.firstChild);
try{a.innerHTML="<br />"+b,a.removeChild(a.firstChild)}catch(d){var e=c.create("div");e.innerHTML="<br />"+b;g(v(e.childNodes),function(b,c){c&&a.canHaveHTML&&a.appendChild(b)})}}else a.innerHTML=b;return b})},getOuterHTML:function(a){var b;a=this.get(a);if(!a)return null;if(1===a.nodeType&&this.hasOuterHTML)return a.outerHTML;b=(a.ownerDocument||this.doc).createElement("body");b.appendChild(a.cloneNode(!0));return b.innerHTML},setOuterHTML:function(a,b,c){var g=this;return g.run(a,function(a){function d(){var e;
e=c.createElement("body");e.innerHTML=b;for(e=e.lastChild;e;)g.insertAfter(e.cloneNode(!0),a),e=e.previousSibling;g.remove(a)}if(1==a.nodeType)if(c=c||a.ownerDocument||g.doc,p)try{1==a.nodeType&&g.hasOuterHTML?a.outerHTML=b:d()}catch(e){d()}else d()})},decode:b.decode,encode:b.encodeAllRaw,insertAfter:function(a,b){b=this.get(b);return this.run(a,function(a){var c,g;c=b.parentNode;(g=b.nextSibling)?c.insertBefore(a,g):c.appendChild(a);return a})},replace:function(a,b,c){return this.run(b,function(b){l(b,
"array")&&(a=a.cloneNode(!0));c&&g(v(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,b)})},rename:function(a,b){var c=this,d;a.nodeName!=b.toUpperCase()&&(d=c.create(b),g(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),c.replace(d,a,1));return d||a},findCommonAncestor:function(a,b){for(var c=a,g;c;){for(g=b;g&&c!=g;)g=g.parentNode;if(c==g)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){return this.styles.toHex(d.trim(a))},
getClasses:function(){function a(f){g(f.imports,function(b){a(b)});g(f.cssRules||f.rules,function(f){switch(f.type||1){case 1:f.selectorText&&g(f.selectorText.split(","),function(a){a=a.replace(/^\s*|\s*$|^\s\./g,"");!/\.mce/.test(a)&&/\.[\w\-]+$/.test(a)&&(e=a,a=a.replace(/.*\.([a-z0-9_\-]+).*/i,"$1"),d&&!(a=d(a,e))||c[a]||(b.push({"class":a}),c[a]=1))});break;case 3:a(f.styleSheet)}})}var b=[],c={},d=this.settings.class_filter,e;if(this.classes)return this.classes;try{g(this.doc.styleSheets,a)}catch(f){}0<
b.length&&(this.classes=b);return b},run:function(a,b,c){var d=this,e;"string"===typeof a&&(a=d.get(a));if(!a)return!1;c=c||this;return a.nodeType||!a.length&&0!==a.length?b.call(c,a):(e=[],g(a,function(a,g){a&&("string"==typeof a&&(a=d.get(a)),e.push(b.call(c,a,g)))}),e)},getAttribs:function(a){var b;a=this.get(a);if(!a)return[];if(p){b=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,
"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})});return b}return a.attributes},isEmpty:function(a,b){var c,g,d,f,n=0;if(a=a.firstChild){d=new e(a,a.parentNode);b=b||this.schema?this.schema.getNonEmptyElements():null;do{g=a.nodeType;if(1===g){if(a.getAttribute("data-mce-bogus"))continue;f=a.nodeName.toLowerCase();if(b&&b[f]){if("br"===f){n++;continue}return!1}this.getAttribs(a);for(c=a.attributes.length;c--;)if(f=a.attributes[c].nodeName,"name"===f||"data-mce-bookmark"===f)return!1}if(8==
g||3===g&&!r.test(a.nodeValue))return!1}while(a=d.next())}return 1>=n},createRng:function(){var b=this.doc;return b.createRange?b.createRange():new a(this)},nodeIndex:function(a,b){var c=0,g,d;if(a)for(g=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)if(d=a.nodeType,!b||3!=d||d!=g&&a.nodeValue.length)c++,g=d;return c},split:function(a,b,c){function g(a){var b,c=a.childNodes,e=a.nodeType;if(1!=e||"bookmark"!=a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)g(c[b]);if(9!=e){if(3==e&&
0<a.nodeValue.length){b=s(a.nodeValue).length;if(!(c=!d.isBlock(a.parentNode))&&!(c=0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==e&&(c=a.childNodes,1==c.length&&(c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type"))&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;d.remove(a)}return a}}var d=this,e=d.createRng(),f,n;if(a&&b)return e.setStart(a.parentNode,
d.nodeIndex(a)),e.setEnd(b.parentNode,d.nodeIndex(b)),f=e.extractContents(),e=d.createRng(),e.setStart(b.parentNode,d.nodeIndex(b)+1),e.setEnd(a.parentNode,d.nodeIndex(a)+1),e=e.extractContents(),n=a.parentNode,n.insertBefore(g(f),a),c?n.replaceChild(c,b):n.insertBefore(b,a),n.insertBefore(g(e),a),d.remove(a),c||b},bind:function(a,b,c,g){return this.events.bind(a,b,c,g||this)},unbind:function(a,b,c){return this.events.unbind(a,b,c)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;
return 1!=a.nodeType?null:(b=a.getAttribute("data-mce-contenteditable"))&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null},destroy:function(){this.win=this.doc=this.root=this.events=this.frag=null},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,c){var g=this,d=b;if(a)for("string"==typeof d&&(d=function(a){return g.is(a,b)}),a=a[c];a;a=
a[c])if(d(a))return a;return null}};n.DOM=new n(document);return n});x("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(k,h){function f(){function c(a,b){function c(){g.remove(f);d&&(d.onreadystatechange=d.onload=d=null);b()}var g=e,d,f;f=g.uniqueId();d=document.createElement("script");d.id=f;d.type="text/javascript";d.src=a;"onreadystatechange"in d?d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&c()}:d.onload=c;d.onerror=function(){"undefined"!==
typeof console&&console.log&&console.log("Failed to load: "+a)};(document.getElementsByTagName("head")[0]||document.body).appendChild(d)}var d={},f=[],g={},l=[],v=0;this.isDone=function(a){return 2==d[a]};this.markDone=function(a){d[a]=2};this.add=this.load=function(a,b,c){void 0==d[a]&&(f.push(a),d[a]=0);b&&(g[a]||(g[a]=[]),g[a].push({func:b,scope:c||this}))};this.loadQueue=function(a,b){this.loadScripts(f,a,b)};this.loadScripts=function(e,f,n){function p(b){a(g[b],function(a){a.func.call(a.scope)});
g[b]=void 0}var u;l.push({func:f,scope:n||this});u=function(){var g=b(e);e.length=0;a(g,function(a){2==d[a]?p(a):1!=d[a]&&(d[a]=1,v++,c(a,function(){d[a]=2;v--;p(a);u()}))});v||(a(l,function(a){a.func.call(a.scope)}),l.length=0)};u()}}var e=k.DOM,a=h.each,b=h.grep;f.ScriptLoader=new f;return f});x("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(k,h){function f(){this.items=[];this.urls={};this.lookup={}}var e=h.each;f.prototype={get:function(a){return this.lookup[a]?
this.lookup[a].instance:P},dependencies:function(a){var b;this.lookup[a]&&(b=this.lookup[a].dependencies);return b||[]},requireLangPack:function(a){var b=f.settings;b&&(b.language&&!1!==b.language_load)&&k.ScriptLoader.add(this.urls[a]+"/langs/"+b.language+".js")},add:function(a,b,c){this.items.push(b);this.lookup[a]={instance:b,dependencies:c};return b},createUrl:function(a,b){return"object"===typeof b?b:{prefix:a.prefix,resource:b,suffix:a.suffix}},addComponents:function(a,b){var c=this.urls[a];
e(b,function(a){k.ScriptLoader.add(c+"/"+a)})},load:function(a,b,c,d){function n(){var f=g.dependencies(a);e(f,function(a){a=g.createUrl(b,a);g.load(a.resource,a,P,P)});c&&(d?c.call(d):c.call(k))}var g=this,l=b;g.urls[a]||("object"===typeof b&&(l=b.prefix+b.resource+b.suffix),0!==l.indexOf("/")&&-1==l.indexOf("://")&&(l=f.baseURL+"/"+l),g.urls[a]=l.substring(0,l.lastIndexOf("/")),g.lookup[a]?n():k.ScriptLoader.add(l,n,d))}};f.PluginManager=new f;f.ThemeManager=new f;return f});x("tinymce/html/Node",
[],function(){function k(a,b,c){var d;d=c?"lastChild":"firstChild";c=c?"prev":"next";if(a[d])return a[d];if(a!==b){if(d=a[c])return d;for(a=a.parent;a&&a!==b;a=a.parent)if(d=a[c])return d}}function h(a,b){this.name=a;this.type=b;1===b&&(this.attributes=[],this.attributes.map={})}var f=/^[ \t\r\n]*$/,e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};h.prototype={replace:function(a){a.parent&&a.remove();this.insert(a,this);this.remove();return this},attr:function(a,
b){var c,d;if("string"!==typeof a){for(d in a)this.attr(d,a[d]);return this}if(c=this.attributes){if(void 0!==b){if(null===b){if(a in c.map)for(delete c.map[a],d=c.length;d--;)if(c[d].name===a){c.splice(d,1);break}return this}if(a in c.map)for(d=c.length;d--;){if(c[d].name===a){c[d].value=b;break}}else c.push({name:a,value:b});c.map[a]=b;return this}return c.map[a]}},clone:function(){var a=new h(this.name,this.type),b,c,d,e,g;if(d=this.attributes){g=[];g.map={};b=0;for(c=d.length;b<c;b++)e=d[b],"id"!==
e.name&&(g[g.length]={name:e.name,value:e.value},g.map[e.name]=e.value);a.attributes=g}a.value=this.value;a.shortEnded=this.shortEnded;return a},wrap:function(a){this.parent.insert(a,this);a.append(this);return this},unwrap:function(){var a,b;for(a=this.firstChild;a;)b=a.next,this.insert(a,this,!0),a=b;this.remove()},remove:function(){var a=this.parent,b=this.next,c=this.prev;if(a){if(a.firstChild===this){if(a.firstChild=b)b.prev=null}else c.next=b;if(a.lastChild===this){if(a.lastChild=c)c.next=null}else b.prev=
c;this.parent=this.next=this.prev=null}return this},append:function(a){var b;a.parent&&a.remove();(b=this.lastChild)?(b.next=a,a.prev=b,this.lastChild=a):this.lastChild=this.firstChild=a;a.parent=this;return a},insert:function(a,b,c){var d;a.parent&&a.remove();d=b.parent||this;c?(b===d.firstChild?d.firstChild=a:b.prev.next=a,a.prev=b.prev,a.next=b,b.prev=a):(b===d.lastChild?d.lastChild=a:b.next.prev=a,a.next=b.next,a.prev=b,b.next=a);a.parent=d;return a},getAll:function(a){var b,c=[];for(b=this.firstChild;b;b=
k(b,this))b.name===a&&c.push(b);return c},empty:function(){var a,b,c;if(this.firstChild){a=[];for(c=this.firstChild;c;c=k(c,this))a.push(c);for(b=a.length;b--;)c=a[b],c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(a){var b=this.firstChild,c,d;if(b){do{if(1===b.type){if(b.attributes.map["data-mce-bogus"])continue;if(a[b.name])return!1;for(c=b.attributes.length;c--;)if(d=b.attributes[c].name,"name"===d||0===d.indexOf("data-mce-"))return!1}if(8===
b.type||3===b.type&&!f.test(b.value))return!1}while(b=k(b,this))}return!0},walk:function(a){return k(this,null,a)}};h.create=function(a,b){var c,d;c=new h(a,e[a]||1);if(b)for(d in b)c.attr(d,b[d]);return c};return h});x("tinymce/html/Schema",["tinymce/util/Tools"],function(k){function h(a,b){return a?a.split(b||" "):[]}function f(a){function c(a,b,g){function d(a){var b={},c,g;c=0;for(g=a.length;c<g;c++)b[a[c]]={};return b}var e,v;v=arguments;g=g||[];b=b||"";"string"===typeof g&&(g=h(g));for(e=3;e<
v.length;e++)"string"===typeof v[e]&&(v[e]=h(v[e])),g.push.apply(g,v[e]);a=h(a);for(e=a.length;e--;)v=[].concat(n,h(b)),f[a[e]]={attributes:d(v),attributesOrder:v,children:d(g)}}function d(a,b){var c,g,e,n;a=h(a);c=a.length;for(b=h(b);c--;)for(g=f[a[c]],e=0,n=b.length;e<n;e++)g.attributes[b[e]]={},g.attributesOrder.push(b[e])}var f={},n,q,p,u,r;if(e[a])return e[a];n=h("id accesskey class dir lang style tabindex title");h("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting");
q=h("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");p=h("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment");"html4"!=a&&(n.push.apply(n,h("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),q.push.apply(q,h("article aside details dialog figure header footer hgroup section nav")),p.push.apply(p,h("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen")));
"html5-strict"!=a&&(n.push("xml:lang"),r=h("acronym applet basefont big font strike tt"),p.push.apply(p,r),b(r,function(a){c(a,"",p)}),r=h("center dir isindex noframes"),q.push.apply(q,r),u=[].concat(q,p),b(r,function(a){c(a,"",u)}));u=u||[].concat(q,p);c("html","manifest","head body");c("head","","base command link meta noscript script style title");c("title hr noscript br");c("base","href target");c("link","href rel media hreflang type sizes hreflang");c("meta","name http-equiv content charset");
c("style","media type scoped");c("script","src async defer type charset");c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u);c("address dt dd div caption","",u);c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",p);c("blockquote","cite",u);c("ol","reversed start type","li");c("ul","","li");c("li",
"value",u);c("dl","","dt dd");c("a","href target rel media hreflang type",p);c("q","cite",p);c("ins del","cite datetime",u);c("img","src alt usemap ismap width height");c("iframe","src name width height",u);c("embed","src type width height");c("object","data type typemustmatch name usemap form width height",u,"param");c("param","name value");c("map","name",u,"area");c("area","alt coords shape href target rel media hreflang type");c("table","border","caption colgroup thead tfoot tbody tr"+("html4"==
a?" col":""));c("colgroup","span","col");c("col","span");c("tbody thead tfoot","","tr");c("tr","","td th");c("td","colspan rowspan headers",u);c("th","colspan rowspan headers scope abbr",u);c("form","accept-charset action autocomplete enctype method name novalidate target",u);c("fieldset","disabled form name",u,"legend");c("label","form for",p);c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");
c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==a?u:p);c("select","disabled form multiple name required size","option optgroup");c("optgroup","disabled label","option");c("option","disabled label selected value");c("textarea","cols dirname disabled form maxlength name readonly required rows wrap");c("menu","type label",u,"li");c("noscript","",u);"html4"!=a&&(c("wbr"),c("ruby","",p,"rt rp"),c("figcaption","",u),c("mark rt rp summary bdi",
"",p),c("canvas","width height",u),c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",u,"track source"),c("audio","src crossorigin preload autoplay mediagroup loop muted controls",u,"track source"),c("source","src type media"),c("track","kind src srclang label default"),c("datalist","",p,"option"),c("article section nav aside header footer","",u),c("hgroup","","h1 h2 h3 h4 h5 h6"),c("figure","",u,"figcaption"),c("time","datetime",p),c("dialog","open",u),
c("command","type label icon disabled checked radiogroup command"),c("output","for form name",p),c("progress","value max",p),c("meter","value min max low high optimum",p),c("details","open",u,"summary"),c("keygen","autofocus challenge disabled form keytype name"));"html5-strict"!=a&&(d("script","language xml:space"),d("style","xml:space"),d("object","declare classid codebase codetype archive standby align border hspace vspace"),d("param","valuetype type"),d("a","charset name rev shape coords"),d("br",
"clear"),d("applet","codebase archive code object alt name width height align hspace vspace"),d("img","name longdesc align border hspace vspace"),d("iframe","longdesc frameborder marginwidth marginheight scrolling align"),d("font basefont","size color face"),d("input","usemap align"),d("select","onchange"),d("textarea"),d("h1 h2 h3 h4 h5 h6 div p legend caption","align"),d("ul","type compact"),d("li","type"),d("ol dl menu dir","compact"),d("pre","width xml:space"),d("hr","align noshade size width"),
d("isindex","prompt"),d("table","summary width frame rules cellspacing cellpadding align bgcolor"),d("col","width align char charoff valign"),d("colgroup","width align char charoff valign"),d("thead","align char charoff valign"),d("tr","align char charoff valign bgcolor"),d("th","axis align char charoff valign nowrap bgcolor width height"),d("form","accept"),d("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),d("tfoot","align char charoff valign"),d("tbody","align char charoff valign"),
d("area","nohref"),d("body","background bgcolor text link vlink alink"));"html4"!=a&&(d("input button select textarea","autofocus"),d("input textarea","placeholder"),d("a","download"),d("link script img","crossorigin"),d("iframe","srcdoc sandbox seamless allowfullscreen"));b(h("a form meter progress dfn"),function(a){f[a]&&delete f[a].children[a]});delete f.caption.children.table;return e[a]=f}var e={},a=k.makeMap,b=k.each,c=k.extend,d=k.explode,n=k.inArray;return function(g){function l(b,d,f){var n=
g[b];n?n=a(n,",",a(n.toUpperCase()," ")):(n=e[b],n||(n=a(d," ",a(d.toUpperCase()," ")),n=c(n,f),e[b]=n));return n}function v(b){var c,g,d,e,f,m,s,v,l,r,q,p,t,k,F,z,E,H,I=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,C=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ea=/[*?+]/;if(b)for(b=h(b,","),u["@"]&&(z=u["@"].attributes,E=u["@"].attributesOrder),c=0,g=b.length;c<g;c++)if(f=I.exec(b[c])){k=f[1];l=f[2];F=f[3];v=f[5];p={};t=[];m={attributes:p,attributesOrder:t};"#"===k&&(m.paddEmpty=
!0);"-"===k&&(m.removeEmpty=!0);"!"===f[4]&&(m.removeEmptyAttrs=!0);if(z){for(H in z)p[H]=z[H];t.push.apply(t,E)}if(v)for(v=h(v,"|"),d=0,e=v.length;d<e;d++)if(f=C.exec(v[d]))s={},q=f[1],r=f[2].replace(/::/g,":"),k=f[3],f=f[4],"!"===q&&(m.attributesRequired=m.attributesRequired||[],m.attributesRequired.push(r),s.required=!0),"-"===q?(delete p[r],t.splice(n(t,r),1)):(k&&("="===k&&(m.attributesDefault=m.attributesDefault||[],m.attributesDefault.push({name:r,value:f}),s.defaultValue=f),":"===k&&(m.attributesForced=
m.attributesForced||[],m.attributesForced.push({name:r,value:f}),s.forcedValue=f),"<"===k&&(s.validValues=a(f,"?"))),ea.test(r)?(m.attributePatterns=m.attributePatterns||[],s.pattern=RegExp("^"+r.replace(/([?+*])/g,".$1")+"$"),m.attributePatterns.push(s)):(p[r]||t.push(r),p[r]=s));z||"@"!=l||(z=p,E=t);F&&(m.outputName=l,u[F]=m);ea.test(l)?(m.pattern=RegExp("^"+l.replace(/([?+*])/g,".$1")+"$"),y.push(m)):u[l]=m}}function s(a){u={};y=[];v(a);b(k,function(a,b){r[b]=a.children})}function t(a){var c=/^(~)?(.+)$/;
a&&b(h(a,","),function(a){a=c.exec(a);var g="~"===a[1],d=g?"span":"div",e=a[2];r[e]=r[d];D[e]=d;g||(E[e.toUpperCase()]={},E[e]={});u[e]||(u[e]=u[d]);b(r,function(a){a[d]&&(a[e]=a[d])})})}function q(a){var c=/^([+\-]?)(\w+)\[([^\]]+)\]$/;a&&b(h(a,","),function(a){a=c.exec(a);var g,d;a&&(g=(d=a[1])?r[a[2]]:r[a[2]]={"#comment":{}},g=r[a[2]],b(h(a[3],"|"),function(a){"-"===d?delete g[a]:g[a]={}}))})}function p(a){var b=u[a],c;if(b)return b;for(c=y.length;c--;)if(b=y[c],b.pattern.test(a))return b}var u=
{},r={},y=[],m,k,I,C,B,z,E,H,L,D={},x={};g=g||{};k=f(g.schema);!1===g.verify_html&&(g.valid_elements="*[*]");g.valid_styles&&(m={},b(g.valid_styles,function(a,b){m[b]=d(a)}));I=l("whitespace_elements","pre script noscript style textarea video audio iframe object");C=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");B=l("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");z=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");
H=l("non_empty_elements","td th iframe video audio object",B);L=l("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");E=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",L);b((g.special||"script noscript style textarea").split(" "),function(a){x[a]=RegExp("</"+a+"[^>]*>","gi")});g.valid_elements?s(g.valid_elements):
(b(k,function(a,b){u[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};r[b]=a.children}),"html5"!=g.schema&&b(h("strong/b em/i"),function(a){a=h(a,"/");u[a[1]].outputName=a[0]}),u.img.attributesDefault=[{name:"alt",value:""}],b(h("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){u[a]&&(u[a].removeEmpty=!0)}),b(h("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(a){u[a].paddEmpty=!0}),b(h("span"),function(a){u[a].removeEmptyAttrs=!0}));t(g.custom_elements);
q(g.valid_children);v(g.extended_valid_elements);q("+ol[ul|ol],+ul[ul|ol]");g.invalid_elements&&b(d(g.invalid_elements),function(a){u[a]&&delete u[a]});p("span")||v("span[!data-mce-type|*]");this.children=r;this.styles=m;this.getBoolAttrs=function(){return z};this.getBlockElements=function(){return E};this.getTextBlockElements=function(){return L};this.getShortEndedElements=function(){return B};this.getSelfClosingElements=function(){return C};this.getNonEmptyElements=function(){return H};this.getWhiteSpaceElements=
function(){return I};this.getSpecialElements=function(){return x};this.isValidChild=function(a,b){var c=r[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,g;if(c=p(a))if(b){if(c.attributes[b])return!0;if(c=c.attributePatterns)for(g=c.length;g--;)if(c[g].pattern.test(a))return!0}else return!0;return!1};this.getElementRule=p;this.getCustomElements=function(){return D};this.addValidElements=v;this.setValidElements=s;this.addCustomElements=t;this.addValidChildren=q;this.elements=u}});x("tinymce/html/SaxParser",
["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(k,h,f){var e=f.each;return function(a,b){var c=this,d=function(){};a=a||{};c.schema=b=b||new k;!1!==a.fix_self_closing&&(a.fix_self_closing=!0);e("comment cdata text start end pi doctype".split(" "),function(b){b&&(c[b]=a[b]||d)});c.parse=function(c){function g(a){var b,c;for(b=u.length;b--&&u[b].name!==a;);if(0<=b){for(c=u.length-1;c>=b;c--)a=u[c],a.valid&&e.end(a.name);u.length=b}}function d(a,b,c,g,e){b=b.toLowerCase();
c=b in z?b:G(c||g||e||"");if(E&&!I&&0!==b.indexOf("data-")){a=M[b];if(!a&&w){for(g=w.length;g--&&(a=w[g],!a.pattern.test(b)););-1===g&&(a=null)}if(!a||a.validValues&&!(c in a.validValues))return}r.map[b]=c;r.push({name:b,value:c})}var e=this,f,t=0,q,p,u=[],r,y,m,k,I,C,B,z,E,H,L,D,x,M,w,A,K,J,O,V,Q,S=0,G=h.decode,U;O=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))",
"g");V=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;B=b.getShortEndedElements();J=a.self_closing_elements||b.getSelfClosingElements();z=b.getBoolAttrs();E=a.validate;C=a.remove_internals;U=a.fix_self_closing;for(Q=b.getSpecialElements();f=O.exec(c);){t<f.index&&e.text(G(c.substr(t,f.index-t)));if(q=f[6])q=q.toLowerCase(),":"===q.charAt(0)&&(q=q.substr(1)),g(q);else if(q=f[7]){q=q.toLowerCase();":"===q.charAt(0)&&(q=q.substr(1));t=q in B;U&&(J[q]&&0<u.length&&u[u.length-
1].name===q)&&g(q);if(!E||(H=b.getElementRule(q))){L=!0;E&&(M=H.attributes,w=H.attributePatterns);(x=f[8])?((I=-1!==x.indexOf("data-mce-type"))&&C&&(L=!1),r=[],r.map={},x.replace(V,d)):(r=[],r.map={});if(E&&!I){p=H.attributesRequired;A=H.attributesDefault;K=H.attributesForced;(y=H.removeEmptyAttrs)&&!r.length&&(L=!1);if(K)for(y=K.length;y--;)D=K[y],k=D.name,D=D.value,"{$uid}"===D&&(D="mce_"+S++),r.map[k]=D,r.push({name:k,value:D});if(A)for(y=A.length;y--;)D=A[y],k=D.name,k in r.map||(D=D.value,"{$uid}"===
D&&(D="mce_"+S++),r.map[k]=D,r.push({name:k,value:D}));if(p){for(y=p.length;y--&&!(p[y]in r.map););-1===y&&(L=!1)}r.map["data-mce-bogus"]&&(L=!1)}L&&e.start(q,r,t)}else L=!1;if(p=Q[q]){p.lastIndex=t=f.index+f[0].length;(f=p.exec(c))?(L&&(m=c.substr(t,f.index-t)),t=f.index+f[0].length):(m=c.substr(t),t=c.length);L&&(0<m.length&&e.text(m,!0),e.end(q));O.lastIndex=t;continue}t||(x&&x.indexOf("/")==x.length-1?L&&e.end(q):u.push({name:q,valid:L}))}else(q=f[1])?e.comment(q):(q=f[2])?e.cdata(q):(q=f[3])?
e.doctype(q):(q=f[4])&&e.pi(q,f[5]);t=f.index+f[0].length}t<c.length&&e.text(G(c.substr(t)));for(y=u.length-1;0<=y;y--)q=u[y],q.valid&&e.end(q.name)}}});x("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(k,h,f,e){var a=e.makeMap,b=e.each,c=e.explode,d=e.extend;return function(e,g){function l(b){var c,d,e,f,n,s,l,q,t,p,h,D;p=a("tr,td,th,tbody,thead,tfoot,table");t=g.getNonEmptyElements();h=g.getTextBlockElements();for(c=0;c<
b.length;c++)if(d=b[c],d.parent&&!d.fixed)if(h[d.name]&&"li"==d.parent.name){for(e=d.next;e;){if(h[e.name])e.name="li",e.fixed=!0,d.parent.insert(e,d.parent);else break;e=e.next}d.unwrap(d)}else{f=[d];for(e=d.parent;e&&!g.isValidChild(e.name,d.name)&&!p[e.name];e=e.parent)f.push(e);if(e&&1<f.length){f.reverse();n=s=v.filterNode(f[0].clone());for(q=0;q<f.length-1;q++){g.isValidChild(s.name,f[q].name)?(l=v.filterNode(f[q].clone()),s.append(l)):l=s;for(s=f[q].firstChild;s&&s!=f[q+1];)D=s.next,l.append(s),
s=D;s=l}n.isEmpty(t)?e.insert(d,f[0],!0):(e.insert(n,f[0],!0),e.insert(d,n));e=f[0];(e.isEmpty(t)||e.firstChild===e.lastChild&&"br"===e.firstChild.name)&&e.empty().remove()}else d.parent&&("li"===d.name?(e=d.prev,!e||"ul"!==e.name&&"ul"!==e.name?(e=d.next,!e||"ul"!==e.name&&"ul"!==e.name?d.wrap(v.filterNode(new k("ul",1))):e.insert(d,e.firstChild,!0)):e.append(d)):g.isValidChild(d.parent.name,"div")&&g.isValidChild("div",d.name)?d.wrap(v.filterNode(new k("div",1))):"style"===d.name||"script"===d.name?
d.empty().remove():d.unwrap())}}var v=this,s={},t=[],q={},p={};e=e||{};e.validate="validate"in e?e.validate:!0;e.root_name=e.root_name||"body";v.schema=g=g||new h;v.filterNode=function(a){var b,c,d;c in s&&((d=q[c])?d.push(a):q[c]=[a]);for(b=t.length;b--;)c=t[b].name,c in a.attributes.map&&((d=p[c])?d.push(a):p[c]=[a]);return a};v.addNodeFilter=function(a,d){b(c(a),function(a){var b=s[a];b||(s[a]=b=[]);b.push(d)})};v.addAttributeFilter=function(a,d){b(c(a),function(a){var b;for(b=0;b<t.length;b++)if(t[b].name===
a){t[b].callbacks.push(d);return}t.push({name:a,callbacks:[d]})})};v.parse=function(b,c){function v(){function a(c){c&&((b=c.firstChild)&&3==b.type&&(b.value=b.value.replace(w,"")),(b=c.lastChild)&&3==b.type&&(b.value=b.value.replace(J,"")))}var b=C.firstChild,c,d;if(g.isValidChild(C.name,U.toLowerCase())){for(;b;)c=b.next,3==b.type||1==b.type&&"p"!==b.name&&!M[b.name]&&!b.attr("data-mce-type")?(d||(d=m(U,1),C.insert(d,b)),d.append(b)):(a(d),d=null),b=c;a(d)}}function m(a,b){var c=new k(a,b),d;a in
s&&((d=q[a])?d.push(c):q[a]=[c]);return c}function h(a){var b;for(a=a.prev;a&&3===a.type;)b=a.value.replace(J,""),0<b.length?(a.value=b,a=a.prev):(b=a.prev,a.remove(),a=b)}var I,C,B,z,E,H,L,D,x,M,w,A=[],K,J,O,V,Q,S,G,U;c=c||{};q={};p={};M=d(a("script,style,head,html,body,title,meta,param"),g.getBlockElements());G=g.getNonEmptyElements();S=g.children;x=e.validate;U="forced_root_block"in c?c.forced_root_block:e.forced_root_block;Q=g.getWhiteSpaceElements();w=/^[ \t\r\n]+/;J=/[ \t\r\n]+$/;O=/[ \t\r\n]+/g;
V=/^[ \t\r\n]+$/;I=new f({validate:x,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(g.getSelfClosingElements()),cdata:function(a){B.append(m("#cdata",4)).value=a},text:function(a,b){var c;K||(a=a.replace(O," "),B.lastChild&&M[B.lastChild.name]&&(a=a.replace(w,"")));0!==a.length&&(c=m("#text",3),c.raw=!!b,B.append(c).value=a)},comment:function(a){B.append(m("#comment",8)).value=a},pi:function(a,b){B.append(m(a,7)).value=b;h(B)},doctype:function(a){B.append(m("#doctype",
10)).value=a;h(B)},start:function(a,b,c){var d,e,f;if(d=x?g.getElementRule(a):{}){d=m(d.outputName||a,1);d.attributes=b;d.shortEnded=c;B.append(d);(e=S[B.name])&&(S[d.name]&&!e[d.name])&&A.push(d);for(e=t.length;e--;)f=t[e].name,f in b.map&&((D=p[f])?D.push(d):p[f]=[d]);M[a]&&h(d);c||(B=d);!K&&Q[a]&&(K=!0)}},end:function(a){var b,c,d,e;if(c=x?g.getElementRule(a):{}){if(M[a]&&!K){if((b=B.firstChild)&&3===b.type)if(d=b.value.replace(w,""),0<d.length)b.value=d;else for(e=b.next,b.remove(),b=e;b&&3===
b.type;)d=b.value,e=b.next,(0===d.length||V.test(d))&&b.remove(),b=e;if((b=B.lastChild)&&3===b.type)if(d=b.value.replace(J,""),0<d.length)b.value=d;else for(e=b.prev,b.remove(),b=e;b&&3===b.type;)d=b.value,e=b.prev,(0===d.length||V.test(d))&&b.remove(),b=e}K&&Q[a]&&(K=!1);if((c.removeEmpty||c.paddEmpty)&&B.isEmpty(G))if(c.paddEmpty)B.empty().append(new k("#text","3")).value="\u00a0";else if(!B.attributes.map.name&&!B.attributes.map.id){a=B.parent;B.empty().remove();B=a;return}B=B.parent}}},g);C=B=
new k(c.context||e.root_name,11);I.parse(b);x&&A.length&&(c.context?c.invalid=!0:l(A));U&&("body"==C.name||c.isRootContent)&&v();if(!c.invalid){for(L in q){D=s[L];I=q[L];for(H=I.length;H--;)I[H].parent||I.splice(H,1);z=0;for(E=D.length;z<E;z++)D[z](I,L,c)}z=0;for(E=t.length;z<E;z++)if(D=t[z],D.name in p){I=p[D.name];for(H=I.length;H--;)I[H].parent||I.splice(H,1);H=0;for(L=D.callbacks.length;H<L;H++)D.callbacks[H](I,D.name,c)}}return C};e.remove_trailing_brs&&v.addNodeFilter("br",function(a){var b,
c=a.length,e,f=d({},g.getBlockElements()),n=g.getNonEmptyElements(),s,v,l;f.body=1;for(b=0;b<c;b++)if(e=a[b],s=e.parent,f[e.parent.name]&&e===s.lastChild){for(v=e.prev;v;){l=v.name;if("span"!==l||"bookmark"!==v.attr("data-mce-type")){if("br"!==l)break;if("br"===l){e=null;break}}v=v.prev}e&&(e.remove(),s.isEmpty(n)&&(e=g.getElementRule(s.name)))&&(e.removeEmpty?s.remove():e.paddEmpty&&(s.empty().append(new k("#text",3)).value="\u00a0"))}else{for(v=e;s&&s.firstChild===v&&s.lastChild===v;){v=s;if(f[s.name])break;
s=s.parent}v===s&&(s=new k("#text",3),s.value="\u00a0",e.replace(s))}});e.allow_html_in_named_anchor||v.addAttributeFilter("id,name",function(a){for(var b=a.length,c,d,g,e;b--;)if(e=a[b],"a"===e.name&&e.firstChild&&!e.attr("href")){g=e.parent;c=e.lastChild;do d=c.prev,g.insert(c,e),c=d;while(c)}})}});x("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(k,h){var f=h.makeMap;return function(e){var a=[],b,c,d,n,g;e=e||{};b=e.indent;c=f(e.indent_before||"");d=f(e.indent_after||
"");n=k.getEncodeFunc(e.entity_encoding||"raw",e.entities);g="html"==e.element_format;return{start:function(e,f,s){var t,q,p;b&&(c[e]&&0<a.length)&&(t=a[a.length-1],0<t.length&&"\n"!==t&&a.push("\n"));a.push("<",e);if(f)for(t=0,q=f.length;t<q;t++)p=f[t],a.push(" ",p.name,'="',n(p.value,!0),'"');a[a.length]=!s||g?">":" />";s&&(b&&d[e]&&0<a.length)&&(t=a[a.length-1],0<t.length&&"\n"!==t&&a.push("\n"))},end:function(c){a.push("</",c,">");b&&(d[c]&&0<a.length)&&(c=a[a.length-1],0<c.length&&"\n"!==c&&
a.push("\n"))},text:function(b,c){0<b.length&&(a[a.length]=c?b:n(b))},cdata:function(b){a.push("<![CDATA[",b,"]]\x3e")},comment:function(b){a.push("\x3c!--",b,"--\x3e")},pi:function(c,d){d?a.push("<?",c," ",d,"?>"):a.push("<?",c,"?>");b&&a.push("\n")},doctype:function(c){a.push("<!DOCTYPE",c,">",b?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}});x("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(k,h){return function(f,
e){var a=new k(f);f=f||{};f.validate="validate"in f?f.validate:!0;this.schema=e=e||new h;this.writer=a;this.serialize=function(b){function c(b){var f=d[b.type],v,s,t,q,p,u,r,h;if(f)f(b);else{f=b.name;v=b.shortEnded;s=b.attributes;if(n&&s&&1<s.length){p=[];p.map={};h=e.getElementRule(b.name);u=0;for(r=h.attributesOrder.length;u<r;u++)t=h.attributesOrder[u],t in s.map&&(q=s.map[t],p.map[t]=q,p.push({name:t,value:q}));u=0;for(r=s.length;u<r;u++)t=s[u].name,t in p.map||(q=s.map[t],p.map[t]=q,p.push({name:t,
value:q}));s=p}a.start(b.name,s,v);if(!v){if(b=b.firstChild){do c(b);while(b=b.next)}a.end(f)}}}var d,n;n=f.validate;d={3:function(b){a.text(b.value,b.raw)},8:function(b){a.comment(b.value)},7:function(b){a.pi(b.name,b.value)},10:function(b){a.doctype(b.value)},4:function(b){a.cdata(b.value)},11:function(a){if(a=a.firstChild){do c(a);while(a=a.next)}}};a.reset();if(1!=b.type||f.inner)d[11](b);else c(b);return a.getContent()}}});x("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools".split(" "),
function(k,h,f,e,a,b,c,d){var n=d.each,g=d.trim,l=k.DOM;return function(a,d){var t,q,p;d&&(t=d.dom,q=d.schema);t=t||l;q=q||new b(a);a.entity_encoding=a.entity_encoding||"named";a.remove_trailing_brs="remove_trailing_brs"in a?a.remove_trailing_brs:!0;p=new h(a,q);p.addAttributeFilter("src,href,style",function(b,c){for(var d=b.length,g,e,f="data-mce-"+c,n=a.url_converter,s=a.url_converter_scope;d--;)g=b[d],e=g.attributes.map[f],void 0!==e?(g.attr(c,0<e.length?e:null),g.attr(f,null)):(e=g.attributes.map[c],
"style"===c?e=t.serializeStyle(t.parseStyle(e),g.name):n&&(e=n.call(s,e,c,g.name)),g.attr(c,0<e.length?e:null))});p.addAttributeFilter("class",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<d.length?d:null)});p.addAttributeFilter("data-mce-type",function(a,b,c){b=a.length;for(var d;b--;)d=a[b],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove()});p.addAttributeFilter("data-mce-expando",function(a,b){for(var c=
a.length;c--;)a[c].attr(b,null)});p.addNodeFilter("noscript",function(a){for(var b=a.length,c;b--;)if(c=a[b].firstChild)c.value=f.decode(c.value)});p.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,
"")}for(var d=a.length,g,e;d--;)g=a[d],e=g.firstChild?g.firstChild.value:"","script"===b?(g.attr("type",(g.attr("type")||"text/javascript").replace(/^mce\-/,"")),0<e.length&&(g.firstChild.value="// <![CDATA[\n"+c(e)+"\n// ]]\x3e")):0<e.length&&(g.firstChild.value="\x3c!--\n"+c(e)+"\n--\x3e")});p.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&
(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))});p.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,d;c--;)d=a[c],7===d.type?d.remove():1===d.type&&("input"!==b||"type"in d.attributes.map||d.attr("type","text"))});a.fix_list_elements&&p.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.parent,("ul"===d.name||"ol"===d.name)&&c.prev&&"li"===c.prev.name&&c.prev.append(c)});p.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",
function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});return{schema:q,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize:function(b,d){var f,s,l;c.ie&&0<t.select("script,style,select,map").length?(f=b.innerHTML,b=b.cloneNode(!1),t.setHTML(b,f)):b=b.cloneNode(!0);f=b.ownerDocument.implementation;f.createHTMLDocument&&(s=f.createHTMLDocument(""),n("BODY"==b.nodeName?b.childNodes:[b],function(a){s.body.appendChild(s.importNode(a,!0))}),b="BODY"!=b.nodeName?s.body.firstChild:
s.body,l=t.doc,t.doc=s);d=d||{};d.format=d.format||"html";d.selection&&(d.forced_root_block="");d.no_events||(d.node=b,this.onPreProcess(d));f=new e(a,q);d.content=f.serialize(p.parse(g(d.getInner?b.innerHTML:t.getOuterHTML(b)),d));d.cleanup||(d.content=d.content.replace(/\uFEFF/g,""));if(!d.no_events)this.onPostProcess(d);l&&(t.doc=l);d.node=null;return d.content},addRules:function(a){q.addValidElements(a)},setRules:function(a){q.setValidElements(a)},onPreProcess:function(a){d&&d.fire("PreProcess",
a)},onPostProcess:function(a){d&&d.fire("PostProcess",a)}}}});x("tinymce/dom/TridentSelection",[],function(){return function(k){function h(a,c){var d,e=0,g,f,v,s,t,q=-1,p;d=a.duplicate();d.collapse(c);p=d.parentElement();if(p.ownerDocument===k.dom.doc){for(;"false"===p.contentEditable;)p=p.parentNode;if(!p.hasChildNodes())return{node:p,inside:1};v=p.children;for(g=v.length-1;e<=g;)if(t=Math.floor((e+g)/2),s=v[t],d.moveToElementText(s),q=d.compareEndPoints(c?"StartToStart":"EndToEnd",a),0<q)g=t-1;
else if(0>q)e=t+1;else return{node:s};if(0>q)for(s?d.collapse(!1):(d.moveToElementText(p),d.collapse(!0),s=p,f=!0),e=0;0!==d.compareEndPoints(c?"StartToStart":"StartToEnd",a)&&0!==d.move("character",1)&&p==d.parentElement();)e++;else for(d.collapse(!0),e=0;0!==d.compareEndPoints(c?"StartToStart":"StartToEnd",a)&&0!==d.move("character",-1)&&p==d.parentElement();)e++;return{node:s,position:q,offset:e,inside:f}}}var f=this,e=k.dom,a=!1;this.getBookmark=function(a){function c(a){var b,c,d,g,f=[];b=a.parentNode;
for(c=e.getRoot().parentNode;b!=c&&9!==b.nodeType;){d=b.children;for(g=d.length;g--;)if(a===d[g]){f.push(g);break}a=b;b=b.parentNode}return f}function d(a){if(a=h(f,a))return{position:a.position,offset:a.offset,indexes:c(a.node),inside:a.inside}}var f=k.getRng(),g={};2===a&&(f.item?g.start={ctrl:!0,indexes:c(f.item(0))}:(g.start=d(!0),k.isCollapsed()||(g.end=d())));return g};this.moveToBookmark=function(a){function c(a){var b,c,d,g;b=e.getRoot();for(c=a.length-1;0<=c;c--)g=b.children,d=a[c],d<=g.length-
1&&(b=g[d]);return b}function d(d){var e=a[d?"start":"end"],s,t,q;e&&(s=0<e.position,t=g.createTextRange(),t.moveToElementText(c(e.indexes)),q=e.offset,void 0!==q?(t.collapse(e.inside||s),t.moveStart("character",s?-q:q)):t.collapse(d),f.setEndPoint(d?"StartToStart":"EndToStart",t),d&&f.collapse(!0))}var f,g=e.doc.body;a.start&&(a.start.ctrl?(f=g.createControlRange(),f.addElement(c(a.start.indexes))):(f=g.createTextRange(),d(!0),d()),f.select())};this.addRange=function(b){function c(b){var c,f,n,p,
h;n=e.create("a");c=b?g:v;f=b?l:s;p=d.duplicate();if(c==t||c==t.documentElement)c=q,f=0;3==c.nodeType?(c.parentNode.insertBefore(n,c),p.moveToElementText(n),p.moveStart("character",f),e.remove(n),d.setEndPoint(b?"StartToStart":"EndToEnd",p)):(h=c.childNodes,h.length?(f>=h.length?e.insertAfter(n,h[h.length-1]):c.insertBefore(n,h[f]),p.moveToElementText(n)):c.canHaveHTML&&(c.innerHTML="<span>&#xFEFF;</span>",n=c.firstChild,p.moveToElementText(n),p.collapse(a)),d.setEndPoint(b?"StartToStart":"EndToEnd",
p),e.remove(n))}var d,f,g,l,v,s,t=k.dom.doc,q=t.body,p,h;g=b.startContainer;l=b.startOffset;v=b.endContainer;s=b.endOffset;d=q.createTextRange();if(g==v&&1==g.nodeType){if(l==s&&!g.hasChildNodes()){if(g.canHaveHTML){(b=g.previousSibling)&&!b.hasChildNodes()&&e.isBlock(b)?b.innerHTML="&#xFEFF;":b=null;g.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";d.moveToElementText(g.lastChild);d.select();e.doc.selection.clear();g.innerHTML="";b&&(b.innerHTML="");return}l=e.nodeIndex(g);g=g.parentNode}if(l==
s-1)try{if(h=g.childNodes[l],f=q.createControlRange(),f.addElement(h),f.select(),p=k.getRng(),p.item&&h===p.item(0))return}catch(r){}}c(!0);c();d.select()};this.getRangeAt=function(){function a(b){var g=h(c,b),e,f,n=0,s;e=g.node;f=g.offset;if(g.inside&&!e.hasChildNodes())d[b?"setStart":"setEnd"](e,0);else if(void 0===f)d[b?"setStartBefore":"setEndAfter"](e);else{if(0>g.position){g=g.inside?e.firstChild:e.nextSibling;if(!g){d[b?"setStartAfter":"setEndAfter"](e);return}if(!f){if(3==g.nodeType)d[b?"setStart":
"setEnd"](g,0);else d[b?"setStartBefore":"setEndBefore"](g);return}for(;g;){s=g.nodeValue;n+=s.length;if(n>=f){e=g;n-=f;n=s.length-n;break}g=g.nextSibling}}else{g=e.previousSibling;if(!g)return d[b?"setStartBefore":"setEndBefore"](e);if(!f){if(3==e.nodeType)d[b?"setStart":"setEnd"](g,e.nodeValue.length);else d[b?"setStartAfter":"setEndAfter"](g);return}for(;g;){n+=g.nodeValue.length;if(n>=f){e=g;n-=f;break}g=g.previousSibling}}d[b?"setStart":"setEnd"](e,n)}}var c=k.getRng(),d=e.createRng(),n,g,l,
v;n=c.item?c.item(0):c.parentElement();if(n.ownerDocument!=e.doc)return d;g=k.isCollapsed();if(c.item)return d.setStart(n.parentNode,e.nodeIndex(n)),d.setEnd(d.startContainer,d.startOffset+1),d;try{a(!0),g||a()}catch(s){if(-2147024809==s.number)v=f.getBookmark(2),l=c.duplicate(),l.collapse(!0),n=l.parentElement(),g||(l=c.duplicate(),l.collapse(!1),l=l.parentElement(),l.innerHTML=l.innerHTML),n.innerHTML=n.innerHTML,f.moveToBookmark(v),c=k.getRng(),a(!0),g||a();else throw s;}return d}}});x("tinymce/util/VK",
["tinymce/Env"],function(k){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(h){return h.shiftKey||h.ctrlKey||h.altKey},metaKeyPressed:function(h){return(k.mac?h.ctrlKey||h.metaKey:h.ctrlKey)&&!h.altKey}}});x("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(k,h,f){return function(e,a){function b(b){var c,d;c=b.screenX-C;d=b.screenY-B;M=c*I[2]+H;w=d*I[3]+L;M=5>M?5:M;w=5>w?5:w;if(k.modifierPressed(b)||
"IMG"==y.nodeName&&0!==I[2]*I[3])M=Math.round(w/D),w=Math.round(M*D);u.setStyles(m,{width:M,height:w});0>I[2]&&m.clientWidth<=M&&u.setStyle(m,"left",z+(H-M));0>I[3]&&m.clientHeight<=w&&u.setStyle(m,"top",E+(L-w));x||(a.fire("ObjectResizeStart",{target:y,width:H,height:L}),x=!0)}function c(){function g(b,c){c&&(y.style[b]||!a.schema.isValid(y.nodeName.toLowerCase(),b)?u.setStyle(y,b,c):u.setAttrib(y,b,c))}x=!1;g("width",M);g("height",w);u.unbind(A,"mousemove",b);u.unbind(A,"mouseup",c);K!=A&&(u.unbind(K,
"mousemove",b),u.unbind(K,"mouseup",c));u.remove(m);J&&"TABLE"!=y.nodeName||d(y);a.fire("ObjectResized",{target:y,width:M,height:w});a.nodeChanged()}function d(d,g,e){var f,s,v;f=u.getPos(d,a.getBody());z=f.x;E=f.y;f=d.getBoundingClientRect();s=f.width||f.right-f.left;v=f.height||f.bottom-f.top;y!=d&&(t(),y=d,M=w=0);f=a.fire("ObjectSelected",{target:d});!1!==a.settings.object_resizing&&/TABLE|IMG|DIV/.test(d.nodeName)&&"false"!==d.getAttribute("data-mce-resize")&&!f.isDefaultPrevented()?r(F,function(d,
f){function n(g){x=!0;C=g.screenX;B=g.screenY;H=y.clientWidth;L=y.clientHeight;D=L/H;I=d;m=y.cloneNode(!0);u.addClass(m,"mce-clonedresizable");m.contentEditable=!1;m.unSelectabe=!0;u.setStyles(m,{left:z,top:E,margin:0});m.removeAttribute("data-mce-selected");a.getBody().appendChild(m);u.bind(A,"mousemove",b);u.bind(A,"mouseup",c);K!=A&&(u.bind(K,"mousemove",b),u.bind(K,"mouseup",c))}var l;g?f==g&&n(e):((l=u.get("mceResizeHandle"+f))?u.show(l):(l=a.getBody(),l=u.add(l,"div",{id:"mceResizeHandle"+f,
"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+f+"-resize; margin:0; padding:0"}),u.bind(l,"mousedown",function(a){a.preventDefault();n(a)})),u.setStyles(l,{left:s*d[0]+z-l.offsetWidth/2,top:v*d[1]+E-l.offsetHeight/2}))}):n();y.setAttribute("data-mce-selected","1")}function n(){var a,b;y&&y.removeAttribute("data-mce-selected");for(a in F)if(b=u.get("mceResizeHandle"+a))u.unbind(b),u.remove(b)}function g(a){function b(a,c){do if(a===c)return!0;while(a=
a.parentNode)}r(u.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")});a="mousedown"==a.type?a.target:e.getNode();if(a=u.getParent(a,J?"table":"table,img,hr"))if(q(),b(e.getStart(),a)&&b(e.getEnd(),a)&&(!J||a!=e.getStart()&&"IMG"!==e.getStart().nodeName)){d(a);return}n()}function l(a,b,c){a&&a.attachEvent&&a.attachEvent("on"+b,c)}function v(b){var c=b.srcElement,g,e,f,n,s,v;g=c.getBoundingClientRect();s=b.clientX-g.left;v=b.clientY-g.top;for(e in F)if(g=
F[e],f=c.offsetWidth*g[0],n=c.offsetHeight*g[1],8>Math.abs(f-s)&&8>Math.abs(n-v)){I=g;break}x=!0;a.getDoc().selection.empty();d(c,e,b)}function s(a){var b=a.srcElement;if(b!=y)if(t(),0===b.id.indexOf("mceResizeHandle"))a.returnValue=!1;else if("IMG"==b.nodeName||"TABLE"==b.nodeName)n(),y=b,l(b,"resizestart",v)}function t(){y&&y.detachEvent&&y.detachEvent("onresizestart",v)}function q(){try{a.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(b){}}function p(a){var b;if(J){b=A.body.createControlRange();
try{return b.addElement(a),b.select(),!0}catch(c){}}}var u=a.dom,r=h.each,y,m,F,I,C,B,z,E,H,L,D,x,M,w,A=a.getDoc(),K=document,J=f.ie;F={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};a.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(f.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}");a.on("init",function(){J?(a.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(n(),p(a.target))}),l(a.getBody(),"controlselect",s)):q();a.on("nodechange mousedown ResizeEditor",g);a.on("keydown keyup",function(a){y&&"TABLE"==y.nodeName&&g(a)})});return{controlSelect:p,destroy:function(){y=m=null;if(J){t();var b=a.getBody();b&&b.detachEvent&&b.detachEvent("oncontrolselect",s)}}}}});x("tinymce/dom/Selection",
["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/Env","tinymce/util/Tools"],function(k,h,f,e,a){function b(a,b,c,d){this.dom=a;this.win=b;this.serializer=c;this.editor=d;this.controlSelection=new f(this,d);this.win.getSelection||(this.tridentSel=new h(this))}var c=a.each,d=a.grep,n=a.trim,g=e.ie,l=e.opera;b.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();c.setStart(a,b);c.setEnd(a,b);this.setRng(c);this.collapse(!1)},getContent:function(a){var b=
this.getRng(),c=this.dom.create("body"),d=this.getSel(),g,e;a=a||{};g=e="";a.get=!0;a.format=a.format||"html";a.selection=!0;this.editor.fire("BeforeGetContent",a);if("text"==a.format)return this.isCollapsed()?"":b.text||(d.toString?d.toString():"");b.cloneContents?(b=b.cloneContents())&&c.appendChild(b):b.item!==P||b.htmlText!==P?(c.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString();/^\s/.test(c.innerHTML)&&(g=" ");/\s+$/.test(c.innerHTML)&&
(e=" ");a.getInner=!0;a.content=this.isCollapsed()?"":g+this.serializer.serialize(c,a)+e;this.editor.fire("GetContent",a);return a.content},setContent:function(a,b){var c=this.getRng(),d,g=this.win.document,e;b=b||{format:"html"};b.set=!0;b.selection=!0;b.content=a;b.no_events||this.editor.fire("BeforeSetContent",b);a=b.content;if(c.insertNode){a+='<span id="__caret">_</span>';c.startContainer==g&&c.endContainer==g?g.body.innerHTML=a:(c.deleteContents(),0===g.body.childNodes.length?g.body.innerHTML=
a:c.createContextualFragment?c.insertNode(c.createContextualFragment(a)):(d=g.createDocumentFragment(),e=g.createElement("div"),d.appendChild(e),e.outerHTML=a,c.insertNode(d)));d=this.dom.get("__caret");c=g.createRange();c.setStartBefore(d);c.setEndBefore(d);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(f){}}else c.item&&(g.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);
b.no_events||this.editor.fire("SetContent",b)},getStart:function(){var a=this.getRng(),b,c;if(a.duplicate||a.item){if(a.item)return a.item(0);b=a.duplicate();b.collapse(1);b=b.parentElement();b.ownerDocument!==this.dom.doc&&(b=this.dom.getRoot());for(a=c=a.parentElement();c=c.parentNode;)if(c==b){b=a;break}return b}b=a.startContainer;1==b.nodeType&&b.hasChildNodes()&&(b=b.childNodes[Math.min(b.childNodes.length-1,a.startOffset)]);return b&&3==b.nodeType?b.parentNode:b},getEnd:function(){var a=this.getRng(),
b;if(a.duplicate||a.item){if(a.item)return a.item(0);a=a.duplicate();a.collapse(0);b=a.parentElement();b.ownerDocument!==this.dom.doc&&(b=this.dom.getRoot());return b&&"BODY"==b.nodeName?b.lastChild||b:b}b=a.endContainer;a=a.endOffset;1==b.nodeType&&b.hasChildNodes()&&(b=b.childNodes[0<a?a-1:a]);return b&&3==b.nodeType?b.parentNode:b},getBookmark:function(a,b){function d(a,b){var g=0;c(n.select(a),function(a,c){a==b&&(g=c)});return g}function g(a){function b(c){var d,g;g=c?"start":"end";d=a[g+"Container"];
g=a[g+"Offset"];1==d.nodeType&&"TR"==d.nodeName&&(d=d.childNodes,d=d[Math.min(c?g:g-1,d.length-1)])&&(g=c?0:d.childNodes.length,a["set"+(c?"Start":"End")](d,g))}b(!0);b();return a}function e(){function a(c,g){var e=c[g?"startContainer":"endContainer"],n=c[g?"startOffset":"endOffset"],l=[],m,v=0;if(3==e.nodeType){if(b)for(m=e.previousSibling;m&&3==m.nodeType;m=m.previousSibling)n+=m.nodeValue.length;l.push(n)}else m=e.childNodes,n>=m.length&&m.length&&(v=1,n=Math.max(0,m.length-1)),l.push(f.dom.nodeIndex(m[n],
b)+v);for(;e&&e!=d;e=e.parentNode)l.push(f.dom.nodeIndex(e,b));return l}var c=f.getRng(!0),d=n.getRoot(),g={};g.start=a(c,!0);f.isCollapsed()||(g.end=a(c));return g}var f=this,n=f.dom,l,m,h,k,C;if(2==a)return C=f.getNode(),m=C.nodeName,"IMG"==m?{name:m,index:d(m,C)}:f.tridentSel?f.tridentSel.getBookmark(a):e();if(a)return{rng:f.getRng()};l=f.getRng();h=n.uniqueId();k=f.isCollapsed();if(l.duplicate||l.item){if(l.item)return C=l.item(0),m=C.nodeName,{name:m,index:d(m,C)};m=l.duplicate();try{l.collapse(),
l.pasteHTML('<span data-mce-type="bookmark" id="'+h+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),k||(m.collapse(!1),l.moveToElementText(m.parentElement()),0===l.compareEndPoints("StartToEnd",m)&&m.move("character",-1),m.pasteHTML('<span data-mce-type="bookmark" id="'+h+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(B){return null}}else{C=f.getNode();m=C.nodeName;if("IMG"==m)return{name:m,index:d(m,C)};m=g(l.cloneRange());k||(m.collapse(!1),m.insertNode(n.create("span",
{"data-mce-type":"bookmark",id:h+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));l=g(l);l.collapse(!0);l.insertNode(n.create("span",{"data-mce-type":"bookmark",id:h+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}f.moveToBookmark({id:h,keep:1});return{id:h}},moveToBookmark:function(a){function b(c){var d=a[c?"start":"end"],g,e,f;if(d){f=d[0];e=r;for(g=d.length-1;1<=g;g--){e=e.childNodes;if(d[g]>e.length-1)return;e=e[d[g]]}3===e.nodeType&&(f=Math.min(d[0],e.nodeValue.length));
1===e.nodeType&&(f=Math.min(d[0],e.childNodes.length));c?h.setStart(e,f):h.setEnd(e,f)}return!0}function e(b){var g=n.get(a.id+"_"+b),f,s,h;h=a.keep;if(g&&(f=g.parentNode,"start"==b?(h?(f=g.firstChild,s=1):s=n.nodeIndex(g),k=m=f,F=I=s):(h?(f=g.firstChild,s=1):s=n.nodeIndex(g),m=f,I=s),!h)){h=g.previousSibling;f=g.nextSibling;for(c(d(g.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});g=n.get(a.id+"_"+b);)n.remove(g,1);h&&(f&&h.nodeType==f.nodeType&&3==h.nodeType&&
!l)&&(s=h.nodeValue.length,h.appendData(f.nodeValue),n.remove(f),"start"==b?(k=m=h,F=I=s):(m=h,I=s))}}function f(a){!n.isBlock(a)||(a.innerHTML||g)||(a.innerHTML='<br data-mce-bogus="1" />');return a}var n=this.dom,h,r,k,m,F,I;if(a)if(a.start){h=n.createRng();r=n.getRoot();if(this.tridentSel)return this.tridentSel.moveToBookmark(a);b(!0)&&b()&&this.setRng(h)}else a.id?(e("start"),e("end"),k&&(h=n.createRng(),h.setStart(f(k),F),h.setEnd(f(m),I),this.setRng(h))):a.name?this.select(n.select(a.name)[a.index]):
a.rng&&this.setRng(a.rng)},select:function(a,b){function c(a,b){var d=new k(a,a);do{if(3==a.nodeType&&0!==n(a.nodeValue).length){b?g.setStart(a,0):g.setEnd(a,a.nodeValue.length);break}if("BR"==a.nodeName){b?g.setStartBefore(a):g.setEndBefore(a);break}}while(a=b?d.next():d.prev())}var d=this.dom,g=d.createRng();if(a){if(!b&&this.controlSelection.controlSelect(a))return;d=d.nodeIndex(a);g.setStart(a.parentNode,d);g.setEnd(a.parentNode,d+1);b&&(c(a,1),c(a));this.setRng(g)}return a},isCollapsed:function(){var a=
this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng(),c;b.item&&(c=b.item(0),b=this.win.document.body.createTextRange(),b.moveToElementText(c));b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){var b,c,d=this.win.document,e;if(!a&&this.restoreRng)return this.restoreRng;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);
try{if(b=this.getSel())c=0<b.rangeCount?b.getRangeAt(0):b.createRange?b.createRange():d.createRange()}catch(f){}if(g&&c&&c.setStart){try{e=d.selection.createRange()}catch(n){}e&&e.item&&(a=e.item(0),c=d.createRange(),c.setStartBefore(a),c.setEndAfter(a))}c||(c=d.createRange?d.createRange():d.body.createTextRange());c.setStart&&(9===c.startContainer.nodeType&&c.collapsed)&&(a=this.dom.getRoot(),c.setStart(a,0),c.setEnd(a,0));this.selectedRange&&this.explicitRange&&(0===c.compareBoundaryPoints(c.START_TO_START,
this.selectedRange)&&0===c.compareBoundaryPoints(c.END_TO_END,this.selectedRange)?c=this.explicitRange:this.explicitRange=this.selectedRange=null);return c},setRng:function(a,b){var c;if(a.select)try{a.select()}catch(d){}else if(!this.tridentSel){if(c=this.getSel()){this.explicitRange=a;try{c.removeAllRanges()}catch(g){}c.addRange(a);!1===b&&c.extend&&(c.collapse(a.endContainer,a.endOffset),c.extend(a.startContainer,a.startOffset));this.selectedRange=0<c.rangeCount?c.getRangeAt(0):null}}else if(a.cloneRange)try{this.tridentSel.addRange(a)}catch(e){}},
setNode:function(a){this.setContent(this.dom.getOuterHTML(a));return a},getNode:function(){function a(b,c){for(var d=b;b&&3===b.nodeType&&0===b.length;)b=c?b.nextSibling:b.previousSibling;return b||d}var b=this.getRng(),c,d=b.startContainer,g=b.endContainer,e=b.startOffset,f=b.endOffset;return b?b.setStart?(c=b.commonAncestorContainer,!b.collapsed&&(d==g&&2>f-e&&d.hasChildNodes()&&(c=d.childNodes[e]),3===d.nodeType&&3===g.nodeType&&(d=d.length===e?a(d.nextSibling,!0):d.parentNode,g=0===f?a(g.previousSibling,
!1):g.parentNode,d&&d===g))?d:c&&3==c.nodeType?c.parentNode:c):b.item?b.item(0):b.parentElement():this.dom.getRoot()},getSelectedBlocks:function(a,b){var c=this.dom,d,g,e=[];g=c.getRoot();a=c.getParent(a||this.getStart(),c.isBlock);b=c.getParent(b||this.getEnd(),c.isBlock);a&&a!=g&&e.push(a);if(a&&b&&a!=b){d=a;for(var f=new k(a,g);(d=f.next())&&d!=b;)c.isBlock(d)&&e.push(d)}b&&(a!=b&&b!=g)&&e.push(b);return e},isForward:function(){var a=this.dom,b=this.getSel(),c;if(!b||!b.anchorNode||!b.focusNode)return!0;
c=a.createRng();c.setStart(b.anchorNode,b.anchorOffset);c.collapse(!0);a=a.createRng();a.setStart(b.focusNode,b.focusOffset);a.collapse(!0);return 0>=c.compareBoundaryPoints(c.START_TO_START,a)},normalize:function(){function a(g){function f(a,b){for(var c=new k(a,C.getParent(a.parentNode,C.isBlock)||B);a=c[b?"prev":"next"]();)if("BR"===a.nodeName)return!0}function n(a,b){var c,g;b=b||l;for(c=new k(b,C.getParent(b.parentNode,C.isBlock)||B);z=c[a?"prev":"next"]();){if(3===z.nodeType&&0<z.nodeValue.length){l=
z;h=a?z.nodeValue.length:0;d=!0;return}if(C.isBlock(z)||E[z.nodeName.toLowerCase()])return;g=z}e&&g&&(l=g,d=!0,h=0)}var l,h,v,C=b.dom,B=C.getRoot(),z,E;l=c[(g?"start":"end")+"Container"];h=c[(g?"start":"end")+"Offset"];E=C.schema.getNonEmptyElements();9===l.nodeType&&(l=C.getRoot(),h=0);if(l===B){if(g&&(z=l.childNodes[0<h?h-1:0])&&(z.nodeName.toLowerCase(),E[z.nodeName]||"TABLE"==z.nodeName))return;if(l.hasChildNodes()&&(h=Math.min(!g&&0<h?h-1:h,l.childNodes.length-1),l=l.childNodes[h],h=0,l.hasChildNodes()&&
!/TABLE/.test(l.nodeName))){z=l;v=new k(l,B);do{if(3===z.nodeType&&0<z.nodeValue.length){h=g?0:z.nodeValue.length;l=z;d=!0;break}if(E[z.nodeName.toLowerCase()]){h=C.nodeIndex(z);l=z.parentNode;"IMG"!=z.nodeName||g||h++;d=!0;break}}while(z=g?v.next():v.prev())}}e&&(3===l.nodeType&&0===h&&n(!0),1===l.nodeType&&(z=l.childNodes[h],!z||("BR"!==z.nodeName||z.previousSibling&&"A"==z.previousSibling.nodeName||f(z)||f(z,!0))||n(!0,l.childNodes[h])));g&&(!e&&3===l.nodeType&&h===l.nodeValue.length)&&n(!1);if(d)c["set"+
(g?"Start":"End")](l,h)}var b=this,c,d,e;g||(c=b.getRng(),e=c.collapsed,a(!0),e||a(),d&&(e&&c.collapse(!0),b.setRng(c,b.isForward())))},selectorChanged:function(a,b){var d=this,g;d.selectorChangedData||(d.selectorChangedData={},g={},d.editor.on("NodeChange",function(a){var b=a.element,e=d.dom,f=e.getParents(b,null,e.getRoot()),n={};c(d.selectorChangedData,function(a,b){c(f,function(d){if(e.is(d,b))return g[b]||(c(a,function(a){a(!0,{node:d,selector:b,parents:f})}),g[b]=a),n[b]=a,!1})});c(g,function(a,
d){n[d]||(delete g[d],c(a,function(a){a(!1,{node:b,selector:d,parents:f})}))})}));d.selectorChangedData[a]||(d.selectorChangedData[a]=[]);d.selectorChangedData[a].push(b);return d},scrollIntoView:function(a){var b,c=this.dom;b=c.getViewPort(this.editor.getWin());a=c.getPos(a).y;(a<b.y||a+25>b.y+b.h)&&this.editor.getWin().scrollTo(0,a<b.y?a:a-b.h+25)},destroy:function(){this.win=null;this.controlSelection.destroy()}};return b});x("tinymce/dom/RangeUtils",["tinymce/util/Tools"],function(k){function h(e){this.walk=
function(a,b){function c(a){var b;b=a[0];3===b.nodeType&&(b===l&&h>=b.nodeValue.length)&&a.splice(0,1);b=a[a.length-1];0===k&&(0<a.length&&b===s&&3===b.nodeType)&&a.splice(a.length-1,1);return a}function d(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function n(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function g(a,g,e){var f=e?"nextSibling":"previousSibling";u=a;for(r=u.parentNode;u&&u!=g;u=r)r=u.parentNode,y=d(u==a?u:u[f],f),y.length&&(e||y.reverse(),b(c(y)))}var l=a.startContainer,
h=a.startOffset,s=a.endContainer,k=a.endOffset,q,p,u,r,y;p=e.select("td.mce-item-selected,th.mce-item-selected");if(0<p.length)f(p,function(a){b([a])});else{1==l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[h]);1==s.nodeType&&s.hasChildNodes()&&(s=s.childNodes[Math.min(k-1,s.childNodes.length-1)]);if(l==s)return b(c([l]));q=e.findCommonAncestor(l,s);for(u=l;u;u=u.parentNode){if(u===s)return g(l,q,!0);if(u===q)break}for(u=s;u;u=u.parentNode){if(u===l)return g(s,q);if(u===q)break}p=n(l,q)||l;q=n(s,
q)||s;g(l,p,!0);y=d(p==l?p:p.nextSibling,"nextSibling",q==s?q.nextSibling:q);y.length&&b(c(y));g(s,q)}};this.split=function(a){var b=a.startContainer,c=a.startOffset,d=a.endContainer;a=a.endOffset;b==d&&3==b.nodeType?0<c&&c<b.nodeValue.length&&(d=b.splitText(c),b=d.previousSibling,a>c?(b=d=d.splitText(a-c).previousSibling,a=d.nodeValue.length,c=0):a=0):(3==b.nodeType&&(0<c&&c<b.nodeValue.length)&&(b=b.splitText(c),c=0),3==d.nodeType&&(0<a&&a<d.nodeValue.length)&&(d=d.splitText(a).previousSibling,
a=d.nodeValue.length));return{startContainer:b,startOffset:c,endContainer:d,endOffset:a}}}var f=k.each;h.compareRanges=function(e,a){if(e&&a)if(e.item||e.duplicate){if(e.item&&a.item&&e.item(0)===a.item(0)||e.isEqual&&a.isEqual&&a.isEqual(e))return!0}else return e.startContainer==a.startContainer&&e.startOffset==a.startOffset;return!1};return h});x("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/util/Tools"],function(k,h,f){return function(e){function a(a){a.nodeType&&
(a=a.nodeName);return!!e.schema.getTextBlockElements()[a.toLowerCase()]}function b(a,b){return w.getParents(a,b,w.getRoot())}function c(a){return 1===a.nodeType&&"_mce_caret"===a.id}function d(a){return a?M[a]:M}function n(a,b){a&&("string"!==typeof a?R(a,function(a,b){n(b,a)}):(b=b.length?b:[b],R(b,function(a){a.deep===Y&&(a.deep=!a.selector);a.split===Y&&(a.split=!a.selector||a.inline);a.remove===Y&&(a.selector&&!a.inline)&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);
"string"===typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),M[a]=b))}function g(a){var b;e.dom.getParent(a,function(a){return(b=e.dom.getStyle(a,"text-decoration"))&&"none"!==b});return b}function l(a){var b;1===a.nodeType&&(a.parentNode&&1===a.parentNode.nodeType)&&(b=g(a.parentNode),e.dom.getStyle(a,"color")&&b?e.dom.setStyle(a,"text-decoration",b):e.dom.getStyle(a,"textdecoration")===b&&e.dom.setStyle(a,"text-decoration",null))}function v(b,g,f){function n(a,b){b=b||G;if(a){if(b.onformat)b.onformat(a,
b,g,f);R(b.styles,function(b,c){w.setStyle(a,c,y(b,g))});R(b.attributes,function(b,c){w.setAttrib(a,c,y(b,g))});R(b.classes,function(b){b=y(b,g);w.hasClass(a,b)||w.addClass(a,b)})}}function h(){var a=e.selection.getRng(),b=a.startContainer,c=a.endContainer;if(b!=c&&0===a.endOffset){a:{c=new k(c);for(f=c.current();f;f=c.prev())if(1<f.childNodes.length||f==b||"BR"==f.tagName){b=f;break a}b=void 0}a.setEnd(b,3==b.nodeType?b.length:b.childNodes.length)}return a}function s(a,b,c,d,g){var e=[],f=-1,n,l=
-1,h=-1,m;R(a.childNodes,function(a,b){if("UL"===a.nodeName||"OL"===a.nodeName)return f=b,n=a,!1});R(a.childNodes,function(a,c){"SPAN"===a.nodeName&&"bookmark"==w.getAttrib(a,"data-mce-type")&&(a.id==b.id+"_start"?l=c:a.id==b.id+"_end"&&(h=c))});if(0>=f||l<f&&h>f)return R(W(a.childNodes),g),0;m=w.clone(c,U);R(W(a.childNodes),function(a,b){if(l<f&&b<f||l>f&&b>f)e.push(a),a.parentNode.removeChild(a)});l<f?a.insertBefore(m,n):l>f&&a.insertBefore(m,n.nextSibling);d.push(m);R(e,function(a){m.appendChild(a)});
return m}function q(d,e,f){var l=[],h,v,k=!0;h=G.inline||G.block;v=w.create(h);n(v);K.walk(d,function(d){function m(d){var q,S,y,T,z;z=k;q=d.nodeName.toLowerCase();S=d.parentNode.nodeName.toLowerCase();1===d.nodeType&&Z(d)&&(z=k,k="true"===Z(d),T=!0);if(u(q,"br"))p=0,G.block&&w.remove(d);else if(G.wrapper&&t(d,b,g))p=0;else if(k&&!T&&G.block&&!G.wrapper&&a(q)&&J(S,h))d=w.rename(d,h),n(d),l.push(d),p=0;else{if(G.selector&&(R(r,function(a){"collapsed"in a&&a.collapsed!==Q||(!w.is(d,a.selector)||c(d))||
(n(d,a),y=!0)}),!G.inline||y)){p=0;return}!k||T||!J(h,q)||!J(S,h)||!f&&3===d.nodeType&&1===d.nodeValue.length&&65279===d.nodeValue.charCodeAt(0)||c(d)||G.inline&&O(d)?"li"==q&&e?p=s(d,e,v,l,m):(p=0,R(W(d.childNodes),m),T&&(k=z),p=0):(p||(p=w.clone(v,U),d.parentNode.insertBefore(p,d),l.push(p)),p.appendChild(d))}}var p;R(d,m)});!1===G.wrap_links&&R(l,function(a){function b(a){var c,d,g;if("A"===a.nodeName){d=w.clone(v,U);l.push(d);g=W(a.childNodes);for(c=0;c<g.length;c++)d.appendChild(g[c]);a.appendChild(d)}R(W(a.childNodes),
b)}b(a)});R(l,function(a){function d(a){var b,g;R(a.childNodes,function(a){if(1==a.nodeType&&!E(a)&&!c(a))return b=a,U});b&&p(b,G)&&(g=w.clone(b,U),n(g),w.replace(g,a,T),w.remove(b,1));return g||a}var e;e=function(a){var b=0;R(a.childNodes,function(a){m(a)||E(a)||b++});return b}(a);if((1<l.length||!O(a))&&0===e)w.remove(a,1);else if(G.inline||G.wrapper){G.exact||1!==e||(a=d(a));R(r,function(b){R(w.select(b.inline,a),function(a){var c;if(!1===b.wrap_links){c=a.parentNode;do if("A"===c.nodeName)return;
while(c=c.parentNode)}C(b,g,a,b.exact?a:null)})});if(t(a.parentNode,b,g))return w.remove(a,1),a=0,T;G.merge_with_parents&&w.getParent(a.parentNode,function(c){if(t(c,b,g))return w.remove(a,1),a=0,T});a&&!1!==G.merge_siblings&&(a=H(z(a),a),a=H(a,z(a,T)))}})}var r=d(b),G=r[0],S,Q=!f&&A.isCollapsed();if(G)if(f)f.nodeType?(S=w.createRng(),S.setStartBefore(f),S.setEndAfter(f),q(I(S,r),null,!0)):q(f,null,!0);else if(Q&&G.inline&&!w.select("td.mce-item-selected,th.mce-item-selected").length)D("apply",b,
g);else{var F=e.selection.getNode();P||(!r[0].defaultBlock||w.getParent(F,w.isBlock))||v(r[0].defaultBlock);e.selection.setRng(h());S=A.getBookmark();q(I(A.getRng(T),r),S);G.styles&&(G.styles.color||G.styles.textDecoration)&&(da(F,l,"childNodes"),l(F));A.moveToBookmark(S);N(A.getRng(T));e.nodeChanged()}}function s(a,c,f){function n(a){var b,d,g,e,f;1===a.nodeType&&Z(a)&&(e=G,G="true"===Z(a),f=!0);b=W(a.childNodes);if(G&&!f)for(d=0,g=p.length;d<g&&!C(p[d],c,a,a);d++);if(r.deep&&b.length){d=0;for(g=
b.length;d<g;d++)n(b[d]);f&&(G=e)}}function l(d){var g;R(b(d.parentNode).reverse(),function(b){var d;g||("_start"==b.id||"_end"==b.id)||(d=t(b,a,c))&&!1!==d.split&&(g=b)});return g}function h(a,b,d,g){var e,f,n,l,s,m;if(a){m=a.parentNode;for(e=b.parentNode;e&&e!=m;e=e.parentNode){f=w.clone(e,U);for(s=0;s<p.length;s++)if(C(p[s],c,f,f)){f=0;break}f&&(n&&f.appendChild(n),l||(l=f),n=f)}!g||r.mixed&&O(a)||(b=w.split(a,b));n&&(d.parentNode.insertBefore(n,d),l.appendChild(d))}return b}function s(a){var b=
w.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];E(c)&&(c=c[a?"firstChild":"lastChild"]);w.remove(b,!0);return c}function m(a){var b,c;a=I(a,p,T);r.split&&(b=x(a,T),c=x(a),b!=c?(/^(TR|TD)$/.test(b.nodeName)&&b.firstChild&&(b="TD"==b.nodeName?b.firstChild||b:b.firstChild.firstChild||b),b=F(b,"span",{id:"_start","data-mce-type":"bookmark"}),c=F(c,"span",{id:"_end","data-mce-type":"bookmark"}),h(l(b),b,b,!0),h(l(c),c,c,!0),b=s(T),c=s()):b=c=h(l(b),b,b,!0),a.startContainer=b.parentNode,a.startOffset=
Q(b),a.endContainer=c.parentNode,a.endOffset=Q(c)+1);K.walk(a,function(a){R(a,function(a){n(a);1===a.nodeType&&("underline"===e.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===g(a.parentNode))&&C({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var p=d(a),r=p[0],v,G=!0;f?f.nodeType?(v=w.createRng(),v.setStartBefore(f),v.setEndAfter(f),m(v)):m(f):A.isCollapsed()&&r.inline&&!w.select("td.mce-item-selected,th.mce-item-selected").length?D("remove",a,c):(f=
A.getBookmark(),m(A.getRng(T)),A.moveToBookmark(f),r.inline&&q(a,c,A.getStart())&&N(A.getRng(!0)),e.nodeChanged())}function t(a,b,c,g){function e(a,b,d){var f,n,l=b[d];if(b.onmatch)return b.onmatch(a,b,d);if(l)if(l.length===Y)for(f in l){if(l.hasOwnProperty(f)&&(n="attributes"===d?w.getAttrib(a,f):r(w.getStyle(a,f),f),g&&!n&&!b.exact||(!g||b.exact)&&!u(n,r(y(l[f],c),f))))return}else for(f=0;f<l.length&&("attributes"===d?!w.getAttrib(a,l[f]):!r(w.getStyle(a,l[f]),l[f]));f++);return b}var f=d(b),n;
if(f&&a)for(n=0;n<f.length;n++)if(b=f[n],p(a,b)&&e(a,b,"attributes")&&e(a,b,"styles")){if(f=b.classes)for(n=0;n<f.length;n++)if(!w.hasClass(a,f[n]))return;return b}}function q(a,b,c){function d(c){c=w.getParent(c,function(c){return!!t(c,a,b,!0)});return t(c,a,b)}var g;if(c)return d(c);c=A.getNode();if(d(c))return T;g=A.getStart();return g!=c&&d(g)?T:U}function p(a,b){if(u(a,b.inline)||u(a,b.block))return T;if(b.selector)return 1==a.nodeType&&w.is(a,b.selector)}function u(a,b){a=a||"";b=b||"";a=""+
(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function r(a,b){if("color"==b||"backgroundColor"==b)a=w.toHex(a);"fontWeight"==b&&700==a&&(a="bold");"fontFamily"==b&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,","));return""+a}function y(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function m(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function F(a,b,c){b=w.create(b,c);a.parentNode.insertBefore(b,
a);b.appendChild(a);return b}function I(c,d,g){function f(a){var b,c,g,e;b=c=a?q:G;g=a?"previousSibling":"nextSibling";e=w.getRoot();if(3==b.nodeType&&!m(b)&&(a?0<v:t<b.nodeValue.length))return b;for(;;){if(!d[0].block_expand&&O(c))return c;for(a=c[g];a;a=a[g])if(!(E(a)||m(a)||"BR"==a.nodeName&&a.getAttribute("data-mce-bogus")&&!a.nextSibling))return c;if(c.parentNode==e){b=c;break}c=c.parentNode}return b}function n(a,b){for(b===Y&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=
a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function l(a){for(var b=a;b;){if(1===b.nodeType&&Z(b))return"false"===Z(b)?b:a;b=b.parentNode}return a}function h(a,b,c){function d(a,b){var e,f;f=a.nodeValue;"undefined"==typeof b&&(b=c?f.length:0);c?(e=f.lastIndexOf(" ",b),f=f.lastIndexOf("\u00a0",b),e=e>f?e:f,-1===e||g||e++):(e=f.indexOf(" ",b),f=f.indexOf("\u00a0",b),e=-1!==e&&(-1===f||e<f)?e:f);return e}var f,n;if(3===a.nodeType){b=d(a,b);if(-1!==b)return{container:a,
offset:b};n=a}for(a=new k(a,w.getParent(a,O)||e.getBody());f=a[c?"prev":"next"]();)if(3===f.nodeType){if(n=f,b=d(f),-1!==b)return{container:f,offset:b}}else if(O(f))break;if(n)return b=c?0:n.length,{container:n,offset:b}}function s(a,g){var e,f,n,l;3==a.nodeType&&(0===a.nodeValue.length&&a[g])&&(a=a[g]);e=b(a);for(f=0;f<e.length;f++)for(n=0;n<d.length;n++)if(l=d[n],!("collapsed"in l&&l.collapsed!==c.collapsed)&&w.is(e[f],l.selector))return e[f];return a}function p(c,g){var e;d[0].wrapper||(e=w.getParent(c,
d[0].block));e||(e=w.getParent(3==c.nodeType?c.parentNode:c,a));e&&d[0].wrapper&&(e=b(e,"ul,ol").reverse()[0]||e);if(!e)for(e=c;e[g]&&!O(e[g])&&(e=e[g],!u(e,"br")););return e||c}var r,q=c.startContainer,v=c.startOffset,G=c.endContainer,t=c.endOffset;1==q.nodeType&&q.hasChildNodes()&&(r=q.childNodes.length-1,q=q.childNodes[v>r?r:v],3==q.nodeType&&(v=0));1==G.nodeType&&G.hasChildNodes()&&(r=G.childNodes.length-1,G=G.childNodes[t>r?r:t-1],3==G.nodeType&&(t=G.nodeValue.length));q=l(q);G=l(G);if(E(q.parentNode)||
E(q))q=E(q)?q:q.parentNode,q=q.nextSibling||q,3==q.nodeType&&(v=0);if(E(G.parentNode)||E(G))G=E(G)?G:G.parentNode,G=G.previousSibling||G,3==G.nodeType&&(t=G.length);if(d[0].inline){if(c.collapsed){if(r=h(q,v,!0))q=r.container,v=r.offset;if(r=h(G,t))G=r.container,t=r.offset}r=n(G,t);if(r.node){for(;r.node&&0===r.offset&&r.node.previousSibling;)r=n(r.node.previousSibling);r.node&&(0<r.offset&&3===r.node.nodeType&&" "===r.node.nodeValue.charAt(r.offset-1))&&1<r.offset&&(G=r.node,G.splitText(r.offset-
1))}}if(d[0].inline||d[0].block_expand)d[0].inline&&3==q.nodeType&&0!==v||(q=f(!0)),d[0].inline&&3==G.nodeType&&t!==G.nodeValue.length||(G=f());d[0].selector&&(d[0].expand!==U&&!d[0].inline)&&(q=s(q,"previousSibling"),G=s(G,"nextSibling"));if(d[0].block||d[0].selector)q=p(q,"previousSibling"),G=p(G,"nextSibling"),d[0].block&&(O(q)||(q=f(!0)),O(G)||(G=f()));1==q.nodeType&&(v=Q(q),q=q.parentNode);1==G.nodeType&&(t=Q(G)+1,G=G.parentNode);return{startContainer:q,startOffset:v,endContainer:G,endOffset:t}}
function C(a,b,c,d){var g,e,f;if(!p(c,a))return U;if("all"!=a.remove)for(R(a.styles,function(a,g){a=r(y(a,b),g);"number"===typeof g&&(g=a,d=0);d&&!u(r(w.getStyle(d,g),g),a)||w.setStyle(c,g,"");f=1}),f&&""===w.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),R(a.attributes,function(a,g){var e;a=y(a,b);"number"===typeof g&&(g=a,d=0);if(!d||u(w.getAttrib(d,g),a)){if("class"==g&&(a=w.getAttrib(c,g))&&(e="",R(a.split(/\s+/),function(a){/mce\w+/.test(a)&&(e+=(e?" ":
"")+a)}),e)){w.setAttrib(c,g,e);return}"class"==g&&c.removeAttribute("className");G.test(g)&&c.removeAttribute("data-mce-"+g);c.removeAttribute(g)}}),R(a.classes,function(a){a=y(a,b);d&&!w.hasClass(d,a)||w.removeClass(c,a)}),e=w.getAttribs(c),g=0;g<e.length;g++)if(0!==e[g].nodeName.indexOf("_"))return U;if("none"!=a.remove)return B(c,a),T}function B(a,b){function c(a,b,d){a=z(a,b,d);return!a||"BR"==a.nodeName||O(a)}var d=a.parentNode,g;b.block&&(P?d==w.getRoot()&&(b.list_block&&u(a,b.list_block)||
R(W(a.childNodes),function(a){J(P,a.nodeName.toLowerCase())?g?g.appendChild(a):g=F(a,P):g=0})):O(a)&&!O(d)&&(c(a,U)||c(a.firstChild,T,1)||a.insertBefore(w.create("br"),a.firstChild),c(a,T)||c(a.lastChild,U,1)||a.appendChild(w.create("br"))));b.selector&&b.inline&&!u(b.inline,a)||w.remove(a,1)}function z(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!m(a))return a}function E(a){return a&&1==a.nodeType&&"bookmark"==a.getAttribute("data-mce-type")}function H(a,
b){function c(a,b){function d(a){var b={};R(w.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&(b[c]=w.getAttrib(a,c))});return b}function g(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){c=b[d];if(c===Y||a[d]!=c)return U;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return U;return T}return a.nodeName==b.nodeName&&g(d(a),d(b))&&g(w.parseStyle(w.getAttrib(a,"style")),w.parseStyle(w.getAttrib(b,"style")))?T:U}function d(a,b){for(g=a;g&&(3!=g.nodeType||0===g.nodeValue.length);g=
g[b])if(1==g.nodeType&&!E(g))return g;return a}var g,e;if(a&&b&&(a=d(a,"previousSibling"),b=d(b,"nextSibling"),c(a,b))){for(g=a.nextSibling;g&&g!=b;)e=g,g=g.nextSibling,a.appendChild(e);w.remove(b);R(W(b.childNodes),function(b){a.appendChild(b)});return a}return b}function x(a,b){var c,d,g;c=a[b?"startContainer":"endContainer"];d=a[b?"startOffset":"endOffset"];1==c.nodeType&&(g=c.childNodes.length-1,!b&&d&&d--,c=c.childNodes[d>g?g:d]);3===c.nodeType&&(b&&d>=c.nodeValue.length)&&(c=(new k(c,e.getBody())).next()||
c);3!==c.nodeType||(b||0!==d)||(c=(new k(c,e.getBody())).prev()||c);return c}function D(b,c,g){function f(a){var b=w.create("span",{id:G,"data-mce-bogus":!0,style:u?"color:red":""});a&&b.appendChild(e.getDoc().createTextNode(S));return b}function n(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==S||1<a.childNodes.length)return!1;b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function l(a){for(;a;){if(a.id===G)return a;a=a.parentNode}}function h(a){var b;if(a)for(b=new k(a,a),a=b.current();a;a=
b.next())if(3===a.nodeType)return a}function m(a,b){var c,d;if(a)d=A.getRng(!0),n(a)?(!1!==b&&(d.setStartBefore(a),d.setEndBefore(a)),w.remove(a)):(c=h(a),c.nodeValue.charAt(0)===S&&c.deleteData(0,1),w.remove(a,1)),A.setRng(d);else if(a=l(A.getStart()),!a)for(;a=w.get(G);)m(a,!1)}function q(){var a,b,e,n,s;a=A.getRng(!0);n=a.startOffset;s=a.startContainer.nodeValue;(b=l(A.getStart()))&&(e=h(b));s&&0<n&&n<s.length&&/\w/.test(s.charAt(n))&&/\w/.test(s.charAt(n-1))?(b=A.getBookmark(),a.collapse(!0),
a=I(a,d(c)),a=K.split(a),v(c,g,a),A.moveToBookmark(b)):(b&&e.nodeValue===S||(b=f(!0),e=b.firstChild,a.insertNode(b),n=1),v(c,g,b),A.setCursorLocation(e,n))}function p(){var b=A.getRng(!0),e,n,l,h,m,q=[];e=b.startContainer;n=b.startOffset;l=e;if(3==e.nodeType){if(n!=e.nodeValue.length||e.nodeValue===S)h=!0;l=l.parentNode}for(;l;){if(t(l,c,g)){m=l;break}l.nextSibling&&(h=!0);q.push(l);l=l.parentNode}if(m)if(h)l=A.getBookmark(),b.collapse(!0),b=I(b,d(c),!0),b=K.split(b),s(c,g,b),A.moveToBookmark(l);
else{l=b=f();for(e=q.length-1;0<=e;e--)l.appendChild(w.clone(q[e],!1)),l=l.firstChild;l.appendChild(w.doc.createTextNode(S));l=l.firstChild;(q=w.getParent(m,a))&&w.isEmpty(q)?m.parentNode.replaceChild(b,m):w.insertAfter(b,m);A.setCursorLocation(l,1)}}function r(){var a;(a=l(A.getStart()))&&!w.isEmpty(a)&&da(a,function(a){1!=a.nodeType||(a.id===G||w.isEmpty(a))||w.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var G="_mce_caret",u=e.settings.caret_debug;e._hasCaretEvents||(ba=function(){var a=[],
b;if(n(l(A.getStart()),a))for(b=a.length;b--;)w.setAttrib(a[b],"data-mce-bogus","1")},aa=function(a){a=a.keyCode;m();8!=a&&37!=a&&39!=a||m(l(A.getStart()));r()},e.on("SetContent",function(a){a.selection&&r()}),e._hasCaretEvents=!0);"apply"==b?q():p()}function N(a){var b=a.startContainer,c=a.startOffset,d,g;3==b.nodeType&&c>=b.nodeValue.length&&(c=Q(b),b=b.parentNode,d=!0);if(1==b.nodeType)for(g=b.childNodes,b=g[Math.min(c,g.length-1)],b=new k(b,w.getParent(b,w.isBlock)),(c>g.length-1||d)&&b.next(),
c=b.current();c;c=b.next())if(3==c.nodeType&&!m(c)){d=w.create("a",null,S);c.parentNode.insertBefore(d,c);a.setStart(c,0);A.setRng(a);w.remove(d);break}}var M={},w=e.dom,A=e.selection,K=new h(w),J=e.schema.isValidChild,O=w.isBlock,P=e.settings.forced_root_block,Q=w.nodeIndex,S="\ufeff",G=/^(src|href|style)$/,U=!1,T=!0,X,Y,Z=w.getContentEditable,aa,ba,R=f.each,W=f.grep,da=f.walk,ga=f.extend;ga(this,{get:d,register:n,apply:v,remove:s,toggle:function(a,b,c){var g=d(a);!q(a,b,c)||"toggle"in g[0]&&!g[0].toggle?
v(a,b,c):s(a,b,c)},match:q,matchAll:function(a,b){var c,d=[],g={};c=A.getStart();w.getParent(c,function(c){var e,f;for(e=0;e<a.length;e++)f=a[e],!g[f]&&t(c,f,b)&&(g[f]=!0,d.push(f))},w.getRoot());return d},matchNode:t,canApply:function(a){a=d(a);var c,g,e,f;if(a)for(c=A.getStart(),c=b(c),e=a.length-1;0<=e;e--){f=a[e].selector;if(!f)return T;for(g=c.length-1;0<=g;g--)if(w.is(c[g],f))return T}return U},formatChanged:function(a,c,d){var g;X||(X={},g={},e.on("NodeChange",function(a){var c=b(a.element),
d={};R(X,function(a,b){R(c,function(e){if(t(e,b,{},a.similar))return g[b]||(R(a,function(a){a(!0,{node:e,format:b,parents:c})}),g[b]=a),d[b]=a,!1})});R(g,function(b,e){d[e]||(delete g[e],R(b,function(b){b(!1,{node:a.element,format:e,parents:c})}))})}));R(a.split(","),function(a){X[a]||(X[a]=[],X[a].similar=d);X[a].push(c)});return this}});(function(){n({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,
styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],
alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},
exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",
remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){R(c,function(b,c){w.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});R("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){n(a,{block:a,remove:"all"})});
n(e.settings.formats)})();(function(){e.addShortcut("ctrl+b","bold_desc","Bold");e.addShortcut("ctrl+i","italic_desc","Italic");e.addShortcut("ctrl+u","underline_desc","Underline");for(var a=1;6>=a;a++)e.addShortcut("ctrl+"+a,"",["FormatBlock",!1,"h"+a]);e.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]);e.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]);e.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])})();e.on("BeforeGetContent",function(){ba&&ba()});e.on("mouseup keydown",function(a){aa&&
aa(a)})}});x("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools"],function(k,h){var f=h.trim,e;e=RegExp('<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>|<div[^>]+data-mce-bogus[^>]+><\\/div>|\\s?data-mce-selected="[^"]+"',"gi");return function(a){function b(){return f(a.getContent({format:"raw",no_events:1}).replace(e,""))}function c(){d.typing=!1;d.add()}var d,n=0,g=[],l,h;a.on("init",function(){d.add()});a.on("BeforeExecCommand",function(a){a=a.command;"Undo"!=a&&("Redo"!=a&&"mceRepaint"!=
a)&&d.beforeChange()});a.on("ExecCommand",function(a){a=a.command;"Undo"!=a&&("Redo"!=a&&"mceRepaint"!=a)&&d.add()});a.on("ObjectResizeStart",function(){d.beforeChange()});a.on("SaveContent ObjectResized",c);a.dom.bind(a.dom.getRoot(),"dragend",c);a.dom.bind(a.getBody(),"focusout",function(){!a.removed&&d.typing&&c()});a.on("KeyUp",function(e){var f=e.keyCode;if(33<=f&&36>=f||37<=f&&40>=f||45==f||13==f||e.ctrlKey)c(),a.nodeChanged();(46==f||8==f||k.mac&&(91==f||93==f))&&a.nodeChanged();h&&d.typing&&
(a.isDirty()||(a.isNotDirty=!g[0]||b()==g[0].content),a.fire("TypingUndo"),h=!1,a.nodeChanged())});a.on("KeyDown",function(a){a=a.keyCode;33<=a&&36>=a||37<=a&&40>=a||45==a?d.typing&&c():(16>a||20<a)&&(224!=a&&91!=a&&!d.typing)&&(d.beforeChange(),d.typing=!0,d.add(),h=!0)});a.on("MouseDown",function(){d.typing&&c()});a.addShortcut("ctrl+z","","Undo");a.addShortcut("ctrl+y,ctrl+shift+z","","Redo");a.on("AddUndo Undo Redo ClearUndos MouseUp",function(b){b.isDefaultPrevented()||a.nodeChanged()});return d=
{data:g,typing:!1,beforeChange:function(){l=a.selection.getBookmark(2,!0)},add:function(c){var d;d=a.settings;var e;c=c||{};c.content=b();if(a.fire("BeforeAddUndo",{level:c}).isDefaultPrevented()||(e=g[n])&&e.content==c.content)return null;g[n]&&(g[n].beforeBookmark=l);if(d.custom_undo_redo_levels&&g.length>d.custom_undo_redo_levels){for(d=0;d<g.length-1;d++)g[d]=g[d+1];g.length--;n=g.length}c.bookmark=a.selection.getBookmark(2,!0);n<g.length-1&&(g.length=n+1);g.push(c);n=g.length-1;e={level:c,lastLevel:e};
a.fire("AddUndo",e);0<n&&(a.fire("change",e),a.isNotDirty=!1);return c},undo:function(){var b;d.typing&&(d.add(),d.typing=!1);0<n&&(b=g[--n],a.setContent(b.content,{format:"raw"}),a.selection.moveToBookmark(b.beforeBookmark),a.fire("undo",{level:b}));return b},redo:function(){var b;n<g.length-1&&(b=g[++n],a.setContent(b.content,{format:"raw"}),a.selection.moveToBookmark(b.bookmark),a.fire("redo",{level:b}));return b},clear:function(){g=[];n=0;d.typing=!1;a.fire("ClearUndos")},hasUndo:function(){return 0<
n||d.typing&&g[0]&&b()!=g[0].content},hasRedo:function(){return n<g.length-1&&!this.typing},transact:function(a){d.beforeChange();a();d.add()}}}});x("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/Env"],function(k,h){var f=h.ie;return function(e){function a(a){function h(a){return a&&b.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&"true"!==b.getContentEditable(a)}function t(a){var d;b.isBlock(a)&&(d=c.getRng(),a.appendChild(b.create("span",
null,"\u00a0")),c.select(a),a.lastChild.outerHTML="",c.setRng(d))}function q(a){for(var c=[],d;a=a.firstChild;){if(b.isBlock(a))return;1!=a.nodeType||l[a.nodeName.toLowerCase()]||c.push(a)}for(d=c.length;d--;)a=c[d],!a.hasChildNodes()||a.firstChild==a.lastChild&&""===a.firstChild.nodeValue?b.remove(a):"A"==a.nodeName&&" "===(a.innerText||a.textContent)&&b.remove(a)}function p(a){var d,g,e,f=a,n;e=b.createRng();if(a.hasChildNodes()){for(d=new k(a,a);g=d.current();){if(3==g.nodeType){e.setStart(g,0);
e.setEnd(g,0);break}if(l[g.nodeName.toLowerCase()]){e.setStartBefore(g);e.setEndBefore(g);break}f=g;d.next()}g||(e.setStart(f,0),e.setEnd(f,0))}else if("BR"==a.nodeName)if(a.nextSibling&&b.isBlock(a.nextSibling)){if(!M||9>M)n=b.create("br"),a.parentNode.insertBefore(n,a);e.setStartBefore(a);e.setEndBefore(a)}else e.setStartAfter(a),e.setEndAfter(a);else e.setStart(a,0),e.setEnd(a,0);c.setRng(e);b.remove(n);c.scrollIntoView(a)}function u(a){var c=x,g,e;e=a=a||"TABLE"==O?b.create(a||Q):N.cloneNode(!1);
if(!1!==d.keep_styles){do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(c.nodeName)&&"_mce_caret"!=c.id&&(g=c.cloneNode(!1),b.setAttrib(g,"id",""),a.hasChildNodes()?g.appendChild(a.firstChild):e=g,a.appendChild(g));while(c=c.parentNode)}f||(e.innerHTML='<br data-mce-bogus="1">');return a}function r(a){var b,c;if(3==x.nodeType&&(a?0<D:D<x.nodeValue.length))return!1;if(x.parentNode==N&&S&&!a||a&&1==x.nodeType&&x==N.firstChild)return!0;if("TABLE"===x.nodeName||x.previousSibling&&"TABLE"==x.previousSibling.nodeName)return S&&
!a||!S&&a;b=new k(x,N);for(3==x.nodeType&&(a&&0===D?b.prev():a||D!=x.nodeValue.length||b.next());c=b.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(c=c.nodeName.toLowerCase(),l[c]&&"br"!==c))return!1}else if(3===c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0}function y(a,c){var d,f,n,l,m=Q||"P";f=b.getParent(a,b.isBlock);d=e.getBody().nodeName.toLowerCase();if(!f||!h(f)){f=f||H;if(!f.hasChildNodes())return d=b.create(m),f.appendChild(d),
z.setStart(d,0),z.setEnd(d,0),d;for(l=a;l.parentNode!=f;)l=l.parentNode;for(;l&&!b.isBlock(l);)n=l,l=l.previousSibling;if(n&&g.isValidChild(d,m.toLowerCase())){d=b.create(m);n.parentNode.insertBefore(d,n);for(l=n;l&&!b.isBlock(l);)f=l.nextSibling,d.appendChild(l),l=f;z.setStart(a,c);z.setEnd(a,c)}}return a}function m(){function a(b){for(var c=J[b?"firstChild":"lastChild"];c&&1!=c.nodeType;)c=c[b?"nextSibling":"previousSibling"];return c===N}function c(){var a=J.parentNode;return"LI"==a.nodeName?a:
J}var d=J.parentNode.nodeName;/^(OL|UL|LI)$/.test(d)&&(Q="LI");A=Q?u(Q):b.create("BR");a(!0)&&a()?"LI"==d?b.insertAfter(A,c()):b.replace(A,J):a(!0)?"LI"==d?(b.insertAfter(A,c()),A.appendChild(b.doc.createTextNode(" ")),A.appendChild(J)):J.parentNode.insertBefore(A,J):a()?(b.insertAfter(A,c()),t(A)):(J=c(),E=z.cloneRange(),E.setStartAfter(N),E.setEndAfter(J),K=E.extractContents(),b.insertAfter(K,J),b.insertAfter(A,J));b.remove(N);p(A);n.add()}function F(){var a,d,g;if(x&&3==x.nodeType&&D>=x.nodeValue.length){if(a=
!f){a:{for(a=new k(x,N);g=a.next();)if(l[g.nodeName.toLowerCase()]||0<g.length){a=!0;break a}a=void 0}a=!a}a&&(a=b.create("br"),z.insertNode(a),z.setStartAfter(a),z.setEndAfter(a),d=!0)}a=b.create("br");z.insertNode(a);f&&("PRE"==O&&(!M||8>M))&&a.parentNode.insertBefore(b.doc.createTextNode("\r"),a);g=b.create("span",{},"&nbsp;");a.parentNode.insertBefore(g,a);c.scrollIntoView(g);b.remove(g);d?(z.setStartBefore(a),z.setEndBefore(a)):(z.setStartAfter(a),z.setEndAfter(a));c.setRng(z);n.add()}function I(a){do 3===
a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function C(a){for(var c=b.getRoot(),d;a!==c&&"false"!==b.getContentEditable(a);)"true"===b.getContentEditable(a)&&(d=a),a=a.parentNode;return a!==c?d:c}function B(a){var c;f||(a.normalize(),(c=a.lastChild)&&!/^(left|right)$/gi.test(b.getStyle(c,"float",!0))||b.add(a,"br"))}var z=c.getRng(!0),E,H,x,D,N,M,w,A,K,J,O,P,Q,S;if(!z.collapsed)e.execCommand("Delete");else if(!a.isDefaultPrevented()&&(x=z.startContainer,D=
z.startOffset,Q=(Q=(d.force_p_newlines?"p":"")||d.forced_root_block)?Q.toUpperCase():"",M=b.doc.documentMode,w=a.shiftKey,1==x.nodeType&&x.hasChildNodes()&&(S=D>x.childNodes.length-1,x=x.childNodes[Math.min(D,x.childNodes.length-1)]||x,D=S&&3==x.nodeType?x.nodeValue.length:0),H=C(x)))if(n.beforeChange(),b.isBlock(H)||H==b.getRoot()){if(Q&&!w||!Q&&w)x=y(x,D);J=(N=b.getParent(x,b.isBlock))?b.getParent(N.parentNode,b.isBlock):null;O=N?N.nodeName.toUpperCase():"";P=J?J.nodeName.toUpperCase():"";"LI"!=
P||a.ctrlKey||(N=J,O=P);if("LI"==O){if(!Q&&w){F();return}if(b.isEmpty(N)){m();return}}if("PRE"==O&&!1!==d.br_in_pre){if(!w){F();return}}else if(!Q&&!w&&"LI"!=O||Q&&w){F();return}Q&&N===e.getBody()||(Q=Q||"P",r()?(A=/^(H[1-6]|PRE|FIGURE)$/.test(O)&&"HGROUP"!=P?u(Q):u(),d.end_container_on_empty_block&&h(J)&&b.isEmpty(N)?A=b.split(J,N):b.insertAfter(A,N),p(A)):r(!0)?(A=N.parentNode.insertBefore(u(),N),t(A)):(E=z.cloneRange(),E.setEndAfter(N),K=E.extractContents(),I(K),A=K.firstChild,b.insertAfter(K,
N),q(A),B(N),p(A)),b.setAttrib(A,"id",""),n.add())}else Q&&!w||F()}var b=e.dom,c=e.selection,d=e.settings,n=e.undoManager,g=e.schema,l=g.getNonEmptyElements();e.on("keydown",function(b){13==b.keyCode&&!1!==a(b)&&b.preventDefault()})}});x("tinymce/ForceBlocks",[],function(){return function(k){function h(){var d=a.getStart(),n=k.getBody(),g,l,h,s,t,q,p,u,r,y,m;m=f.forced_root_block;if(d&&1===d.nodeType&&m){for(;d&&d!=n;){if(c[d.nodeName])return;d=d.parentNode}g=a.getRng();if(g.setStart){l=g.startContainer;
h=g.startOffset;s=g.endContainer;t=g.endOffset;try{r=k.getDoc().activeElement===n}catch(F){}}else g.item&&(d=g.item(0),g=k.getDoc().body.createTextRange(),g.moveToElementText(d)),r=g.parentElement().ownerDocument===k.getDoc(),d=g.duplicate(),d.collapse(!0),h=-1*d.move("character",-16777215),d.collapsed||(d=g.duplicate(),d.collapse(!1),t=-1*d.move("character",-16777215)-h);d=n.firstChild;for(y=n.nodeName.toLowerCase();d;)(3===d.nodeType||1==d.nodeType&&!c[d.nodeName])&&b.isValidChild(y,m.toLowerCase())?
3===d.nodeType&&0===d.nodeValue.length?(p=d,d=d.nextSibling,e.remove(p)):(q||(q=e.create(m),d.parentNode.insertBefore(q,d),u=!0),p=d,d=d.nextSibling,q.appendChild(p)):(q=null,d=d.nextSibling);if(u&&r){if(g.setStart)g.setStart(l,h),g.setEnd(s,t),a.setRng(g);else try{g=k.getDoc().body.createTextRange(),g.moveToElementText(n),g.collapse(!0),g.moveStart("character",h),0<t&&g.moveEnd("character",t),g.select()}catch(x){}k.nodeChanged()}}}var f=k.settings,e=k.dom,a=k.selection,b=k.schema,c=b.getBlockElements();
if(f.forced_root_block)k.on("KeyUp NodeChange",h)}});x("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools"],function(k,h,f){var e=f.each,a=f.extend,b=f.map,c=f.inArray,d=f.explode,n=h.gecko,g=h.ie,l=!0,v=!1;return function(f){function h(a,b,c){var d;a=a.toLowerCase();return(d=F.exec[a])?(d(a,b,c),l):v}function q(a){var b;a=a.toLowerCase();return(b=F.state[a])?b(a):-1}function p(a,b){b=b||"exec";e(a,function(a,c){e(c.toLowerCase().split(","),function(c){F[b][c]=a})})}
function u(a,b,c){b===P&&(b=v);c===P&&(c=null);return f.getDoc().execCommand(a,b,c)}function r(a,b){C.toggle(a,b?{value:b}:P);f.nodeChanged()}var y=f.dom,m=f.selection,F={state:{},exec:{},value:{}},x=f.settings,C=f.formatter,B;a(this,{execCommand:h,queryCommandState:q,queryCommandValue:function(a){var b;a=a.toLowerCase();return(b=F.value[a])?b(a):v},addCommands:p});p({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(a){var b=
f.getDoc(),c;try{u(a)}catch(d){c=l}!c&&b.queryCommandSupported(a)||f.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")},unlink:function(a){m.isCollapsed()&&m.select(m.getNode());u(a);m.collapse(v)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b=a.substring(7);"full"==b&&(b="justify");e(["left","center","right","justify"],function(a){b!=a&&C.remove("align"+a)});r("align"+b);h("mceRepaint")},
"InsertUnorderedList,InsertOrderedList":function(a){var b;u(a);if(a=y.getParent(m.getNode(),"ol,ul"))b=a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(B=m.getBookmark(void 0),y.split(b,a),m.moveToBookmark(B))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){r(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){r(a,c)},FontSize:function(a,b,c){var g;1<=c&&7>=c&&(g=d(x.font_size_style_values),c=(b=d(x.font_size_classes))?b[c-1]||c:g[c-1]||c);r(a,c)},RemoveFormat:function(a){C.remove(a)},
mceBlockQuote:function(){r("blockquote")},FormatBlock:function(a,b,c){return r(c||"p")},mceCleanup:function(){var a=m.getBookmark();f.setContent(f.getContent({cleanup:l}),{cleanup:l});m.moveToBookmark(a)},mceRemoveNode:function(a,b,c){a=c||m.getNode();a!=f.getBody()&&(B=m.getBookmark(void 0),f.dom.remove(a,l),m.moveToBookmark(B))},mceSelectNodeDepth:function(a,b,c){var d=0;y.getParent(m.getNode(),function(a){if(1==a.nodeType&&d++==c)return m.select(a),v},f.getBody())},mceSelectNode:function(a,b,c){m.select(c)},
mceInsertContent:function(a,b,c){function d(a){var b,c;b=m.getRng(!0);c=b.startContainer;b=b.startOffset;3==c.nodeType&&(0<b?a=a.replace(/^&nbsp;/," "):c.previousSibling&&3==c.previousSibling.nodeType||(a=a.replace(/^ /,"&nbsp;")),b<c.length?a=a.replace(/&nbsp;(<br>|)$/," "):c.nextSibling&&3==c.nextSibling.nodeType||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")));return a}var e,n,l,h,q;/^ | $/.test(c)&&(c=d(c));e=f.parser;n=new k({},f.schema);a={content:c,format:"html",selection:!0};f.fire("BeforeSetContent",
a);c=a.content;-1==c.indexOf("{$caret}")&&(c+="{$caret}");c=c.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>');m.isCollapsed()||f.getDoc().execCommand("Delete",!1,null);l=m.getNode();a={context:l.nodeName.toLowerCase()};q=e.parse(c,a);b=q.lastChild;if("mce_marker"==b.attr("id"))for(c=b,b=b.prev;b;b=b.walk(!0))if(3==b.type||!y.isBlock(b.name)){b.parent.insert(c,b,"br"===b.name);break}if(a.invalid){m.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>');
l=m.getNode();h=f.getBody();for(9==l.nodeType?l=b=h:b=l;b!==h;)l=b,b=b.parentNode;c=l==h?h.innerHTML:y.getOuterHTML(l);c=n.serialize(e.parse(c.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return n.serialize(q)})));l==h?y.setHTML(h,c):y.setOuterHTML(l,c)}else c=n.serialize(q),b=l.firstChild,e=l.lastChild,!b||b===e&&"BR"===b.nodeName?y.setHTML(l,c):m.setContent(c);c=y.get("mce_marker");b=y.getRect(c);l=y.getViewPort(f.getWin());if(b.y+b.h>l.y+l.h||b.y<l.y||b.x>l.x+l.w||b.x<
l.x)e=g?f.getDoc().documentElement:f.getBody(),e.scrollLeft=b.x,e.scrollTop=b.y-l.h+25;l=y.createRng();(b=c.previousSibling)&&3==b.nodeType?(l.setStart(b,b.nodeValue.length),g||(e=c.nextSibling)&&3==e.nodeType&&(b.appendData(e.data),e.parentNode.removeChild(e))):(l.setStartBefore(c),l.setEndBefore(c));y.remove(c);m.setRng(l);f.fire("SetContent",a);f.addVisual()},mceInsertRawHTML:function(a,b,c){m.setContent("tiny_mce_marker");f.setContent(f.getContent().replace(/tiny_mce_marker/g,function(){return c}))},
mceToggleFormat:function(a,b,c){r(c)},mceSetContent:function(a,b,c){f.setContent(c)},"Indent,Outdent":function(a){var b,c,d;b=x.indentation;c=/[a-z%]+$/i.exec(b);b=parseInt(b,10);q("InsertUnorderedList")||q("InsertOrderedList")?u(a):(x.forced_root_block||y.getParent(m.getNode(),y.isBlock)||C.apply("div"),e(m.getSelectedBlocks(),function(g){var e;"LI"!=g.nodeName&&(e="rtl"==y.getStyle(g,"direction",!0)?"paddingRight":"paddingLeft","outdent"==a?(d=Math.max(0,parseInt(g.style[e]||0,10)-b),y.setStyle(g,
e,d?d+c:"")):(d=parseInt(g.style[e]||0,10)+b+c,y.setStyle(g,e,d)))}))},mceRepaint:function(){if(n)try{B=m.getBookmark(l),m.getSel()&&m.getSel().selectAllChildren(f.getBody()),m.collapse(l),m.moveToBookmark(B)}catch(a){}},InsertHorizontalRule:function(){f.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual;f.addVisual()},mceReplaceContent:function(a,b,c){f.execCommand("mceInsertContent",!1,c.replace(/\{\$selection\}/g,m.getContent({format:"text"})))},
mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=y.getParent(m.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||C.remove("link");c.href&&C.apply("link",c,a)},selectAll:function(){var a=y.getRoot(),b=y.createRng();m.getRng().setStart?(b.setStart(a,0),b.setEnd(a,a.childNodes.length),m.setRng(b)):u("SelectAll")},mceNewDocument:function(){f.setContent("")}});p({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var d="align"+a.substring(7);a=m.isCollapsed()?[y.getParent(m.getNode(),
y.isBlock)]:m.getSelectedBlocks();a=b(a,function(a){return!!C.matchNode(a,d)});return-1!==c(a,l)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return C.match(a)},mceBlockQuote:function(){return C.match("blockquote")},Outdent:function(){var a;return x.inline_styles&&((a=y.getParent(m.getStart(),y.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=y.getParent(m.getEnd(),y.isBlock))&&0<parseInt(a.style.paddingLeft,10))?l:q("InsertUnorderedList")||q("InsertOrderedList")||!x.inline_styles&&
!!y.getParent(m.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=y.getParent(m.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state");p({"FontSize,FontName":function(a){var b=0,c;if(c=y.getParent(m.getNode(),"span"))b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value");p({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}});
x("tinymce/util/URI",["tinymce/util/Tools"],function(k){function h(a,b){var c=this,d;a=e(a);b=c.settings=b||{};if(/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a))c.source=a;else if(0===a.indexOf("/")&&0!==a.indexOf("//")&&(a=(b.base_uri?b.base_uri.protocol||"http":"http")+"://mce_host"+a),/^[\w\-]*:?\/\//.test(a)||(d=b.base_uri?b.base_uri.path:(new h(location.href)).directory,a=(b.base_uri&&b.base_uri.protocol||"http")+"://mce_host"+c.toAbsPath(d,a)),a=a.replace(/@@/g,"(mce_at)"),a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a),
f("source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),function(b,d){var e=a[d];e&&(e=e.replace(/\(mce_at\)/g,"@@"));c[b]=e}),d=b.base_uri)c.protocol||(c.protocol=d.protocol),c.userInfo||(c.userInfo=d.userInfo),c.port||"mce_host"!==c.host||(c.port=d.port),c.host&&"mce_host"!==c.host||(c.host=d.host),c.source=""}var f=k.each,e=k.trim;h.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);this.path=a[0];this.directory=a[1];this.file=
a[2];this.source="";this.getURI()},toRelative:function(a){var b;if("./"===a)return a;a=new h(a,{base_uri:this});if("mce_host"!=a.host&&this.host!=a.host&&a.host||this.port!=a.port||this.protocol!=a.protocol)return a.getURI();b=this.getURI();var c=a.getURI();if(b==c||"/"==b.charAt(b.length-1)&&b.substr(0,b.length-1)==c)return b;b=this.toRelPath(this.path,a.path);a.query&&(b+="?"+a.query);a.anchor&&(b+="#"+a.anchor);return b},toAbsolute:function(a,b){a=new h(a,{base_uri:this});return a.getURI(this.host==
a.host&&this.protocol==a.protocol?b:0)},toRelPath:function(a,b){var c,d=0,e="",g,f;a=a.substring(0,a.lastIndexOf("/"));a=a.split("/");c=b.split("/");if(a.length>=c.length)for(g=0,f=a.length;g<f;g++)if(g>=c.length||a[g]!=c[g]){d=g+1;break}if(a.length<c.length)for(g=0,f=c.length;g<f;g++)if(g>=a.length||a[g]!=c[g]){d=g+1;break}if(1===d)return b;g=0;for(f=a.length-(d-1);g<f;g++)e+="../";g=d-1;for(f=c.length;g<f;g++)e=g!=d-1?e+("/"+c[g]):e+c[g];return e},toAbsPath:function(a,b){var c,d=0,e=[],g;g=/\/$/.test(b)?
"/":"";a=a.split("/");b=b.split("/");f(a,function(a){a&&e.push(a)});a=e;c=b.length-1;for(e=[];0<=c;c--)0!==b[c].length&&"."!==b[c]&&(".."===b[c]?d++:0<d?d--:e.push(b[c]));c=a.length-d;c=0>=c?e.reverse().join("/"):a.slice(0,c).join("/")+"/"+e.reverse().join("/");0!==c.indexOf("/")&&(c="/"+c);g&&c.lastIndexOf("/")!==c.length-1&&(c+=g);return c},getURI:function(a){var b;if(!this.source||a)b="",a||(this.protocol&&(b+=this.protocol+"://"),this.userInfo&&(b+=this.userInfo+"@"),this.host&&(b+=this.host),
this.port&&(b+=":"+this.port)),this.path&&(b+=this.path),this.query&&(b+="?"+this.query),this.anchor&&(b+="#"+this.anchor),this.source=b;return this.source}};return h});x("tinymce/util/Class",["tinymce/util/Tools"],function(k){function h(){}var f=k.each,e=k.extend,a,b;h.extend=a=function(c){function d(){var a,c,d;if(!b&&(this.init&&this.init.apply(this,arguments),c=this.Mixins))for(a=c.length;a--;)d=c[a],d.init&&d.init.apply(this,arguments)}function n(){return this}function g(a,b){return function(){var c=
this._super,d;this._super=l[a];d=b.apply(this,arguments);this._super=c;return d}}var l=this.prototype,h,s,k;b=!0;h=new this;b=!1;c.Mixins&&(f(c.Mixins,function(a){for(var b in a)"init"!==b&&(c[b]=a[b])}),l.Mixins&&(c.Mixins=l.Mixins.concat(c.Mixins)));c.Methods&&f(c.Methods.split(","),function(a){c[a]=n});c.Properties&&f(c.Properties.split(","),function(a){var b="_"+a;c[a]=function(a){return void 0!==a?(this[b]=a,this):this[b]}});c.Statics&&f(c.Statics,function(a,b){d[b]=a});c.Defaults&&l.Defaults&&
(c.Defaults=e({},l.Defaults,c.Defaults));for(s in c)k=c[s],h[s]="function"==typeof k&&l[s]?g(s,k):k;d.prototype=h;d.constructor=d;d.extend=a;return d};return h});x("tinymce/ui/Selector",["tinymce/util/Class","tinymce/util/Tools"],function(k,h){function f(a){for(var b=[],c=a.length,d;c--;)d=a[c],d.__checked||(b.push(d),d.__checked=1);for(c=b.length;c--;)delete b[c].__checked;return b}var e=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
b=/^\s*|\s*$/g,c,d=k.extend({init:function(c){function d(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function f(a){if(a)return function(b){return b._name===a}}function h(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.hasClass(a[c]))return!1;return!0}}function s(a,b,c){if(a)return function(d){d=d[a]?d[a]():"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===d.indexOf(c):"$="===
b?d.substr(d.length-c.length)===c:!1:!!c}}function k(a){var b;if(a){a=/(?:not\((.+)\))|(.+)/i.exec(a);if(a[1])return b=p(a[1],[]),function(a){return!u(a,b)};a=a[2];return function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1}}}function q(a,c,n){function q(a){a&&c.push(a)}a=e.exec(a.replace(b,""));q(d(a[1]));q(f(a[2]));q(h(a[3]));q(s(a[4],a[5],a[6]));q(k(a[7]));c.psuedo=!!a[7];c.direct=n;return c}function p(b,c){var d=[],g,e;do if(a.exec(""),
e=a.exec(b))if(b=e[3],d.push(e[1]),e[2]){g=e[3];break}while(e);g&&p(g,c);b=[];for(g=0;g<d.length;g++)">"!=d[g]&&b.push(q(d[g],[],">"===d[g-1]));c.push(b);return c}var u=this.match;this._selectors=p(c,[])},match:function(a,b){var c,d,e,f,q,p,k,r,y,m,F,x;b=b||this._selectors;c=0;for(d=b.length;c<d;c++){q=b[c];f=q.length;x=a;F=0;for(e=f-1;0<=e;e--)for(r=q[e];x;){r.psuedo&&(p=x.parent().items(),y=h.inArray(x,p),m=p.length);p=0;for(k=r.length;p<k;p++)if(!r[p](x,y,m)){p=k+1;break}if(p===k){F++;break}else if(e===
f-1)break;x=x.parent()}if(F===f)return!0}return!1},find:function(a){function b(a,c,d){var f,n,h,k,s,v=c[d];f=0;for(n=a.length;f<n;f++){s=a[f];h=0;for(k=v.length;h<k;h++)if(!v[h](s,f,n)){h=k+1;break}if(h===k)d==c.length-1?e.push(s):s.items&&b(s.items(),c,d+1);else if(v.direct)break;s.items&&b(s.items(),c,d)}}var e=[],h,k,t=this._selectors;if(a.items){h=0;for(k=t.length;h<k;h++)b(a.items(),t[h],0);1<k&&(e=f(e))}c||(c=d.Collection);return new c(e)}});return d});x("tinymce/ui/Collection",["tinymce/util/Tools",
"tinymce/ui/Selector","tinymce/util/Class"],function(k,h,f){var e,a,b=Array.prototype.push,c=Array.prototype.slice;a={length:0,init:function(a){a&&this.add(a)},add:function(a){k.isArray(a)?b.apply(this,a):a instanceof e?this.add(a.toArray()):b.call(this,a);return this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;a<b;a++)delete this[a];return this},filter:function(a){var b,c,f=[],k,s;"string"===typeof a?(a=new h(a),s=function(b){return a.match(b)}):s=a;b=0;for(c=this.length;b<
c;b++)k=this[b],s(k)&&f.push(k);return new e(f)},slice:function(){return new e(c.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){k.each(this,a);return this},toArray:function(){return k.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new e(k.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(a,b){var c;if(void 0!==b)return this.each(function(c){if(c[a])c[a](b)}),
this;if((c=this[0])&&c[a])return c[a]()},exec:function(a){var b=k.toArray(arguments).slice(1);this.each(function(c){c[a]&&c[a].apply(c,b)});return this}};k.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(b){a[b]=function(){var a=k.toArray(arguments);this.each(function(c){b in c&&c[b].apply(c,a)});return this}});k.each("text name disabled active selected checked visible parent value data".split(" "),function(b){a[b]=function(a){return this.prop(b,
a)}});e=f.extend(a);return h.Collection=e});x("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(k,h){return{id:function(){return h.DOM.uniqueId()},createFragment:function(f){return h.DOM.createFragment(f)},getWindowSize:function(){return h.DOM.getViewPort()},getSize:function(f){return h.DOM.getSize(f)},getPos:function(f,e){return h.DOM.getPos(f,e)},getViewPort:function(f){return h.DOM.getViewPort(f)},get:function(f){return document.getElementById(f)},addClass:function(f,
e){return h.DOM.addClass(f,e)},removeClass:function(f,e){return h.DOM.removeClass(f,e)},hasClass:function(f,e){return h.DOM.hasClass(f,e)},toggleClass:function(f,e,a){return h.DOM.toggleClass(f,e,a)},css:function(f,e,a){return h.DOM.setStyle(f,e,a)},on:function(f,e,a,b){return h.DOM.bind(f,e,a,b)},off:function(f,e,a){return h.DOM.unbind(f,e,a)},fire:function(f,e,a){return h.DOM.fire(f,e,a)}}});x("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/ui/Collection","tinymce/ui/DomUtils"],
function(k,h,f,e){var a=h.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),b={},c="onmousewheel"in document,d=k.extend({Statics:{controlIdLookup:{}},classPrefix:"mce-",init:function(a){var b=this,c,d;b.settings=a=h.extend({},b.Defaults,a);b._id=e.id();b._text=b._name="";b._width=b._height=0;b._aria={role:a.role};if(c=a.classes)for(c=c.split(" "),c.map={},d=c.length;d--;)c.map[c[d]]=!0;
b._classes=c||[];b.visible(!0);h.each("title text width height name classes visible disabled active value".split(" "),function(c){var d=a[c];if(void 0!==d)b[c](d);else void 0===b["_"+c]&&(b["_"+c]=!1)});b.on("click",function(){if(b.disabled())return!1});a.classes&&h.each(a.classes.split(" "),function(a){b.addClass(a)});b.settings=a;b._borderBox=b.parseBox(a.border);b._paddingBox=b.parseBox(a.padding);b._marginBox=b.parseBox(a.margin);a.hidden&&b.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",
Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(a){for(var b;a&&!(b=d.controlIdLookup[a.id]);)a=a.parentNode;return b},parseBox:function(a){var b;if(a){if("number"===typeof a)return a=a||0,{top:a,left:a,bottom:a,right:a};a=a.split(" ");b=a.length;1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}}},borderBox:function(){return this._borderBox},
paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(a,b){function c(b){var d=document.defaultView;return d?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),d.getComputedStyle(a,null).getPropertyValue(b)):a.currentStyle[b]}function d(a){a=parseInt(c(a),10);return isNaN(a)?0:a}return{top:d(b+"TopWidth"),right:d(b+"RightWidth"),bottom:d(b+"BottomWidth"),left:d(b+"LeftWidth")}},initLayoutRect:function(){var a=this.settings,b,c=this.getEl(),d,
e,f,h,p,k;b=this._borderBox=this._borderBox||this.measureBox(c,"border");this._paddingBox=this._paddingBox||this.measureBox(c,"padding");this._marginBox=this._marginBox||this.measureBox(c,"margin");p=a.minWidth;k=a.minHeight;e=p||c.offsetWidth;f=k||c.offsetHeight;c=a.width;d=a.height;h=a.autoResize;h="undefined"!=typeof h?h:!c&&!d;c=c||e;d=d||f;var r=b.left+b.right;b=b.top+b.bottom;var y=a.maxWidth||65535,m=a.maxHeight||65535;this._layoutRect=a={x:a.x||0,y:a.y||0,w:c,h:d,deltaW:r,deltaH:b,contentW:c-
r,contentH:d-b,innerW:c-r,innerH:d-b,startMinWidth:p||0,startMinHeight:k||0,minW:Math.min(e,y),minH:Math.min(f,m),maxW:y,maxH:m,autoResize:h,scrollW:0};this._lastLayoutRect={};return a},layoutRect:function(a){var b=this._layoutRect,c,e,f;b||(b=this.initLayoutRect());if(a){e=b.deltaW;f=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);c=a.w;void 0!==c&&(c=c<b.minW?b.minW:c,c=c>b.maxW?b.maxW:c,b.w=c,b.innerW=c-e);c=a.h;void 0!==
c&&(c=c<b.minH?b.minH:c,c=c>b.maxH?b.maxH:c,b.h=c,b.innerH=c-f);c=a.innerW;void 0!==c&&(c=c<b.minW-e?b.minW-e:c,c=c>b.maxW-e?b.maxW-e:c,b.innerW=c,b.w=c+e);c=a.innerH;void 0!==c&&(c=c<b.minH-f?b.minH-f:c,c=c>b.maxH-f?b.maxH-f:c,b.innerH=c,b.h=c+f);void 0!==a.contentW&&(b.contentW=a.contentW);void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h)(c=d.repaintControls)&&(c.map&&!c.map[this._id])&&(c.push(this),c.map[this._id]=!0),a.x=b.x,a.y=
b.y,a.w=b.w,a.h=b.h;return this}return b},repaint:function(){var a,b,c,d,e=0;d=0;var f;a=this.getEl().style;c=this._layoutRect;f=this._lastRepaintRect||{};d=this._borderBox;e=d.left+d.right;d=d.top+d.bottom;c.x!==f.x&&(a.left=c.x+"px",f.x=c.x);c.y!==f.y&&(a.top=c.y+"px",f.y=c.y);c.w!==f.w&&(a.width=c.w-e+"px",f.w=c.w);c.h!==f.h&&(a.height=c.h-d+"px",f.h=c.h);this._hasBody&&c.innerW!==f.innerW&&(b=this.getEl("body").style,b.width=c.innerW+"px",f.innerW=c.innerW);this._hasBody&&c.innerH!==f.innerH&&
(b=b||this.getEl("body").style,b.height=c.innerH+"px",f.innerH=c.innerH);this._lastRepaintRect=f;this.fire("repaint",{},!1)},on:function(b,c){function d(a){var b,c;return function(d){b||e.parents().each(function(d){var e=d.settings.callbacks;if(e&&(b=e[a]))return c=d,!1});return b.call(c,d)}}var e=this,f,h,q,p;if(c)for("string"==typeof c&&(c=d(c)),q=b.toLowerCase().split(" "),p=q.length;p--;)b=q[p],f=e._bindings,f||(f=e._bindings={}),(h=f[b])||(h=f[b]=[]),h.push(c),a[b]&&(e._nativeEvents?e._nativeEvents[b]=
!0:e._nativeEvents={name:!0},e._rendered&&e.bindPendingEvents());return e},off:function(a,b){var c,d=this._bindings,e,f,h,p;if(d)if(a)for(h=a.toLowerCase().split(" "),c=h.length;c--;){a=h[c];e=d[a];if(!a){for(f in d)d[f].length=0;break}if(e)if(b)for(p=e.length;p--;)e[p]===b&&e.splice(p,1);else e.length=0}else this._bindings=[];return this},fire:function(a,b,c){function d(){return!1}function e(){return!0}var f,h,p;a=a.toLowerCase();b=b||{};b.type||(b.type=a);b.control||(b.control=this);b.preventDefault||
(b.preventDefault=function(){b.isDefaultPrevented=e},b.stopPropagation=function(){b.isPropagationStopped=e},b.stopImmediatePropagation=function(){b.isImmediatePropagationStopped=e},b.isDefaultPrevented=d,b.isPropagationStopped=d,b.isImmediatePropagationStopped=d);if(this._bindings&&(p=this._bindings[a]))for(f=0,h=p.length;f<h&&(b.isImmediatePropagationStopped()||!1!==p[f].call(this,b));f++);if(!1!==c)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},parents:function(a){for(var b=
this,c=new f,b=b.parent();b;b=b.parent())c.add(b);a&&(c=c.filter(a));return c},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(a,b){for(var c;a;){for(c=b;c&&a!=c;)c=c.parent();if(a==c)break;a=a.parent()}return a},hasClass:function(a,b){var c=this._classes[b||"control"];a=this.classPrefix+a;return c&&!!c.map[a]},addClass:function(a,b){var c,d;a=this.classPrefix+a;c=this._classes[b||
"control"];c||(c=[],c.map={},this._classes[b||"control"]=c);!c.map[a]&&(c.map[a]=a,c.push(a),this._rendered&&(d=this.getEl(b)))&&(d.className=c.join(" "));return this},removeClass:function(a,b){var c,d;a=this.classPrefix+a;if((c=this._classes[b||"control"])&&c.map[a])for(delete c.map[a],d=c.length;d--;)c[d]===a&&c.splice(d,1);this._rendered&&(d=this.getEl(b))&&(d.className=c.join(" "));return this},toggleClass:function(a,b,c){b?this.addClass(a,c):this.removeClass(a,c);return this},classes:function(a){return(a=
this._classes[a||"control"])?a.join(" "):""},getEl:function(a,c){var d=a?this._id+"-"+a:this._id;return b[d]=(!0===c?null:b[d])||e.get(d)},visible:function(a){var b;if("undefined"!==typeof a){if(this._visible!==a){this._rendered&&(this.getEl().style.display=a?"":"none");this._visible=a;if(b=this.parent())b._lastRect=null;this.fire(a?"show":"hide")}return this}return this._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},
blur:function(){this.getEl().blur();return this},aria:function(a,b){var c=this.getEl();if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this._rendered&&("label"==a&&c.setAttribute("aria-labeledby",this._id),c.setAttribute("role"==a?a:"aria-"+a,b));return this},encode:function(a,b){!1!==b&&d.translate&&(a=d.translate(a));return(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},before:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this),!0);return this},
after:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var a=this,b=a.getEl(),c=a.parent(),f;if(a.items)for(var h=a.items().toArray(),k=h.length;k--;)h[k].remove();c&&c.items&&(f=[],c.items().each(function(b){b!==a&&f.push(b)}),c.items().set(f),c._lastRect=null);a._eventsRoot&&a._eventsRoot==a&&e.off(b);delete d.controlIdLookup[a._id];b.parentNode&&b.parentNode.removeChild(b);return a},renderBefore:function(a){a.parentNode.insertBefore(e.createFragment(this.renderHtml()),
a);this.postRender();return this},renderTo:function(a){a=a||this.getContainerElm();a.appendChild(e.createFragment(this.renderHtml()));this.postRender();return this},postRender:function(){var a=this.settings,b,c,f;for(c in a)if(0===c.indexOf("on"))this.on(c.substr(2),a[c]);if(this._eventsRoot){for(b=this.parent();!f&&b;b=b.parent())f=b._eventsRoot;if(f)for(c in f._nativeEvents)this._nativeEvents[c]=!0}this.bindPendingEvents();a.style&&(b=this.getEl())&&(b.setAttribute("style",a.style),b.style.cssText=
a.style);this._visible||e.css(this.getEl(),"display","none");this.settings.border&&(a=this.borderBox(),e.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));d.controlIdLookup[this._id]=this;for(var h in this._aria)this.aria(h,this._aria[h]);this.fire("postrender",{},!1)},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,d,e,f,h,p;f=b;for(d=e=0;f&&f!=c&&f.nodeType;)d+=f.offsetLeft||0,e+=f.offsetTop||0,f=f.offsetParent;
f=b.offsetWidth;b=b.offsetHeight;h=c.clientWidth;p=c.clientHeight;"end"==a?(d-=h-f,e-=p-b):"center"==a&&(d-=h/2-f/2,e-=p/2-b/2);c.scrollLeft=d;c.scrollTop=e;return this},bindPendingEvents:function(){function a(b){var c=h.getParentCtrl(b.target);c&&c.fire(b.type,b)}function b(){var a=u._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),u._lastHoverCtrl=null)}function d(a){var b=h.getParentCtrl(a.target);a=u._lastHoverCtrl;
var c=0,e,f;if(b!==a){u._lastHoverCtrl=b;f=b.parents().toArray().reverse();f.push(b);if(a){b=a.parents().toArray().reverse();b.push(a);for(c=0;c<b.length&&f[c]===b[c];c++);for(e=b.length-1;e>=c;e--)a=b[e],a.fire("mouseleave",{target:a.getEl()})}for(e=c;e<f.length;e++)b=f[e],b.fire("mouseenter",{target:b.getEl()})}}function f(a){a.preventDefault();"mousewheel"==a.type?(a.deltaY=-0.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-0.025*a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail);h.fire("wheel",a)}var h=
this,k,q,p,u,r,y;h._rendered=!0;if(r=h._nativeEvents){p=h.parents().toArray();p.unshift(h);k=0;for(q=p.length;!u&&k<q;k++)u=p[k]._eventsRoot;u||(u=p[p.length-1]||h);h._eventsRoot=u;q=k;for(k=0;k<q;k++)p[k]._eventsRoot=u;for(y in r){if(!r)return!1;if("wheel"===y)if(c)e.on(h.getEl(),"mousewheel",f);else e.on(h.getEl(),"DOMMouseScroll",f);else"mouseenter"===y||"mouseleave"===y?u._hasMouseEnter||(e.on(u.getEl(),"mouseleave",b),e.on(u.getEl(),"mouseover",d),u._hasMouseEnter=1):u[y]||(e.on(u.getEl(),y,
a),u[y]=!0),r[y]=!1}}},reflow:function(){this.repaint();return this}});return d});x("tinymce/ui/Factory",[],function(){var k={},h;return{add:function(f,e){k[f.toLowerCase()]=e},has:function(f){return!!k[f.toLowerCase()]},create:function(f,e){var a,b;if(!h){b=tinymce.ui;for(a in b)k[a.toLowerCase()]=b[a];h=!0}"string"==typeof f?(e=e||{},e.type=f):(e=f,f=e.type);f=f.toLowerCase();a=k[f];if(!a)throw Error("Could not find control by type: "+f);a=new a(e);a.type=f;return a}}});x("tinymce/ui/Container",
"tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/util/Tools tinymce/ui/DomUtils".split(" "),function(k,h,f,e,a,b){var c={};return k.extend({layout:"",innerClass:"container-inner",init:function(a){this._super(a);a=this.settings;this._fixed=a.fixed;this._items=new h;this.addClass("container");this.addClass("container-body","body");a.containerCls&&this.addClass(a.containerCls);this._layout=e.create((a.layout||this.layout)+"layout");this.settings.items&&this.add(this.settings.items);
this._hasBody=!0},items:function(){return this._items},find:function(a){a=c[a]=c[a]||new f(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);return this},focus:function(){this.keyNav?this.keyNav.focusFirst():this._super();return this},replace:function(a,b){var c;c=this.items();for(var e=c.length;e--;)if(c[e]===a){c[e]=b;break}0<=e&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(b){var c=this,
f,h=[];a.isArray(b)||(b=[b]);a.each(b,function(b){b&&(b instanceof k||("string"==typeof b&&(b={type:b}),f=a.extend({},c.settings.defaults,b),b.type=f.type=f.type||b.type||c.settings.defaultType||(f.defaults?f.defaults.type:null),b=e.create(f)),h.push(b))});return h},renderNew:function(){var a=this;a.items().each(function(c,e){var f,h;c.parent(a);c._rendered||(f=a.getEl("body"),h=b.createFragment(c.renderHtml()),f.hasChildNodes()&&e<=f.childNodes.length-1?f.insertBefore(h,f.childNodes[e]):f.appendChild(h),
c.postRender())});a._layout.applyClasses(a);a._lastRect=null;return a},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){var e;a=this.create(a);e=this.items();!c&&b<e.length-1&&(b+=1);0<=b&&b<e.length&&(c=e.slice(0,b).toArray(),b=e.slice(b).toArray(),e.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},
toJSON:function(){var a={};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},preRender:function(){},renderHtml:function(){var a=this._layout;this.preRender();a.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'" role="'+this.settings.role+'"><div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var a;this.items().exec("postRender");
this._super();this._layout.postRender(this);this._rendered=!0;this.settings.style&&b.css(this.getEl(),this.settings.style);this.settings.border&&(a=this.borderBox(),b.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},recalc:function(){var a=this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),
a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;if(this.visible()){k.repaintControls=[];k.repaintControls.map={};this.recalc();for(a=k.repaintControls.length;a--;)k.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();k.repaintControls=[]}return this}})});x("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(k){return function(h,f){var e,a=document,b,c,d,n,g;f=f||{};d=function(a){if(a.button!==b)return c(a);
a.deltaX=a.screenX-n;a.deltaY=a.screenY-g;a.preventDefault();f.drag(a)};c=function(b){k.off(a,"mousemove",d);k.off(a,"mouseup",c);e.parentNode.removeChild(e);f.stop&&f.stop(b)};this.destroy=function(){k.off(a.getElementById(f.handle||h))};k.on(a.getElementById(f.handle||h),"mousedown",function(l){var v,s;s=document;var t,q,p,u,r,y;y=Math.max;v=s.documentElement;t=s.body;q=y(v.scrollWidth,t.scrollWidth);p=y(v.clientWidth,t.clientWidth);u=y(v.offsetWidth,t.offsetWidth);s=y(v.scrollHeight,t.scrollHeight);
r=y(v.clientHeight,t.clientHeight);y=y(v.offsetHeight,t.offsetHeight);v=q<u?p:q;s=s<y?r:s;l.preventDefault();b=l.button;r=a.getElementById(f.handle||h);n=l.screenX;g=l.screenY;r=window.getComputedStyle?window.getComputedStyle(r,null).getPropertyValue("cursor"):r.runtimeStyle.cursor;e=a.createElement("div");k.css(e,{position:"absolute",top:0,left:0,width:v,height:s,zIndex:2147483647,opacity:1E-4,background:"red",cursor:r});a.body.appendChild(e);k.on(a,"mousemove",d);k.on(a,"mouseup",c);f.start(l)})}});
x("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(k,h){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function f(){function c(c,f,g,h,q,p){var u,r,y;if(u=a.getEl("scroll"+c))r=f.toLowerCase(),y=g.toLowerCase(),a.getEl("absend")&&k.css(a.getEl("absend"),r,a.layoutRect()[h]-1),q?(k.css(u,"display","block"),h=a.getEl("body"),c=a.getEl("scroll"+c+"t"),q=h["client"+g]-2*b,q-=d&&e?u["client"+p]:0,g=h["scroll"+g],g=q/g,p={},p[r]=h["offset"+
f]+b,p[y]=q,k.css(u,p),p={},p[r]=h["scroll"+f]*g,p[y]=q*g,k.css(c,p)):k.css(u,"display","none")}var d,e,f;f=a.getEl("body");d=f.scrollWidth>f.clientWidth;e=f.scrollHeight>f.clientHeight;c("h","Left","Width","contentW",d,"Height");c("v","Top","Height","contentH",e,"Width")}function e(){function c(c,e,f,l,v){var s,t=a._id+"-scroll"+c,q=a.classPrefix;a.getEl().appendChild(k.createFragment('<div id="'+t+'" class="'+q+"scrollbar "+q+"scrollbar-"+c+'"><div id="'+t+'t" class="'+q+'scrollbar-thumb"></div></div>'));
a.draghelper=new h(t+"t",{start:function(){s=a.getEl("body")["scroll"+e];k.addClass(k.get(t),q+"active")},drag:function(h){var k,q,t;q=a.layoutRect();k=q.contentW>q.innerW;q=q.contentH>q.innerH;t=a.getEl("body")["client"+f]-2*b;t-=k&&q?a.getEl("scroll"+c)["client"+v]:0;k=t/a.getEl("body")["scroll"+f];a.getEl("body")["scroll"+e]=s+h["delta"+l]/k},stop:function(){k.removeClass(k.get(t),q+"active")}})}a.addClass("scroll");c("v","Top","Height","Y","Width");c("h","Left","Width","X","Height")}var a=this,
b=2;a.settings.autoScroll&&(a._hasScroll||(a._hasScroll=!0,e(),a.on("wheel",function(b){var d=a.getEl("body");d.scrollLeft+=10*(b.deltaX||0);d.scrollTop+=10*b.deltaY;f()}),k.on(a.getEl("body"),"scroll",f)),f())}}});x("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(k,h){return k.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[h],renderHtml:function(){var f=this._layout,e=this.settings.html;this.preRender();f.preRender(this);"undefined"==typeof e?e='<div id="'+
this._id+'-body" class="'+this.classes("body")+'">'+f.renderHtml(this)+"</div>":("function"==typeof e&&(e=e.call(this)),this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1">'+(this._preBodyHtml||"")+e+"</div>"}})});x("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(k){function h(f,e,a){var b,c,d,h;b=k.getViewPort();c=k.getPos(e);d=c.x;c=c.y;f._fixed&&(d-=b.x,c-=b.y);b=f.getEl();f=b.offsetWidth;b=b.offsetHeight;h=e.offsetWidth;e=e.offsetHeight;
a=(a||"").split("");"b"===a[0]&&(c+=e);"r"===a[1]&&(d+=h);"c"===a[0]&&(c+=Math.round(e/2));"c"===a[1]&&(d+=Math.round(h/2));"b"===a[3]&&(c-=b);"r"===a[4]&&(d-=f);"c"===a[3]&&(c-=Math.round(b/2));"c"===a[4]&&(d-=Math.round(f/2));return{x:d,y:c,w:f,h:b}}return{testMoveRel:function(f,e){for(var a=k.getViewPort(),b=0;b<e.length;b++){var c=h(this,f,e[b]);if(this._fixed){if(0<c.x&&c.x+c.w<a.w&&0<c.y&&c.y+c.h<a.h)return e[b]}else if(c.x>a.x&&c.x+c.w<a.w+a.x&&c.y>a.y&&c.y+c.h<a.h+a.y)return e[b]}return e[0]},
moveRel:function(f,e){"string"!=typeof e&&(e=this.testMoveRel(f,e));var a=h(this,f,e);return this.moveTo(a.x,a.y)},moveBy:function(f,e){var a=this.layoutRect();this.moveTo(a.x+f,a.y+e);return this},moveTo:function(f,e){function a(a,b,c){return 0>a?0:a+c>b?(a=b-c,0>a?0:a):a}if(this.settings.constrainToViewport){var b=k.getViewPort(window),c=this.layoutRect();f=a(f,b.w+b.x,c.w);e=a(e,b.h+b.y,c.h)}this._rendered?this.layoutRect({x:f,y:e}).repaint():(this.settings.x=f,this.settings.y=e);this.fire("move",
{x:f,y:e});return this}}});x("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(k){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(h,f){if(1>=h||1>=f){var e=k.getWindowSize();h=1>=h?h*e.w:h;f=1>=f?f*e.h:f}this._layoutRect.autoResize=!1;return this.layoutRect({minW:h,minH:f,w:h,h:f}).reflow()},resizeBy:function(h,f){var e=this.layoutRect();return this.resizeTo(e.w+h,e.h+f)}}});x("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable",
"tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(k,h,f,e){function a(a){var b;for(b=d.length;b--;)d[b]===a&&d.splice(b,1)}var b,c,d=[],n=[],g,l=k.extend({Mixins:[h,f],init:function(a){function f(){var a,b=l.zIndex||65535,c;if(n.length)for(a=0;a<n.length;a++)n[a].modal&&(b++,c=n[a]),n[a].getEl().style.zIndex=b,n[a].zIndex=b,b++;a=document.getElementById(k.classPrefix+"modal-block");c?e.css(a,"z-index",c.zIndex-1):a&&(a.parentNode.removeChild(a),g=!1);l.currentZIndex=b}function h(a){function b(c,
e){for(var f,g=0;g<d.length;g++)if(d[g]!=a)for(f=d[g].parent();f&&(f=f.parent());)f==a&&d[g].fixed(c).moveBy(0,e).repaint()}var c=e.getViewPort().y;a.settings.autofix&&(a._fixed?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}var k=this;k._super(a);k._eventsRoot=k;k.addClass("floatpanel");a.autohide&&(b||(b=function(a){var b,c=k.getParentCtrl(a.target);
for(b=d.length;b--;){var e=d[b];if(e.settings.autohide){if(c){var f;a:{f=c;for(var g=e;f;){if(f==g){f=!0;break a}f=f.parent()}f=void 0}if(f||e.parent()===c)continue}a=e.fire("autohide",{target:a.target});a.isDefaultPrevented()||e.hide()}}},e.on(document,"click",b)),d.push(k));a.autofix&&(c||(c=function(){var a;for(a=d.length;a--;)h(d[a])},e.on(window,"scroll",c)),k.on("move",function(){h(this)}));k.on("postrender show",function(a){if(a.control==k){var b,c=k.classPrefix;k.modal&&!g&&(b=e.createFragment('<div id="'+
c+'modal-block" class="'+c+"reset "+c+'fade"></div>'),b=b.firstChild,k.getContainerElm().appendChild(b),setTimeout(function(){e.addClass(b,c+"in");e.addClass(k.getEl(),c+"in")},0),g=!0);n.push(k);f()}});k.on("close hide",function(a){if(a.control==k){for(a=n.length;a--;)n[a]===k&&n.splice(a,1);f()}});k.on("show",function(){k.parents().each(function(a){if(a._fixed)return k.fixed(!0),!1})});a.popover&&(k._preBodyHtml='<div class="'+k.classPrefix+'arrow"></div>',k.addClass("popover").addClass("bottom").addClass("start"))},
fixed:function(a){if(this._fixed!=a){if(this._rendered){var b=e.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.toggleClass("fixed",a);this._fixed=a}return this},show:function(){var a,b=this._super();for(a=d.length;a--&&d[a]!==this;);-1===a&&d.push(this);return b},hide:function(){a(this);return this._super()},hideAll:function(){l.hideAll()},close:function(){this.fire("close");return this.remove()},remove:function(){a(this);this._super()}});l.hideAll=function(){for(var a=d.length;a--;){var b=
d[a];b.settings.autohide&&(b.fire("cancel",{},!1),b.hide(),d.splice(a,1))}};return l});x("tinymce/ui/KeyboardNavigation",["tinymce/ui/DomUtils"],function(k){return function(h){function f(){if(!s)if(s=[],g.find)g.find("*").each(function(a){a.canFocus&&s.push(a.getEl())});else for(var a=g.getEl().getElementsByTagName("*"),b=0;b<a.length;b++)a[b].id&&a[b]&&s.push(a[b])}function e(a){return(a=a||document.getElementById(t))&&a.getAttribute("role")}function a(a){for(var b=a||document.getElementById(t);b=
b.parentNode;)if(a=e(b))return a}function b(a){var b=document.getElementById(t);if(b)return b.getAttribute("aria-"+a)}function c(){var a=document.getElementById(t);if(!a||"TEXTAREA"!=a.nodeName&&"text"!=a.type){if(h.onAction)h.onAction(t);else k.fire(document.getElementById(t),"click",{keyboard:!0});return!0}}function d(){var a;h.onCancel?((a=document.getElementById(t))&&a.blur(),h.onCancel()):h.root.fire("cancel")}function n(a){var b=-1,d,e=[];f();for(d=0;d<s.length;d++){var n;a:{n=s[d];for(var k=
g?g.getEl():document.body;n&&n!=k;){if("none"==n.style.display){n=!1;break a}n=n.parentNode}n=!0}n&&e.push(s[d])}for(d=e.length;d--;)if(e[d].id===t){b=d;break}b+=a;0>b?b=e.length-1:b>=e.length&&(b=0);a=e[b];a.focus();t=a.id;h.actOnFocus&&c()}var g=h.root,l=!1!==h.enableUpDown,v=!1!==h.enableLeftRight,s=h.items,t;g.on("keydown",function(f){var g;switch(f.keyCode){case 37:v&&(h.leftAction?h.leftAction():n(-1),g=!0);break;case 39:v&&("menuitem"==e()&&"menu"==a()?b("haspopup")&&c():n(1),g=!0);break;case 38:l&&
(n(-1),g=!0);break;case 40:l&&("menuitem"==e()&&"menubar"==a()?c():"button"==e()&&b("haspopup")?c():n(1),g=!0);break;case 9:g=!0;f.shiftKey?n(-1):n(1);break;case 27:g=!0;d();break;case 14:case 13:case 32:g=c()}g&&(f.stopPropagation(),f.preventDefault())});g.on("focusin",function(a){f();t=a.target.id});return{moveFocus:n,focusFirst:function(){var a,b;b=e(h.root.getEl());f();for(a=s.length;a--;)if("toolbar"==b&&s[a].id===t){s[a].focus();return}s[0].focus()},cancel:d}}});x("tinymce/ui/Window",["tinymce/ui/FloatPanel",
"tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/KeyboardNavigation","tinymce/ui/DragHelper"],function(k,h,f,e,a){return k.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var c=this;c._super(a);c.addClass("window");c._fixed=!0;a.buttons&&(c.statusbar=new h({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:"end",defaults:{type:"button"},
items:a.buttons}),c.statusbar.addClass("foot"),c.statusbar.parent(c));c.on("click",function(a){-1!=a.target.className.indexOf(c.classPrefix+"close")&&c.close()});c.aria("label",a.title);c._fullscreen=!1},recalc:function(){var a=this.statusbar,c,d,e;this._fullscreen&&(this.layoutRect(f.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();c=this.layoutRect();this.settings.title&&!this._fullscreen&&(d=c.headerW,d>c.w&&(this.layoutRect({w:d}),e=!0));a&&(a.layoutRect({w:this.layoutRect().innerW}).recalc(),
d=a.layoutRect().minW+c.deltaW,d>c.w&&(this.layoutRect({w:d}),e=!0));e&&this.recalc()},initLayoutRect:function(){var a=this._super(),c=0,d;this.settings.title&&!this._fullscreen&&(d=this.getEl("head"),a.headerW=d.offsetWidth,a.headerH=d.offsetHeight,c+=a.headerH);this.statusbar&&(c+=this.statusbar.layoutRect().h);a.deltaH+=c;a.minH+=c;a.h+=c;c=f.getWindowSize();a.x=Math.max(0,c.w/2-a.w/2);a.y=Math.max(0,c.h/2-a.h/2);return a},renderHtml:function(){var a=this._layout,c=this._id,d=this.classPrefix,
e=this.settings,f="",h="",k=e.html;this.preRender();a.preRender(this);e.title&&(f='<div id="'+c+'-head" class="'+d+'window-head"><div class="'+d+'title">'+this.encode(e.title)+'</div><button type="button" class="'+d+'close" aria-hidden="true">&times;</button><div id="'+c+'-dragh" class="'+d+'dragh"></div></div>');e.url&&(k='<iframe src="'+e.url+'" tabindex="-1"></iframe>');"undefined"==typeof k&&(k=a.renderHtml(this));this.statusbar&&(h=this.statusbar.renderHtml());return'<div id="'+c+'" class="'+
this.classes()+'" hideFocus="1" tabIndex="-1">'+f+'<div id="'+c+'-body" class="'+this.classes("body")+'">'+k+"</div>"+h+"</div>"},fullscreen:function(a){var c=this,d=document.documentElement,e,g=c.classPrefix,h;a!=c._fullscreen&&(f.on(window,"resize",function(){var a;if(c._fullscreen)if(e)c._timer||(c._timer=setTimeout(function(){var a=f.getWindowSize();c.moveTo(0,0).resizeTo(a.w,a.h);c._timer=0},50));else{a=(new Date).getTime();var b=f.getWindowSize();c.moveTo(0,0).resizeTo(b.w,b.h);50<(new Date).getTime()-
a&&(e=!0)}}),h=c.layoutRect(),(c._fullscreen=a)?(c._initial={x:h.x,y:h.y,w:h.w,h:h.h},c._borderBox=c.parseBox("0"),c.getEl("head").style.display="none",h.deltaH-=h.headerH+2,f.addClass(d,g+"fullscreen"),f.addClass(document.body,g+"fullscreen"),c.addClass("fullscreen"),a=f.getWindowSize(),c.moveTo(0,0).resizeTo(a.w,a.h)):(c._borderBox=c.parseBox(c.settings.border),c.getEl("head").style.display="",h.deltaH+=h.headerH,f.removeClass(d,g+"fullscreen"),f.removeClass(document.body,g+"fullscreen"),c.removeClass("fullscreen"),
c.moveTo(c._initial.x,c._initial.y).resizeTo(c._initial.w,c._initial.h)));return c.reflow()},postRender:function(){var b,c,d=this,f=[],g,h;setTimeout(function(){d.addClass("in")},0);d.keyboardNavigation=new e({root:d,enableLeftRight:!1,enableUpDown:!1,items:f,onCancel:function(){d.close()}});d.find("*").each(function(a){a.canFocus&&(h=h||a.settings.autofocus,g=g||a,"filepicker"==a.type?(f.push(a.getEl("inp")),a.getEl("open")&&f.push(a.getEl("open").firstChild)):f.push(a.getEl()))});d.statusbar&&d.statusbar.find("*").each(function(a){a.canFocus&&
(h=h||a.settings.autofocus,g=g||a,f.push(a.getEl()))});d._super();d.statusbar&&d.statusbar.postRender();!h&&g&&g.focus();this.dragHelper=new a(d._id+"-dragh",{start:function(){b=d.layoutRect().x;c=d.layoutRect().y},drag:function(a){d.moveTo(b+a.deltaX,c+a.deltaY)}});d.on("submit",function(a){a.isDefaultPrevented()||d.close()})},submit:function(){var a=this.getParentCtrl(document.activeElement);a&&a.blur();return this.fire("submit",{data:this.toJSON()})},remove:function(){this._super();this.dragHelper.destroy();
this.statusbar&&this.statusbar.remove()}})});x("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(k){var h=k.extend({init:function(f){f={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(f)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){var e,a=f.callback||function(){};switch(f.buttons){case h.OK_CANCEL:e=
[{type:"button",text:"Ok",subtype:"primary",onClick:function(b){b.control.parents()[1].close();a(!0)}},{type:"button",text:"Cancel",onClick:function(b){b.control.parents()[1].close();a(!1)}}];break;case h.YES_NO:e=[{type:"button",text:"Ok",subtype:"primary",onClick:function(b){b.control.parents()[1].close();a(!0)}}];break;case h.YES_NO_CANCEL:e=[{type:"button",text:"Ok",subtype:"primary",onClick:function(a){a.control.parents()[1].close()}}];break;default:e=[{type:"button",text:"Ok",subtype:"primary",
onClick:function(a){a.control.parents()[1].close()}}]}return(new k({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:e,title:f.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onClose:f.onClose})).renderTo(document.body).reflow()},alert:function(f,e){"string"==typeof f&&(f={text:f});f.callback=e;return h.msgBox(f)},confirm:function(f,e){"string"==typeof f&&(f={text:f});f.callback=e;f.buttons=h.OK_CANCEL;return h.msgBox(f)}}});
return h});x("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(k,h){return function(f){var e=[];this.windows=e;this.open=function(a,b){var c;a.url=a.url||a.file;a.url&&(a.width=parseInt(a.width||320,10),a.height=parseInt(a.height||240,10));a.body&&(a.items={defaults:a.defaults,type:a.bodyType||"form",items:a.body});a.url||a.buttons||(a.buttons=[{text:"Ok",subtype:"primary",onclick:function(){c.find("form")[0].submit();c.close()}},{text:"Cancel",onclick:function(){c.close()}}]);
c=new k(a);e.push(c);c.on("close",function(){for(var a=e.length;a--;)e[a]===c&&e.splice(a,1);f.focus()});if(a.data)c.on("postRender",function(){this.find("*").each(function(b){var c=b.name();c in a.data&&b.value(a.data[c])})});c.params=b||{};f.nodeChanged();return c.renderTo(document.body).reflow()};this.alert=function(a,b,c){h.alert(a,function(){b.call(c||this)})};this.confirm=function(a,b,c){h.confirm(a,function(a){b.call(c||this,a)})};this.close=function(){e.length&&e[e.length-1].close()};this.getParams=
function(){return e.length?e[e.length-1].params:null};this.setParams=function(a){e.length&&(e[e.length-1].params=a)}}});x("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools".split(" "),function(k,h,f,e,a,b){return function(c){function d(a,b){try{c.getDoc().execCommand(a,!1,b)}catch(d){}}function n(){var a=c.getDoc().documentMode;return a?a:6}function g(){function a(d){var e,f,g,h,n;e=A.getRng();var k=[e.startContainer,
e.startOffset,e.endContainer,e.endOffset];e.collapsed||(d=!0);h=e[(d?"start":"end")+"Container"];n=e[(d?"start":"end")+"Offset"];if(3==h.nodeType){f=w.getParent(e.startContainer,w.isBlock);d&&(f=w.getNext(f,w.isBlock));var l;if(l=f){a:{if(3==h.nodeType){if(d&&n==h.length){h=!0;break a}if(!d&&0===n){h=!0;break a}}h=void 0}l=h||!e.collapsed}l&&(g=w.create("em",{id:"__mceDel"}),D(b.grep(f.childNodes),function(a){g.appendChild(a)}),f.appendChild(g))}e=w.createRng();e.setStart(k[0],k[1]);e.setEnd(k[2],
k[3]);A.setRng(e);c.getDoc().execCommand(d?"ForwardDelete":"Delete",!1,null);if(g){for(d=A.getBookmark();e=w.get("__mceDel");)w.remove(e,!0);A.moveToBookmark(d)}}c.on("keydown",function(b){var c;c=b.keyCode==M;b.isDefaultPrevented()||(!c&&b.keyCode!=N||k.modifierPressed(b))||(b.preventDefault(),a(c))});c.addCommand("Delete",function(){a()})}function l(){c.on("keydown",function(a){!a.isDefaultPrevented()&&(65==a.keyCode&&k.metaKeyPressed(a))&&(a.preventDefault(),c.execCommand("SelectAll"))})}function v(){c.settings.content_editable||
(w.bind(c.getDoc(),"focusin",function(){A.setRng(A.getRng())}),w.bind(c.getDoc(),"mousedown",function(a){a.target==c.getDoc().documentElement&&(c.getWin().focus(),A.setRng(A.getRng()))}))}function s(){c.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===N&&A.isCollapsed()&&0===A.getRng(!0).startOffset){var b=A.getNode().previousSibling;b&&(b.nodeName&&"hr"===b.nodeName.toLowerCase())&&(w.remove(b),a.preventDefault())}})}function t(){if(!window.Range.prototype.getClientRects)c.on("mousedown",
function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=c.getBody();b.blur();setTimeout(function(){b.focus()},0)}})}function q(){c.on("click",function(a){a=a.target;/^(IMG|HR)$/.test(a.nodeName)&&A.getSel().setBaseAndExtent(a,0,a,1);"A"==a.nodeName&&w.hasClass(a,"mceItemAnchor")&&A.select(a);c.nodeChanged()})}function p(){function a(){var b=w.getAttribs(A.getStart().cloneNode(!1));return function(){var a=A.getStart();a!==c.getBody()&&(w.setAttrib(a,"style",null),D(b,function(b){a.setAttributeNode(b.cloneNode(!0))}))}}
function b(){return!A.isCollapsed()&&w.getParent(A.getStart(),w.isBlock)!=w.getParent(A.getEnd(),w.isBlock)}c.on("keypress",function(d){var e;if(!d.isDefaultPrevented()&&(8==d.keyCode||46==d.keyCode)&&b())return e=a(),c.getDoc().execCommand("delete",!1,null),e(),d.preventDefault(),!1});w.bind(c.getDoc(),"cut",function(c){var d;!c.isDefaultPrevented()&&b()&&(d=a(),setTimeout(function(){d()},0))})}function u(){var a,b;c.on("selectionchange",function(){b&&(clearTimeout(b),b=0);b=window.setTimeout(function(){var b=
A.getRng();a&&h.compareRanges(b,a)||(c.nodeChanged(),a=b)},50)})}function r(){7<n()||(d("RespectVisibilityInDesign",!0),c.contentStyles.push(".mceHideBrInPre pre br {display: none}"),w.addClass(c.getBody(),"mceHideBrInPre"),J.addNodeFilter("pre",function(a){for(var b=a.length,c,d,e,g;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)e=c[d],(g=e.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":e.parent.insert(new f("#text",3),e,!0).value="\n"}),O.addNodeFilter("pre",function(a){for(var b=
a.length,c,d,e;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)e=c[d],(e=e.prev)&&3==e.type&&(e.value=e.value.replace(/\r?\n$/,""))}))}function y(){w.bind(c.getBody(),"mouseup",function(){var a,b=A.getNode();if("IMG"==b.nodeName){if(a=w.getStyle(b,"width"))w.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),w.setStyle(b,"width","");if(a=w.getStyle(b,"height"))w.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),w.setStyle(b,"height","")}})}function m(){c.on("keydown",function(a){var b,d,e,f;b=a.keyCode==M;
a.isDefaultPrevented()||(!b&&a.keyCode!=N||k.modifierPressed(a))||(d=A.getRng(),e=d.startContainer,f=d.startOffset,d=d.collapsed,3==e.nodeType&&(0<e.nodeValue.length&&(0===f&&!d||d&&f===(b?0:1)))&&(d=e.previousSibling,d&&"IMG"==d.nodeName||(f=c.schema.getNonEmptyElements(),a.preventDefault(),a=w.create("br",{id:"__tmp"}),e.parentNode.insertBefore(a,e),c.getDoc().execCommand(b?"ForwardDelete":"Delete",!1,null),e=A.getRng().startContainer,(d=e.previousSibling)&&(1==d.nodeType&&!w.isBlock(d)&&w.isEmpty(d)&&
!f[d.nodeName.toLowerCase()])&&w.remove(d),w.remove("__tmp"))))})}function x(){function a(){c._refreshContentEditable();d("StyleWithCSS",!1);d("enableInlineTableEditing",!1);K.object_resizing||d("enableObjectResizing",!1)}if(!K.readonly)c.on("BeforeExecCommand MouseDown",a)}function I(){function a(){D(w.select("a"),function(a){var b=a.parentNode,c=w.getRoot();if(b.lastChild===a){for(;b&&!w.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}w.add(b,"br",{"data-mce-bogus":1})}})}
c.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function C(){if(K.forced_root_block)c.on("init",function(){d("DefaultParagraphSeparator",K.forced_root_block)})}function B(){c.on("Undo Redo SetContent",function(a){a.initial||c.execCommand("mceRepaint")})}function z(){c.on("keydown",function(a){var b;a.isDefaultPrevented()||a.keyCode!=N||(b=c.getDoc().selection.createRange())&&b.item&&(a.preventDefault(),c.undoManager.beforeChange(),w.remove(b.item(0)),
c.undoManager.add())})}function E(){var a;10<=n()&&(a="",D("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"}),c.contentStyles.push(a+"{padding-right: 1px !important}"))}function H(){9>n()&&(J.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",d.value)}),O.addNodeFilter("noscript",function(a){for(var b=a.length,c,d,g;b--;)if(c=a[b],d=a[b].firstChild)d.value=e.decode(d.value);else if(g=c.attributes.map["data-mce-innertext"])c.attr("data-mce-innertext",
null),d=new f("#text",3),d.value=g,d.raw=!0,c.append(d)}))}function L(){function a(b,c){var d=e.createTextRange();try{d.moveToPoint(b,c)}catch(f){d=null}return d}function b(d){if(d.button){if(d=a(d.x,d.y))0<d.compareEndPoints("StartToStart",g)?d.setEndPoint("StartToStart",g):d.setEndPoint("EndToEnd",g),d.select()}else c()}function c(){var a=d.selection.createRange();g&&(!a.item&&0===a.compareEndPoints("StartToEnd",a))&&g.select();w.unbind(d,"mouseup",c);w.unbind(d,"mousemove",b);g=f=0}var d=w.doc,
e=d.body,f,g,h;d.documentElement.unselectable=!0;w.bind(d,"mousedown contextmenu",function(e){"HTML"===e.target.nodeName&&(f&&c(),h=d.documentElement,!(h.scrollHeight>h.clientHeight)&&(f=1,g=a(e.x,e.y)))&&(w.bind(d,"mouseup",c),w.bind(d,"mousemove",b),w.win.focus(),g.select())})}var D=b.each,N=k.BACKSPACE,M=k.DELETE,w=c.dom,A=c.selection,K=c.settings,J=c.parser,O=c.serializer,P=a.gecko,Q=a.ie,S=a.webkit;(function(){c.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===N&&A.isCollapsed()&&
0===A.getRng(!0).startOffset){var b=A.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})})();(function(){c.on("keydown",function(a){var b,d,e,f;if(!a.isDefaultPrevented()&&a.keyCode==k.BACKSPACE&&(a=A.getRng(),b=a.startContainer,d=a.startOffset,e=w.getRoot(),f=b,a.collapsed&&0===d)){for(;f&&f.parentNode&&f.parentNode.firstChild==f&&f.parentNode!=e;)f=f.parentNode;"BLOCKQUOTE"===f.tagName&&(c.formatter.toggle("blockquote",null,f),a=w.createRng(),
a.setStart(b,0),a.setEnd(b,0),A.setRng(a))}})})();(function(){function a(b){var c=w.create("body");b=b.cloneContents();c.appendChild(b);return A.serializer.serialize(c,{format:"html"})}c.on("keydown",function(b){var d=b.keyCode;if(!(b.isDefaultPrevented()||d!=M&&d!=N||(d=c.selection.isCollapsed(),d&&!w.isEmpty(c.getBody()))||Q&&!d)){if(d=!d){var d=c.selection.getRng(),d=a(d),e=w.createRng();e.selectNode(c.getBody());e=a(e);d=d!==e}d||(b.preventDefault(),c.setContent(""),c.selection.setCursorLocation(c.getBody(),
0),c.nodeChanged())}})})();(function(){c.on("keyup focusin",function(a){65==a.keyCode&&k.metaKeyPressed(a)||A.normalize()})})();S&&(m(),g(),v(),q(),C(),a.iOS?u():l());Q&&(s(),document.body.setAttribute("role","application"),r(),y(),z(),E(),H(),L());P&&(s(),t(),p(),x(),I(),B(),c.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"))}});x("tinymce/util/Observable",["tinymce/util/Tools"],function(k){function h(){return!1}function f(){return!0}var e=k.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag",
" ");return{fire:function(a,b,c){var d,e,g,k;a=a.toLowerCase();b=b||{};b.type=a;b.target||(b.target=this);b.preventDefault||(b.preventDefault=function(){b.isDefaultPrevented=f},b.stopPropagation=function(){b.isPropagationStopped=f},b.stopImmediatePropagation=function(){b.isImmediatePropagationStopped=f},b.isDefaultPrevented=h,b.isPropagationStopped=h,b.isImmediatePropagationStopped=h);if(this.__bindings&&(d=this.__bindings[a]))for(e=0,g=d.length;e<g;e++){d[e]=k=d[e];if(b.isImmediatePropagationStopped())break;
if(!1===k.call(this,b))return b.preventDefault(),b}if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},on:function(a,b){var c,d,f,g;!1===b&&(b=function(){return!1});if(b)for(f=a.toLowerCase().split(" "),g=f.length;g--;)a=f[g],(c=this.__bindings)||(c=this.__bindings={}),d=c[a],d||(d=c[a]=[],this.bindNative&&e[a]&&this.bindNative(a)),d.push(b);return this},off:function(a,b){var c,d=this.__bindings,f,g,h,k;if(d)if(a)for(h=a.toLowerCase().split(" "),
c=h.length;c--;){a=h[c];f=d[a];if(!a){for(g in d)d[a].length=0;break}if(f){if(b)for(k=f.length;k--;)f[k]===b&&f.splice(k,1);else f.length=0;!f.length&&(this.unbindNative&&e[a])&&(this.unbindNative(a),delete d[a])}}else{if(this.unbindNative)for(a in d)this.unbindNative(a);this.__bindings=[]}return this}}});x("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(k,h){var f=k.each,e=k.explode,a={f9:120,f10:121,f11:122};return function(b){var c={};b.on("keyup keypress keydown",function(a){(a.altKey||
a.ctrlKey||a.metaKey)&&f(c,function(b){if(b.ctrl==(h.mac?a.ctrlKey||a.metaKey:a.ctrlKey)&&(b.alt==a.altKey&&b.shift==a.shiftKey)&&(a.keyCode==b.keyCode||a.charCode&&a.charCode==b.charCode))return a.preventDefault(),"keydown"==a.type&&b.func.call(b.scope),!0})});this.add=function(d,h,g,l){var v;v=g;"string"===typeof g?g=function(){b.execCommand(v,!1,null)}:k.isArray(v)&&(g=function(){b.execCommand(v[0],v[1],v[2])});f(e(d.toLowerCase()),function(d){var k={func:g,scope:l||b,desc:b.translate(h),alt:!1,
ctrl:!1,shift:!1};f(e(d,"+"),function(b){switch(b){case "alt":case "ctrl":case "shift":k[b]=!0;break;default:k.charCode=b.charCodeAt(0),k.keyCode=a[b]||b.toUpperCase().charCodeAt(0)}});c[(k.ctrl?"ctrl":"")+","+(k.alt?"alt":"")+","+(k.shift?"shift":"")+","+k.keyCode]=k});return!0}}});x("tinymce/Editor","tinymce/dom/DOMUtils tinymce/AddOnManager tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/util/Observable tinymce/Shortcuts".split(" "),
function(k,h,f,e,a,b,c,d,n,g,l,v,s,t,q,p,u,r,y,m,x,I){function C(a,b){return"selectionchange"==b||"drop"==b||!a.inline&&/^mouse|click|contextmenu/.test(b)?a.getDoc():a.getBody()}function B(a,b,c){var d,e;d=this.documentBaseUrl=c.documentBaseURL;e=c.baseURI;this.settings=b=L({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:d,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,
doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",
indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this,ie7_compat:!0},b);h.settings=b;h.baseURL=c.baseURL;this.id=b.id=a;this.isNotDirty=!0;this.plugins={};this.documentBaseURI=new v(b.document_base_url||d,{base_uri:e});this.baseURI=e;this.contentCSS=[];this.contentStyles=[];this.shortcuts=
new I(this);this.execCommands={};this.queryStateCommands={};this.queryValueCommands={};this.loadedCSS={};this.suffix=c.suffix;this.editorManager=c;this.inline=b.inline;this.execCallback("setup",this)}var z=k.DOM,E=h.ThemeManager,H=h.PluginManager,L=m.extend,D=m.each,N=m.explode,M=m.inArray,w=m.trim,A=m.resolve,K=t.Event,J=y.gecko,O=y.ie,V=y.opera;B.prototype={render:function(){function a(){var d=s.ScriptLoader;c.language&&"en"!=c.language&&(c.language_url=b.editorManager.baseURL+"/langs/"+c.language+
".js");c.language_url&&d.add(c.language_url);c.theme&&("function"!=typeof c.theme&&"-"!=c.theme.charAt(0)&&!E.urls[c.theme])&&E.load(c.theme,"themes/"+c.theme+"/theme"+e+".js");m.isArray(c.plugins)&&(c.plugins=c.plugins.join(" "));D(c.external_plugins,function(a,b){H.load(b,a);c.plugins+=" "+b});D(c.plugins.split(/[ ,]/),function(a){(a=w(a))&&!H.urls[a]&&("-"==a.charAt(0)?(a=a.substr(1,a.length),a=H.dependencies(a),D(a,function(a){a=H.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+e+".js"},
a);H.load(a.resource,a)})):H.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+e+".js"}))});d.loadQueue(function(){b.removed||b.init()})}var b=this,c=b.settings,d=b.id,e=b.suffix;if(K.domLoaded){if(b.editorManager.settings=c,b.getElement()&&y.contentEditable){c.inline?b.inline=!0:(b.orgVisibility=b.getElement().style.visibility,b.getElement().style.visibility="hidden");var f=b.getElement().form||z.getParent(d,"form");f&&(b.formElement=f,c.hidden_input&&!/TEXTAREA|INPUT/i.test(b.getElement().nodeName)&&
z.insertAfter(z.create("input",{type:"hidden",name:d}),d),b.formEventDelegate=function(a){b.fire(a.type,a)},z.bind(f,"submit reset",b.formEventDelegate),b.on("reset",function(){b.setContent(b.startContent,{format:"raw"})}),!c.submit_patch||(f.submit.nodeType||f.submit.length||f._mceOldSubmit)||(f._mceOldSubmit=f.submit,f.submit=function(){b.editorManager.triggerSave();b.isNotDirty=!0;return f._mceOldSubmit(f)}));b.windowManager=new q(b);if("xml"==c.encoding)b.on("GetContent",function(a){a.save&&(a.content=
z.encode(a.content))});if(c.add_form_submit_trigger)b.on("submit",function(){b.initialized&&(b.save(),b.isNotDirty=!0)});c.add_unload_trigger&&(b._beforeUnload=function(){!b.initialized||(b.destroyed||b.isHidden())||b.save({format:"raw",no_events:!0})},b.editorManager.on("BeforeUnload",b._beforeUnload));a()}}else z.bind(window,"ready",function(){b.render()})},init:function(){function a(c){var d=H.get(c),e;e=H.urls[c]||b.documentBaseUrl.replace(/\/$/,"");c=w(c);d&&-1===M(m,c)&&(D(H.dependencies(c),
function(b){a(b)}),d=new d(b,e),b.plugins[c]=d,d.init&&(d.init(b,e),m.push(c)))}var b=this,c=b.settings,d=b.getElement(),e,f,g,h,k,n,m=[];b.editorManager.add(b);c.aria_label=c.aria_label||z.getAttrib(d,"aria-label",b.getLang("aria.rich_text_area"));c.theme&&("function"!=typeof c.theme?(c.theme=c.theme.replace(/-/,""),h=E.get(c.theme),b.theme=new h(b,E.urls[c.theme]),b.theme.init&&b.theme.init(b,E.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,""))):b.theme=c.theme);D(c.plugins.replace(/\-/g,"").split(/[ ,]/),
a);b.fire("BeforeRenderUI");c.render_ui&&b.theme&&(b.orgDisplay=d.style.display,"function"!=typeof c.theme?(e=c.width||d.style.width||d.offsetWidth,f=c.height||d.style.height||d.offsetHeight,g=c.min_height||100,n=/^[0-9\.]+(|px)$/i,n.test(""+e)&&(e=Math.max(parseInt(e,10)+(h.deltaWidth||0),100)),n.test(""+f)&&(f=Math.max(parseInt(f,10)+(h.deltaHeight||0),g)),h=b.theme.renderUI({targetNode:d,width:e,height:f,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),c.content_editable||(z.setStyles(h.sizeContainer||
h.editorContainer,{wi2dth:e,h2eight:f}),f=(h.iframeHeight||f)+("number"==typeof f?h.deltaHeight||0:""),f<g&&(f=g))):(h=c.theme(b,d),h.editorContainer.nodeType&&(h.editorContainer=h.editorContainer.id=h.editorContainer.id||b.id+"_parent"),h.iframeContainer.nodeType&&(h.iframeContainer=h.iframeContainer.id=h.iframeContainer.id||b.id+"_iframecontainer"),f=h.iframeHeight||d.offsetHeight),b.editorContainer=h.editorContainer);c.content_css&&D(N(c.content_css),function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))});
c.content_style&&b.contentStyles.push(c.content_style);if(c.content_editable)return d=h=null,b.initContentBody();document.domain&&location.hostname!=document.domain&&(b.editorManager.relaxedDomain=document.domain);b.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=b.documentBaseUrl&&(b.iframeHTML+='<base href="'+b.documentBaseURI.getURI()+'" />');!y.caretAfter&&c.ie7_compat&&(b.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');b.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';
for(d=0;d<b.contentCSS.length;d++)e=b.contentCSS[d],b.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+e+'" />',b.loadedCSS[e]=!0;d=c.body_id||"tinymce";-1!=d.indexOf("=")&&(d=b.getParam("body_id","","hash"),d=d[b.id]||d);c=c.body_class||"";-1!=c.indexOf("=")&&(c=b.getParam("body_class","","hash"),c=c[b.id]||"");b.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+c+'" onload="window.parent.tinymce.get(\''+b.id+"').fire('load');\"><br></body></html>";b.editorManager.relaxedDomain&&
(O||V&&11>parseFloat(window.opera.version()))&&(k='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()');z.add(h.iframeContainer,"iframe",{id:b.id+"_ifr",src:k||'javascript:""',frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",
height:f,display:"block"}});b.contentAreaContainer=h.iframeContainer;h.editorContainer&&(z.get(h.editorContainer).style.display=b.orgDisplay);z.get(b.id).style.display="none";z.setAttrib(b.id,"aria-hidden",!0);b.editorManager.relaxedDomain&&k||b.initContentBody();d=h=null},initContentBody:function(){var a=this,h=a.settings,m=z.get(a.id),q=a.getDoc(),s;h.inline||(a.getElement().style.visibility=a.orgVisibility);O&&a.editorManager.relaxedDomain||h.content_editable||(q.open(),q.write(a.iframeHTML),q.close(),
a.editorManager.relaxedDomain&&(q.domain=a.editorManager.relaxedDomain));h.content_editable&&(a.on("remove",function(){var a=this.getBody();z.removeClass(a,"mce-content-body");z.removeClass(a,"mce-edit-focus");z.setAttrib(a,"tabIndex",null);z.setAttrib(a,"contentEditable",null)}),z.addClass(m,"mce-content-body"),m.tabIndex=-1,a.contentDocument=q=h.content_document||document,a.contentWindow=h.content_window||window,a.bodyElement=m,h.content_document=h.content_window=null,h.root_name=m.nodeName.toLowerCase());
m=a.getBody();m.disabled=!0;h.readonly||(m.contentEditable=a.getParam("content_editable_state",!0));m.disabled=!1;a.schema=new p(h);a.dom=new k(q,{keep_values:!0,url_converter:a.convertURL,url_converter_scope:a,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:!0,root_element:h.content_editable?a.id:null,schema:a.schema,onSetAttrib:function(b){a.fire("SetAttrib",b)}});a.parser=new u(h,a.schema);a.parser.addAttributeFilter("src,href,style",function(b,c){for(var d=b.length,
e,f=a.dom,g,h;d--;)e=b[d],g=e.attr(c),h="data-mce-"+c,e.attributes.map[h]||("style"===c?e.attr(h,f.serializeStyle(f.parseStyle(g),e.name)):e.attr(h,a.convertURL(g,c,e.name)))});a.parser.addNodeFilter("script",function(a){for(var b=a.length,c;b--;)c=a[b],c.attr("type","mce-"+(c.attr("type")||"text/javascript"))});a.parser.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});a.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(b){for(var c=
b.length,d,e=a.schema.getNonEmptyElements();c--;)d=b[c],d.isEmpty(e)&&(d.empty().append(new f("br",1)).shortEnded=!0)});a.serializer=new e(h,a);a.selection=new b(a.dom,a.getWin(),a.serializer,a);a.formatter=new c(a);a.undoManager=new d(a);a.forceBlocks=new g(a);a.enterKey=new n(a);a.editorCommands=new l(a);a.fire("PreInit");h.browser_spellcheck||h.gecko_spellcheck||(q.body.spellcheck=!1,z.setAttrib(m,"spellcheck","false"));a.fire("PostRender");a.quirks=r(a);h.directionality&&(m.dir=h.directionality);
h.nowrap&&(m.style.whiteSpace="nowrap");if(h.protect)a.on("BeforeSetContent",function(a){D(h.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});a.on("SetContent",function(){a.addVisual(a.getBody())});if(h.padd_empty_editor)a.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});a.load({initial:!0,format:"html"});a.startContent=a.getContent({format:"raw"});
a.initialized=!0;D(a._pendingNativeEvents,function(b){a.dom.bind(C(a,b),b,function(b){a.fire(b.type,b)})});a.fire("init");a.focus(!0);a.nodeChanged({initial:!0});a.execCallback("init_instance_callback",a);0<a.contentStyles.length&&(s="",D(a.contentStyles,function(a){s+=a+"\r\n"}),a.dom.addStyle(s));D(a.contentCSS,function(b){a.loadedCSS[b]||(a.dom.loadCSS(b),a.loadedCSS[b]=!0)});h.auto_focus&&setTimeout(function(){var b=a.editorManager.get(h.auto_focus);b.selection.select(b.getBody(),1);b.selection.collapse(1);
b.getBody().focus();b.getWin().focus()},100);m=q=m=null},focus:function(a){var b,c=this.selection,d=this.settings.content_editable,e,f=this.getDoc();if(!a){a=c.getRng();a.item&&(e=a.item(0));this._refreshContentEditable();d||(this.getBody().focus(),this.getWin().focus());if(J||d)a=this.getBody(),a.setActive?a.setActive():a.focus(),d&&c.normalize();e&&e.ownerDocument==f&&(a=f.body.createControlRange(),a.addElement(e),a.select())}this.editorManager.activeEditor!=this&&((b=this.editorManager.activeEditor)&&
b.fire("deactivate",{relatedTarget:this}),this.fire("activate",{relatedTarget:b}));this.editorManager.activeEditor=this},execCallback:function(a){var b=this.settings[a],c;if(b)return this.callbackLookup&&(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"===typeof b&&(c=(c=b.replace(/\.\w+$/,""))?A(c):0,b=A(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},translate:function(a){var b=this.settings.language||
"en",c=this.editorManager.i18n;return a?c[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c[b+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n[(this.settings.language||"en")+"."+a]||(b!==P?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;var d;return"hash"===c?(d={},"string"===typeof a?D(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");1<a.length?d[w(a[0])]=w(a[1]):d[w(a[0])]=w(a)}):
d=a,d):a},nodeChanged:function(){var a=this.selection,b,c,d;this.initialized&&!this.settings.disable_nodechange&&(d=this.getBody(),b=a.getStart()||d,b=O&&b.ownerDocument!=this.getDoc()?this.getBody():b,"IMG"==b.nodeName&&a.isCollapsed()&&(b=b.parentNode),c=[],this.dom.getParent(b,function(a){if(a===d)return!0;c.push(a)}),this.fire("NodeChange",{element:b,parents:c}))},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});b.text||b.icon||(b.icon=a);c.buttons=c.buttons||
{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addCommand:function(a,b,c){this.execCommands[a]={func:b,scope:c||this}},addQueryStateHandler:function(a,b,c){this.queryStateCommands[a]={func:b,scope:c||this}},addQueryValueHandler:function(a,b,c){this.queryValueCommands[a]={func:b,scope:c||this}},addShortcut:function(a,b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,
b,c,d){var e=this,f=0,g;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||d&&d.skip_focus||e.focus();d=L({},d);d=e.fire("BeforeExecCommand",{command:a,ui:b,value:c});if(d.isDefaultPrevented())return!1;if((g=e.execCommands[a])&&!0!==g.func.call(g.scope,b,c))return e.fire("ExecCommand",{command:a,ui:b,value:c}),!0;D(e.plugins,function(d){if(d.execCommand&&d.execCommand(a,b,c))return e.fire("ExecCommand",{command:a,ui:b,value:c}),f=!0,!1});if(f)return f;if(e.theme&&e.theme.execCommand&&
e.theme.execCommand(a,b,c)||e.editorCommands.execCommand(a,b,c))return e.fire("ExecCommand",{command:a,ui:b,value:c}),!0;e.getDoc().execCommand(a,b,c);e.fire("ExecCommand",{command:a,ui:b,value:c})},queryCommandState:function(a){var b;if(!this._isHidden()){if(b=this.queryStateCommands[a])if(b=b.func.call(b.scope),!0!==b)return b;b=this.editorCommands.queryCommandState(a);if(-1!==b)return b;try{return this.getDoc().queryCommandState(a)}catch(c){}}},queryCommandValue:function(a){var b;if(!this._isHidden()){if(b=
this.queryValueCommands[a])if(b=b.func.call(b.scope),!0!==b)return b;b=this.editorCommands.queryCommandValue(a);if(b!==P)return b;try{return this.getDoc().queryCommandValue(a)}catch(c){}}},show:function(){z.show(this.getContainer());z.hide(this.id);this.load();this.fire("show")},hide:function(){var a=this.getDoc();O&&a&&a.execCommand("SelectAll");this.save();z.hide(this.getContainer());z.setStyle(this.id,"display",this.orgDisplay);this.fire("hide")},isHidden:function(){return!z.isHidden(this.id)},
setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=this.getElement(),c;if(b)return a=a||{},a.load=!0,c=this.setContent(b.value!==P?b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c},save:function(a){var b=this,c=b.getElement(),d,e;if(c&&b.initialized)return a=a||{},a.save=!0,a.element=c,d=a.content=b.getContent(a),a.no_events||b.fire("SaveContent",a),d=a.content,/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=d:(c.innerHTML=
d,(e=z.getParent(b.id,"form"))&&D(e.elements,function(a){if(a.name==b.id)return a.value=d,!1})),a.element=c=null,b.isNotDirty=!0,d},setContent:function(b,c){var d=this.getBody(),e;c=c||{};c.format=c.format||"html";c.set=!0;c.content=b;c.no_events||this.fire("BeforeSetContent",c);b=c.content;if(O||0!==b.length&&!/^\s+$/.test(b))return"raw"!==c.format&&(b=(new a({},this.schema)).serialize(this.parser.parse(b,{isRootContent:!0}))),c.content=w(b),this.dom.setHTML(d,c.content),c.no_events||this.fire("SetContent",
c),this.settings.content_editable&&document.activeElement!==this.getBody()||this.selection.normalize(),c.content;b=(e=this.settings.forced_root_block)&&this.schema.isValidChild(d.nodeName.toLowerCase(),e.toLowerCase())?"<"+e+'><br data-mce-bogus="1"></'+e+">":'<br data-mce-bogus="1">';d.innerHTML=b;this.selection.select(d,!0);this.selection.collapse(!0);this.fire("SetContent",c)},getContent:function(a){var b;b=this.getBody();a=a||{};a.format=a.format||"html";a.get=!0;a.getInner=!0;a.no_events||this.fire("BeforeGetContent",
a);b="raw"==a.format?b.innerHTML:"text"==a.format?b.innerText||b.textContent:this.serializer.serialize(b,a);a.content="text"!=a.format?w(b):b;a.no_events||this.fire("GetContent",a);return a.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},getContainer:function(){this.container||(this.container=z.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},
getElement:function(){return z.get(this.settings.content_element||this.id)},getWin:function(){var a;!this.contentWindow&&(a=z.get(this.id+"_ifr"))&&(this.contentWindow=a.contentWindow);return this.contentWindow},getDoc:function(){var a;!this.contentDocument&&(a=this.getWin())&&(this.contentDocument=a.document);return this.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",
a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?a:d.relative_urls?this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,d=b.dom,e;a=a||b.getBody();b.hasVisual===P&&(b.hasVisual=c.visual);D(d.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":e=c.visual_table_class||"mce-item-table";(f=d.getAttrib(a,"border"))&&"0"!=f||(b.hasVisual?d.addClass(a,e):d.removeClass(a,
e));break;case "A":d.getAttrib(a,"href",!1)||(f=d.getAttrib(a,"name")||a.id,e="mce-item-anchor",f&&(b.hasVisual?d.addClass(a,e):d.removeClass(a,e)))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){var a=this.getContainer(),b=this.getDoc();this.removed||(this.removed=1,O&&b&&b.execCommand("SelectAll"),this.save(),z.setStyle(this.id,"display",this.orgDisplay),this.settings.content_editable||(K.unbind(this.getWin()),K.unbind(this.getDoc())),K.unbind(this.getBody()),K.unbind(a),
this.fire("remove"),this.editorManager.remove(this),z.remove(a))},bindNative:function(a){var b=this;b.initialized?b.dom.bind(C(b,a),a,function(c){b.fire(a,c)}):b._pendingNativeEvents?b._pendingNativeEvents.push(a):b._pendingNativeEvents=[a]},unbindNative:function(a){this.initialized&&this.dom.unbind(a)},destroy:function(a){if(!this.destroyed){J&&(K.unbind(this.getDoc()),K.unbind(this.getWin()),K.unbind(this.getBody()));a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&
this.theme.destroy(),this.selection.destroy(),this.dom.destroy());if(a=this.formElement)a.submit=a._mceOldSubmit,a._mceOldSubmit=null,z.unbind(a,"submit reset",this.formEventDelegate);this.contentAreaContainer=this.formElement=this.container=null;this.settings.content_element=this.bodyElement=this.contentDocument=this.contentWindow=null;this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}},_refreshContentEditable:function(){var a,b;this._isHidden()&&
(a=this.getBody(),b=a.parentNode,b.removeChild(a),b.appendChild(a),a.focus())},_isHidden:function(){var a;if(!J)return 0;a=this.selection.getSel();return!a||!a.rangeCount||0===a.rangeCount}};L(B.prototype,x);return B});x("tinymce/util/I18n",[],function(){var k={};return{add:function(h,f){for(var e in f)k[e]=f[e]},translate:function(h){if("undefined"==typeof h)return h;if("string"!=typeof h&&h.raw)return h.raw;if(h.push){var f=h.slice(1);h=(k[h[0]]||h[0]).replace(/\{([^\}]+)\}/g,function(e,a){return f[a]})}return k[h]||
h},data:k}});x("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(k,h){function f(e){e.on("AddEditor",function(a){var b=a.editor,c,d;b.on("init",function(){"onbeforedeactivate"in document?b.dom.bind(b.getBody(),"beforedeactivate",function(){var a=b.getDoc().selection;c=a&&a.createRange?a.createRange():b.selection.getRng()}):b.inline&&(b.on("nodechange",function(){for(var a,d=document.activeElement;d;){if(d==b.getBody()){a=!0;break}d=d.parentNode}a&&(c=b.selection.getRng())}),h.webkit&&
(d=function(){var a=b.selection.getRng();a.collapsed||(c=a)},k.DOM.bind(document,"selectionchange",d),b.on("remove",function(){k.DOM.unbind(document,"selectionchange",d)})))});b.on("focusin",function(){var a=e.focusedEditor;b.selection.restoreRng&&(b.selection.setRng(b.selection.restoreRng),b.selection.restoreRng=null);a!=b&&(a&&a.fire("blur",{focusedEditor:b}),b.fire("focus",{blurredEditor:a}),b.focus(!1),e.focusedEditor=b)});b.on("focusout",function(){b.selection.restoreRng=c;window.setTimeout(function(){var a=
e.focusedEditor;a!=b&&(b.selection.restoreRng=null);var c;try{c=document.activeElement}catch(d){c=document.body}k.DOM.getParent(c,f.isEditorUIElement)||a!=b||(b.fire("blur",{focusedEditor:null}),e.focusedEditor=null,b.selection.restoreRng=null)},0)})})}f.isEditorUIElement=function(e){return-1!==e.className.indexOf("mce-")};return f});x("tinymce/EditorManager","tinymce/Editor tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager".split(" "),
function(k,h,f,e,a,b,c,d){var n=h.DOM,g=a.explode,l=a.each,v=a.extend,s=0,t;h={majorVersion:"4",minorVersion:"0",releaseDate:"2013-06-26",editors:[],i18n:c,activeEditor:null,setup:function(){var a,b,c="",e;b=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(b)||(b+="/");if(e=window.tinymce||window.tinyMCEPreInit)a=e.base||e.baseURL,c=e.suffix;else{e=document.getElementsByTagName("script");for(var g=0;g<e.length;g++){var h=e[g].src;if(/tinymce(\.jquery|)(\.min|\.dev|)\.js/.test(h)){-1!=
h.indexOf(".min")&&(c=".min");a=h.substring(0,h.lastIndexOf("/"));break}}}this.baseURL=(new f(b)).toAbsolute(a);this.documentBaseURL=b;this.baseURI=new f(this.baseURL);this.suffix=c;this.focusManager=new d(this)},init:function(a){function b(a){var c=a.id;c||(c=(c=a.name)&&!n.get(c)?a.name:n.uniqueId(),a.setAttribute("id",c));return c}function c(a,b,d){var e=a[b];if(e)return e.apply(d||this,Array.prototype.slice.call(arguments,2))}var d=this,e=[],f;d.settings=a;n.bind(window,"ready",function(){var h,
t;c(a,"onpageload");if(a.types)l(a.types,function(c){l(n.select(c.selector),function(f){f=new k(b(f),v({},a,c),d);e.push(f);f.render(1)})});else if(a.selector)l(n.select(a.selector),function(c){c=new k(b(c),a,d);e.push(c);c.render(1)});else{switch(a.mode){case "exact":h=a.elements||"";0<h.length&&l(g(h),function(b){n.get(b)?(f=new k(b,a,d),e.push(f),f.render(!0)):l(document.forms,function(c){l(c.elements,function(c){c.name===b&&(b="mce_editor_"+s++,n.setAttrib(c,"id",b),f=new k(b,a,d),e.push(f),f.render(1))})})});
break;case "textareas":case "specific_textareas":l(n.select("textarea"),function(c){a.editor_deselector&&(a.editor_deselector.constructor===RegExp?a.editor_deselector.test(c.className):n.hasClass(c,a.editor_deselector))||a.editor_selector&&(a.editor_selector.constructor===RegExp?!a.editor_selector.test(c.className):!n.hasClass(c,a.editor_selector))||(f=new k(b(c),a,d),e.push(f),f.render(!0))})}a.oninit&&(h=t=0,l(e,function(b){t++;if(b.initialized)h++;else b.on("init",function(){h++;h==t&&c(a,"oninit")});
h==t&&c(a,"oninit")}))}})},get:function(a){return a===P?this.editors:this.editors[a]},add:function(a){var b=this,c=b.editors;c[a.id]=a;c.push(a);b.activeEditor=a;b.fire("AddEditor",{editor:a});t||(t=function(){b.fire("BeforeUnload")},n.bind(window,"beforeunload",t));return a},createEditor:function(a,b){return this.add(new k(a,b,this))},remove:function(a){var b=this,c=b.editors,d;if(a)if("string"==typeof a)a=a.selector||a,l(n.select(a),function(a){b.remove(c[a.id])});else{d=a;if(!c[d.id])return null;
delete c[d.id];for(a=0;a<c.length;a++)if(c[a]==d){c.splice(a,1);break}b.activeEditor==d&&(b.activeEditor=c[0]);if(d&&!d.removed)return d.remove(),d.destroy(),b.fire("RemoveEditor",{editor:d}),c.length||n.unbind(window,"beforeunload",t),d}else for(a=c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var d=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new k(c,this.settings,this)).render(),!0;case "mceRemoveEditor":return d&&d.remove(),!0;case "mceToggleEditor":if(!d)return this.execCommand("mceAddEditor",
0,c),!0;d.isHidden()?d.show():d.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){l(this.editors,function(a){a.save()})},addI18n:function(a,b){c.add(a,b)},translate:function(a){return c.translate(a)}};v(h,b);h.setup();return window.tinymce=window.tinyMCE=h});x("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(k,h){var f=h.each,e=h.explode;k.on("AddEditor",function(a){var b=a.editor;b.on("preInit",function(){function a(b,
c){f(c,function(a,c){a&&k.setStyle(b,c,a)});k.rename(b,"span")}function d(a){k=b.dom;v.convert_fonts_to_spans&&f(k.select("font,u,strike",a.node),function(a){h[a.nodeName.toLowerCase()](k,a)})}var h,g,k,v=b.settings;v.inline_styles&&(g=e(v.font_size_legacy_values),h={font:function(b,d){a(d,{backgroundColor:d.style.backgroundColor,color:d.color,fontFamily:d.face,fontSize:g[parseInt(d.size,10)-1]})},u:function(b,d){a(d,{textDecoration:"underline"})},strike:function(b,d){a(d,{textDecoration:"line-through"})}},
b.on("PreProcess SetContent",d))})})});x("tinymce/util/XHR",[],function(){return{send:function(k){function h(){!k.async||4==f.readyState||1E4<e++?(k.success&&1E4>e&&200==f.status?k.success.call(k.success_scope,""+f.responseText,f,k):k.error&&k.error.call(k.error_scope,1E4<e?"TIMED_OUT":"GENERAL",f,k),f=null):setTimeout(h,10)}var f,e=0;k.scope=k.scope||this;k.success_scope=k.success_scope||k.scope;k.error_scope=k.error_scope||k.scope;k.async=!1===k.async?!1:!0;k.data=k.data||"";if(f=new XMLHttpRequest){f.overrideMimeType&&
f.overrideMimeType(k.content_type);f.open(k.type||(k.data?"POST":"GET"),k.url,k.async);k.content_type&&f.setRequestHeader("Content-Type",k.content_type);f.setRequestHeader("X-Requested-With","XMLHttpRequest");f.send(k.data);if(!k.async)return h();setTimeout(h,10)}}}});x("tinymce/util/JSON",[],function(){function k(h,f){var e,a,b,c;f=f||'"';if(null===h)return"null";b=typeof h;if("string"==b)return a="\bb\tt\nn\ff\rr\"\"''\\\\",f+h.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(b,c){if('"'===
f&&"'"===b)return b;e=a.indexOf(c);if(e+1)return"\\"+a.charAt(e+1);b=c.charCodeAt().toString(16);return"\\u"+"0000".substring(b.length)+b})+f;if("object"==b){if(h.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(h)){e=0;for(a="[";e<h.length;e++)a+=(0<e?",":"")+k(h[e],f);return a+"]"}a="{";for(c in h)h.hasOwnProperty(c)&&(a+="function"!=typeof h[c]?(1<a.length?","+f:f)+c+f+":"+k(h[c],f):"");return a+"}"}return""+h}return{serialize:k,parse:function(h){try{return window[String.fromCharCode(101)+
"val"]("("+h+")")}catch(f){}}}});x("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(k,h,f){function e(b){this.settings=a({},b);this.count=0}var a=f.extend;e.sendRPC=function(a){return(new e).send(a)};e.prototype={send:function(b){var c=b.error,d=b.success;b=a(this.settings,b);b.success=function(a,e){a=k.parse(a);"undefined"==typeof a&&(a={error:"JSON Parse error."});a.error?c.call(b.error_scope||b.scope,a.error,e):d.call(b.success_scope||b.scope,a.result)};
b.error=function(a,d){c&&c.call(b.error_scope||b.scope,a,d)};b.data=k.serialize({id:b.id||"c"+this.count++,method:b.method,params:b.params});b.content_type="application/json";h.send(b)}};return e});x("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(k){return{callbacks:{},count:0,send:function(h){var f=this,e=k.DOM,a=h.count!==P?h.count:f.count,b="tinymce_jsonp_"+a;f.callbacks[a]=function(c){e.remove(b);delete f.callbacks[a];h.callback(c)};e.add(e.doc.body,"script",{id:b,src:h.url,type:"text/javascript"});
f.count++}}});x("tinymce/util/LocalStorage",[],function(){function k(){b=[];for(var c in a)b.push(c);f.length=b.length}function h(){var b,f="",g;for(g in a)b=a[g],f+=(f?",":"")+g.length.toString(32)+","+g+","+b.length.toString(32)+","+b;e.setAttribute(c,f);e.save(c);k()}var f,e,a,b,c;if(window.localStorage)return localStorage;c="tinymce";e=document.documentElement;e.addBehavior("#default#userData");f={key:function(a){return b[a]},getItem:function(b){return b in a?a[b]:null},setItem:function(b,c){a[b]=
""+c;h()},removeItem:function(b){delete a[b];h()},clear:function(){a={};h()}};(function(){function b(a){var c;c=a!==P?v+a:g.indexOf(",",v);if(-1===c||c>g.length)return null;a=g.substring(v,c);v=c+1;return a}var f,g,h,v=0;a={};e.load(c);g=e.getAttribute(c)||"";do f=b(parseInt(b(),32)||0),null!==f&&(h=b(parseInt(b(),32)||0),a[f]=h);while(null!==f);k()})();return f});x("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),
function(k,h,f,e,a,b){var c=window.tinymce;c.DOM=k.DOM;c.ScriptLoader=f.ScriptLoader;c.PluginManager=e.PluginManager;c.ThemeManager=e.ThemeManager;c.dom=c.dom||{};c.dom.Event=h.Event;a.each(a,function(a,b){c[b]=a});a.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(a){c[a]=b[a.substr(2).toLowerCase()]});return{}});x("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(k,h){return k.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(f){this.settings=
h.extend({},this.Defaults,f)},preRender:function(f){f.addClass(this.settings.containerClass,"body")},applyClasses:function(f){var e=this.settings,a,b;f=f.items().filter(":visible");a=e.firstControlClass;b=e.lastControlClass;f.each(function(c){c.removeClass(a).removeClass(b);e.controlClass&&c.addClass(e.controlClass)});f.eq(0).addClass(a);f.eq(-1).addClass(b)},renderHtml:function(f){var e=this.settings,a="";f=f.items();f.eq(0).addClass(e.firstControlClass);f.eq(-1).addClass(e.lastControlClass);f.each(function(b){e.controlClass&&
b.addClass(e.controlClass);a+=b.renderHtml()});return a},recalc:function(){},postRender:function(){}})});x("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(k){return k.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(h){h.items().filter(":visible").each(function(f){var e=f.settings;f.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h});f.recalc&&f.recalc()})},renderHtml:function(h){return'<div id="'+h._id+'-absend" class="'+h.classPrefix+'abs-end"></div>'+this._super(h)}})});
x("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(k,h){return k.extend({Mixins:[h],Defaults:{classes:"widget tooltip tooltip-n"},text:function(f){return"undefined"!=typeof f?(this._value=f,this._rendered&&(this.getEl().lastChild.innerHTML=this.encode(f)),this):this._value},renderHtml:function(){var f=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes()+'" role="presentation"><div class="'+f+'tooltip-arrow"></div><div class="'+f+'tooltip-inner">'+this.encode(this._text)+
"</div></div>"},repaint:function(){var f,e;f=this.getEl().style;e=this._layoutRect;f.left=e.x+"px";f.top=e.y+"px";f.zIndex=131070}})});x("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(k,h){var f,e=k.extend({init:function(a){var b=this;b._super(a);b.canFocus=!0;if(a.tooltip&&!1!==e.tooltips)b.on("mouseenter mouseleave",function(c){var d=b.tooltip().moveTo(-65535);c.control==b&&"mouseenter"==c.type?(c=d.text(a.tooltip).show().testMoveRel(b.getEl(),["bc-tc","bc-tl","bc-tr"]),
d.toggleClass("tooltip-n","bc-tc"==c),d.toggleClass("tooltip-nw","bc-tl"==c),d.toggleClass("tooltip-ne","bc-tr"==c),d.moveRel(b.getEl(),c)):d.hide()});b.aria("label",a.tooltip)},tooltip:function(){f||(f=new h({type:"tooltip"}),f.renderTo(this.getContainerElm()));return f},active:function(a){void 0!==a&&(this.aria("pressed",a),this.toggleClass("active",a));return this._super(a)},disabled:function(a){void 0!==a&&(this.aria("disabled",a),this.toggleClass("disabled",a));return this._super(a)},postRender:function(){var a=
this,b=a.settings;a._rendered=!0;a._super();a.parent()||!b.width&&!b.height||(a.initLayoutRect(),a.repaint());b.autofocus&&setTimeout(function(){a.focus()},0)},remove:function(){this._super();f&&(f.remove(),f=null)}});return e});x("tinymce/ui/Button",["tinymce/ui/Widget"],function(k){return k.extend({Defaults:{classes:"widget btn",role:"button"},init:function(h){var f;this.on("click mousedown",function(e){e.preventDefault()});this._super(h);f=h.size;h.subtype&&this.addClass(h.subtype);f&&this.addClass("btn-"+
f)},repaint:function(){var h=this.getEl().firstChild.style;h.width=h.height="100%";this._super()},renderHtml:function(){var h=this._id,f=this.classPrefix,e=this.settings.icon,a="";this.settings.image&&(e="none",a=" style=\"background-image: url('"+this.settings.image+"')\"");e=this.settings.icon?f+"ico "+f+"i-"+e:"";return'<div id="'+h+'" class="'+this.classes()+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+(e?'<i class="'+e+'"'+a+"></i>":"")+(this._text?(e?" ":"")+this.encode(this._text):
"")+"</button></div>"}})});x("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(k){return k.extend({Defaults:{defaultType:"button",role:"toolbar"},renderHtml:function(){var h=this._layout;this.addClass("btn-group");this.preRender();h.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});x("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(k){return k.extend({Defaults:{classes:"checkbox",
role:"checkbox",checked:!1},init:function(h){var f=this;f._super(h);f.on("click mousedown",function(e){e.preventDefault()});f.on("click",function(e){e.preventDefault();f.disabled()||f.checked(!f.checked())});f.checked(f.settings.checked)},checked:function(h){return"undefined"!=typeof h?(h?this.addClass("checked"):this.removeClass("checked"),this._checked=h,this.aria("checked",h),this):this._checked},value:function(h){return this.checked(h)},renderHtml:function(){var h=this._id,f=this.classPrefix;
return'<div id="'+h+'" class="'+this.classes()+'" unselectable="on" aria-labeledby="'+h+'-al" tabindex="-1"><i class="'+f+"ico "+f+'i-checkbox"></i><span id="'+h+'-al" class="'+f+'label">'+this.encode(this._text)+"</span></div>"}})});x("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(k,h){return k.extend({showPanel:function(){var f=this,e=f.settings;e.panel.popover=!0;e.panel.autohide=!0;f.active(!0);f.panel?f.panel.show():(f.panel=(new h(e.panel)).on("hide",function(){f.active(!1)}).parent(f).renderTo(f.getContainerElm()),
f.panel.fire("show"),f.panel.reflow());f.panel.moveRel(f.getEl(),e.popoverAlign||"bc-tc")},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var f=this;f.on("click",function(e){e.control===f&&(f.panel&&f.panel.visible()?f.hidePanel():f.showPanel())});return f._super()}})});x("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(k,h){var f=h.DOM;return k.extend({init:function(e){this._super(e);this.addClass("colorbutton")},color:function(e){return e?
(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},renderHtml:function(){var e=this._id,a=this.classPrefix,b=this.settings.icon?a+"ico "+a+"i-"+this.settings.icon:"",c=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"";return'<div id="'+e+'" class="'+this.classes()+'"><button role="presentation" hidefocus type="button" tabindex="-1">'+(b?'<i class="'+b+'"'+c+"></i>":"")+'<span id="'+e+'-preview" class="'+a+'preview"></span>'+(this._text?
(b?" ":"")+this._text:"")+'</button><button type="button" class="'+a+'open" hidefocus tabindex="-1"> <i class="'+a+'caret"></i></button></div>'},postRender:function(){var e=this,a=e.settings.onclick;e.on("click",function(b){b.control!=e||f.getParent(b.target,"."+e.classPrefix+"open")||(b.stopImmediatePropagation(),a.call(e,b))});delete e.settings.onclick;return e._super()}})});x("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(k,h){return k.extend({init:function(f){var e=
this;e._super(f);e.addClass("combobox");e.on("click",function(a){for(a=a.target;a;)a.id&&-1!=a.id.indexOf("-open")&&e.fire("action"),a=a.parentNode});e.on("keydown",function(a){"INPUT"==a.target.nodeName&&13==a.keyCode&&e.parents().reverse().each(function(b){a.preventDefault();e.fire("change");if(b.submit)return b.submit(),!1})});f.placeholder&&(e.addClass("placeholder"),e.on("focusin",function(){e._hasOnChange||(h.on(e.getEl("inp"),"change",function(){e.fire("change")}),e._hasOnChange=!0);e.hasClass("placeholder")&&
(e.getEl("inp").value="",e.removeClass("placeholder"))}),e.on("focusout",function(){0===e.value().length&&(e.getEl("inp").value=f.placeholder,e.addClass("placeholder"))}))},value:function(f){return"undefined"!=typeof f?(this._value=f,this.removeClass("placeholder"),this._rendered&&(this.getEl("inp").value=f),this):this._rendered?(f=this.getEl("inp").value,f!=this.settings.placeholder?f:""):this._value},disabled:function(f){this._super(f);this._rendered&&(this.getEl("inp").disabled=f)},focus:function(){this.getEl("inp").focus()},
repaint:function(){var f=this.getEl(),e=this.getEl("open"),a=this.layoutRect(),b,e=e?a.w-e.offsetWidth-10:a.w-10,a=document;a.all&&(!a.documentMode||8>=a.documentMode)&&(b=this.layoutRect().h-2+"px");h.css(f.firstChild,{width:e,lineHeight:b});this._super();return this},postRender:function(){var f=this;h.on(this.getEl("inp"),"change",function(){f.fire("change")});return f._super()},renderHtml:function(){var f=this._id,e=this.settings,a=this.classPrefix,b=e.value||e.placeholder||"",c,d="",e=e.icon?
a+"ico "+a+"i-"+e.icon:"";c=this._text;if(e||c)d='<div id="'+f+'-open" class="'+a+"btn "+a+'open" tabIndex="-1"><button id="'+f+'-action" type="button" hidefocus tabindex="-1">'+(e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(c?(e?" ":"")+c:"")+"</button></div>",this.addClass("has-open");return'<div id="'+f+'" class="'+this.classes()+'"><input id="'+f+'-inp" class="'+a+"textbox "+a+'placeholder" value="'+b+'" hidefocus="true">'+d+"</div>"}})});x("tinymce/ui/Path",["tinymce/ui/Control","tinymce/ui/KeyboardNavigation"],
function(k,h){return k.extend({Defaults:{delimiter:"\u00bb"},init:function(f){var e=this;e._super(f);e.addClass("path");e.canFocus=!0;e.on("click",function(a){var b;(b=a.target.getAttribute("data-index"))&&e.fire("select",{value:e.data()[b],index:b})})},focus:function(){this.keyNav=new h({root:this,enableLeftRight:!0});this.keyNav.focusFirst();return this},data:function(f){return"undefined"!==typeof f?(this._data=f,this.update(),this):this._data},update:function(){this.getEl().innerHTML=this._getPathHtml()},
postRender:function(){this._super();this.data(this.settings.data)},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classPrefix+'path">'+this._getPathHtml()+"</div>"},_getPathHtml:function(){var f=this._data||[],e,a,b="",c=this.classPrefix;e=0;for(a=f.length;e<a;e++)b+=(0<e?'<div class="'+c+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+c+"path-item"+(e==a-1?" "+c+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+this._id+"-"+
e+'">'+f[e].name+"</div>";b||(b='<div class="'+c+'path-item">&nbsp;</div>');return b}})});x("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(k,h){return k.extend({postRender:function(){function f(a){return 1===a.nodeType&&("BR"==a.nodeName||!!a.getAttribute("data-mce-bogus"))}var e=this,a=h.activeEditor;e.on("select",function(b){var c=[],d,e=a.getBody();a.focus();for(d=a.selection.getStart();d&&d!=e;)f(d)||c.push(d),d=d.parentNode;a.selection.select(c[c.length-1-b.index]);
a.nodeChanged()});a.on("nodeChange",function(b){var c=[];b=b.parents;for(var d=b.length;d--;)if(1==b[d].nodeType&&!f(b[d])){var h=a.fire("ResolveName",{name:b[d].nodeName.toLowerCase(),target:b[d]});c.push({name:h.name})}e.data(c)});return e._super()}})});x("tinymce/ui/FormItem",["tinymce/ui/Container"],function(k){return k.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var h=this._layout,f=this.classPrefix;this.addClass("formitem");h.preRender(this);return'<div id="'+
this._id+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+f+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});x("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem"],function(k,h){return k.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,
spacing:10},preRender:function(){var f=this;f.items().each(function(e){var a;if(a=e.settings.label)a=new h({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:a,flex:0,forId:e._id}]}),a.type="formitem","undefined"==typeof e.settings.flex&&(e.settings.flex=1),f.replace(e,a),a.add(e)})},recalcLabels:function(){var f=0,e=[],a,b;if(!1!==this.settings.labelGapCalc)for(this.items().filter("formitem").each(function(a){a=a.items()[0];var b=a.getEl().clientWidth;f=b>f?b:f;e.push(a)}),
b=this.settings.labelGap||0,a=e.length;a--;)e[a].settings.minWidth=f+b},visible:function(f){var e=this._super(f);!0===f&&this._rendered&&this.recalcLabels();return e},submit:function(){var f=this.getParentCtrl(document.activeElement);f&&f.blur();return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.recalcLabels();this.fromJSON(this.settings.data)}})});x("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(k){return k.extend({Defaults:{containerCls:"fieldset",layout:"flex",
direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var h=this._layout,f=this.classPrefix;this.preRender();h.preRender(this);return'<fieldset id="'+this._id+'" class="'+this.classes()+'" hideFocus="1" tabIndex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+f+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+h.renderHtml(this)+
"</div></fieldset>"}})});x("tinymce/ui/FilePicker",["tinymce/ui/ComboBox"],function(k){return k.extend({init:function(h){var f=this,e=tinymce.activeEditor,a;h.spellcheck=!1;if(a=e.settings.file_browser_callback)h.icon="browse",h.onaction=function(){a(f.getEl("inp").id,f.getEl("inp").value,h.filetype,window)};f._super(h)}})});x("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(k){return k.extend({recalc:function(h){var f=h.layoutRect(),e=h.paddingBox();h.items().filter(":visible").each(function(a){a.layoutRect({x:e.left,
y:e.top,w:f.innerW-e.right-e.left,h:f.innerH-e.top-e.bottom});a.recalc&&a.recalc()})}})});x("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(k){return k.extend({recalc:function(h){var f,e,a,b,c,d,k,g,l,v,s,t,q,p=[],u,r,y,m,x,I,C,B,z,E,H,L,D,N,M,w,A,K,J=Math.max,O=Math.min;a=h.items().filter(":visible");b=h.layoutRect();c=h._paddingBox;d=h.settings;f=d.direction;k=d.align;g=d.pack;d=d.spacing||0;if("row-reversed"==f||"column-reverse"==f)a=a.set(a.toArray().reverse()),f=f.split("-")[0];
"column"==f?(x="y",y="h",m="minH",I="maxH",B="innerH",C="top",z="deltaH",E="contentH",M="left",D="w",H="x",L="innerW",N="minW",w="right",A="deltaW",K="contentW"):(x="x",y="w",m="minW",I="maxW",B="innerW",C="left",z="deltaW",E="contentW",M="top",D="h",H="y",L="innerH",N="minH",w="bottom",A="deltaH",K="contentH");v=b[B]-c[C]-c[C];f=r=l=0;for(e=a.length;f<e;f++)s=a[f],t=s.layoutRect(),q=s.settings,q=q.flex,v-=f<e-1?d:0,0<q&&(l+=q,t[I]&&p.push(s),t.flex=q),v-=t[m],q=c[M]+t[N]+c[w],q>r&&(r=q);u={};u[m]=
0>v?b[m]-v+b[z]:b[B]-v+b[z];u[N]=r+b[A];u[E]=b[B]-v;u[K]=r;u.minW=O(u.minW,b.maxW);u.minH=O(u.minH,b.maxH);u.minW=J(u.minW,b.startMinWidth);u.minH=J(u.minH,b.startMinHeight);if(!b.autoResize||u.minW==b.minW&&u.minH==b.minH){h=v/l;f=0;for(e=p.length;f<e;f++)s=p[f],t=s.layoutRect(),s=t[I],q=t[m]+Math.ceil(t.flex*h),q>s?(v-=t[I]-t[m],l-=t.flex,t.flex=0,t.maxFlexSize=s):t.maxFlexSize=0;h=v/l;p=c[C];u={};0===l&&("end"==g?p=v+c[C]:"center"==g?(p=Math.round(b[B]/2-(b[B]-v)/2)+c[C],0>p&&(p=c[C])):"justify"==
g&&(p=c[C],d=Math.floor(v/(a.length-1))));u[H]=c[M];f=0;for(e=a.length;f<e;f++)s=a[f],t=s.layoutRect(),q=t.maxFlexSize||t[m],"center"===k?u[H]=Math.round(b[L]/2-t[D]/2):"stretch"===k?(u[D]=J(t[N]||0,b[L]-c[M]-c[w]),u[H]=c[M]):"end"===k&&(u[H]=b[L]-t[D]-c.top),0<t.flex&&(q+=Math.ceil(t.flex*h)),u[y]=q,u[x]=p,s.layoutRect(u),s.recalc&&s.recalc(),p+=q+d}else if(u.w=u.minW,u.h=u.minH,h.layoutRect(u),this.recalc(h),null===h._lastRect&&(a=h.parent()))a._lastRect=null,a.recalc()}})});x("tinymce/ui/FlowLayout",
["tinymce/ui/Layout"],function(k){return k.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(h){h.items().filter(":visible").each(function(f){f.recalc&&f.recalc()})}})});x("tinymce/ui/FormatControls","tinymce/ui/Factory tinymce/ui/Control tinymce/ui/Widget tinymce/ui/FloatPanel tinymce/util/Tools tinymce/EditorManager tinymce/Env".split(" "),function(k,h,f,e,a,b,c){function d(a){var c=b.activeEditor,d,e,f=c.dom,g="",h,k;k=c.settings.preview_styles;
if(!1===k)return"";k||(k="font-family font-size font-weight text-decoration text-transform color background-color border border-radius");if(a=c.formatter.get(a))return a=a[0],d=a.block||a.inline||"span",e=f.create(d),l(a.styles,function(a,b){(a=a.replace(/%(\w+)/g,""))&&f.setStyle(e,b,a)}),l(a.attributes,function(a,b){(a=a.replace(/%(\w+)/g,""))&&f.setAttrib(e,b,a)}),l(a.classes,function(a){a=a.replace(/%(\w+)/g,"");f.hasClass(e,a)||f.addClass(e,a)}),c.fire("PreviewFormats"),f.setStyles(e,{position:"absolute",
left:-65535}),c.getBody().appendChild(e),h=f.getStyle(c.getBody(),"fontSize",!0),h=/px$/.test(h)?parseInt(h,10):0,l(k.split(" "),function(a){var b=f.getStyle(e,a,!0);if("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(b)&&(b=f.getStyle(c.getBody(),a,!0),"#ffffff"==f.toHex(b).toLowerCase()))return;if("color"!=a||"#000000"!=f.toHex(b).toLowerCase()){if("font-size"==a&&/em|%$/.test(b)){if(0===h)return;b=parseFloat(b,10)/(/%$/.test(b)?100:1);b=b*h+"px"}"border"==a&&b&&(g+="padding:0 2px;");
g+=a+":"+b+";"}}),c.fire("AfterPreviewFormats"),f.remove(e),g}function n(a,c){return function(){var d=this;b.activeEditor.on("nodeChange",function(e){var f=b.activeEditor.formatter,g=null;l(e.parents,function(b){l(a,function(a){c?f.matchNode(b,c,{value:a.value})&&(g=a.value):f.matchNode(b,a.value)&&(g=a.value);if(g)return!1});if(g)return!1});d.value(g)})}}function g(a){a=a.split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}var l=a.each;h.translate=function(a){return b.translate(a)};
f.tooltips=!c.iOS;b.on("AddEditor",function(c){function f(){var a=this;a.disabled(!(p.undoManager&&p.undoManager.hasUndo()));p.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!(p.undoManager&&p.undoManager.hasUndo()))})}function h(){var a=this;a.disabled(!(p.undoManager&&p.undoManager.hasRedo()));p.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!(p.undoManager&&p.undoManager.hasRedo()))})}function q(a){a.control&&(a=a.control.value());a&&b.activeEditor.execCommand("mceToggleFormat",
!1,a)}var p=c.editor,u;u=function(){function a(e){var f=[];if(e)return l(e,function(e){var g={text:e.title,icon:e.icon,preview:!0};if(e.items)g.menu=a(e.items);else{var h=e.format||"custom"+b++;e.format||(e.name=h,c.push(e));g.textStyle=function(){return d(h)};g.onclick=function(){q(h)};g.onPostRender=function(){var a=this;a.parent().on("show",function(){a.disabled(!p.formatter.canApply(h));a.active(p.formatter.match(h))})}}f.push(g)}),f}var b=0,c=[],e=[{title:"Headers",items:[{title:"Header 1",format:"h1"},
{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},
{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];p.on("init",function(){l(c,function(a){p.formatter.register(a.name,
a)})});return a(p.settings.style_formats||e)}();l({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,b){p.addButton(b,{tooltip:a,onPostRender:function(){var a=this;if(p.formatter)p.formatter.formatChanged(b,function(b){a.active(b)});else p.on("init",function(){p.formatter.formatChanged(b,function(b){a.active(b)})})},onclick:function(){q(b)}})});l({outdent:["Decrease indent","Outdent"],indent:["Increase indent",
"Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,b){p.addButton(b,{tooltip:a[0],cmd:a[1]})});l({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bulleted list",
"InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(a,b){p.addButton(b,{tooltip:a[0],cmd:a[1],onPostRender:function(){var a=this;if(p.formatter)p.formatter.formatChanged(b,function(b){a.active(b)});else p.on("init",function(){p.formatter.formatChanged(b,function(b){a.active(b)})})}})});
p.addButton("undo",{tooltip:"Undo",onPostRender:f,cmd:"undo"});p.addButton("redo",{tooltip:"Redo",onPostRender:h,cmd:"redo"});p.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"});p.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:f,cmd:"undo"});p.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:h,cmd:"redo"});p.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var a=
this;p.on("VisualAid",function(b){a.active(b.hasVisual)});a.active(p.hasVisual)},cmd:"mceToggleVisualAid"});l({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting",
"RemoveFormat"]},function(a,b){p.addMenuItem(b,{text:a[0],icon:b,shortcut:a[2],cmd:a[1]})});p.on("mousedown",function(){e.hideAll()});k.add("styleselect",function(b){var c=[].concat(u);return k.create("menubutton",a.extend({text:"Formats",menu:c},b))});k.add("formatselect",function(b){var c=[],e=g(p.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");l(e,function(a){c.push({text:{raw:a[0]},value:a[1],textStyle:function(){return d(a[1])}})});
return k.create("listbox",a.extend({text:{raw:e[0][0]},values:c,fixedWidth:!0,onselect:q,onPostRender:n(c)},b))});k.add("fontselect",function(c){var d=[],e=g(p.settings.font_formats||"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
l(e,function(a){d.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})});return k.create("listbox",a.extend({text:"Font Family",tooltip:"Font Family",values:d,fixedWidth:!0,onPostRender:n(d,"fontname"),onselect:function(a){a.control.settings.value&&b.activeEditor.execCommand("FontName",!1,a.control.settings.value)}},c))});k.add("fontsizeselect",function(c){var d=[];l((p.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){d.push({text:a,
value:a})});return k.create("listbox",a.extend({text:"Font Sizes",tooltip:"Font Sizes",values:d,fixedWidth:!0,onPostRender:n(d,"fontsize"),onclick:function(a){a.control.settings.value&&b.activeEditor.execCommand("FontSize",!1,a.control.settings.value)}},c))});p.addMenuItem("formats",{text:"Formats",menu:u})})});x("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(k){return k.extend({recalc:function(h){var f=h.settings,e,a,b,c,d,k,g,l,v,s,t,q,p,u,r,x,m,F=[],I=[],f=h.settings;b=h.items().filter(":visible");
c=h.layoutRect();a=f.columns||Math.ceil(Math.sqrt(b.length));e=Math.ceil(b.length/a);u=f.spacingH||f.spacing||0;r=f.spacingV||f.spacing||0;x=f.alignH||f.align;m=f.alignV||f.align;q=h._paddingBox;x&&"string"==typeof x&&(x=[x]);m&&"string"==typeof m&&(m=[m]);for(l=0;l<a;l++)F.push(0);for(d=0;d<e;d++)I.push(0);for(d=0;d<e;d++)for(l=0;l<a;l++){g=b[d*a+l];if(!g)break;k=g.layoutRect();g=k.minW;k=k.minH;F[l]=g>F[l]?g:F[l];I[d]=k>I[d]?k:I[d]}k=c.innerW-q.left-q.right;for(l=g=0;l<a;l++)g+=F[l]+(0<l?u:0),k-=
(0<l?u:0)+F[l];v=c.innerH-q.top-q.bottom;for(d=l=0;d<e;d++)l+=I[d]+(0<d?r:0),v-=(0<d?r:0)+I[d];g+=q.left+q.right;l+=q.top+q.bottom;d={};d.minW=g+(c.w-c.innerW);d.minH=l+(c.h-c.innerH);d.contentW=d.minW-c.deltaW;d.contentH=d.minH-c.deltaH;d.minW=Math.min(d.minW,c.maxW);d.minH=Math.min(d.minH,c.maxH);d.minW=Math.max(d.minW,c.startMinWidth);d.minH=Math.max(d.minH,c.startMinHeight);if(!c.autoResize||d.minW==c.minW&&d.minH==c.minH){c.autoResize&&(d=h.layoutRect(d),d.contentW=d.minW-c.deltaW,d.contentH=
d.minH-c.deltaH);h="start"==f.packV?0:0<v?Math.floor(v/e):0;d=0;if(f=f.flexWidths)for(l=0;l<f.length;l++)d+=f[l];else d=a;d=k/d;for(l=0;l<a;l++)F[l]+=f?Math.ceil(f[l]*d):d;s=q.top;for(d=0;d<e;d++){v=q.left;c=I[d]+h;for(l=0;l<a;l++){g=b[d*a+l];if(!g)break;t=g.settings;k=g.layoutRect();f=F[l];k.x=v;k.y=s;p=t.alignH||(x?x[l]||x[0]:null);"center"==p?k.x=v+f/2-k.w/2:"right"==p?k.x=v+f-k.w:"stretch"==p&&(k.w=f);p=t.alignV||(m?m[l]||m[0]:null);"center"==p?k.y=s+c/2-k.h/2:"bottom"==p?k.y=s+c-k.h:"stretch"==
p&&(k.h=c);g.layoutRect(k);v+=f+u;g.recalc&&g.recalc()}s+=c+r}}else if(d.w=d.minW,d.h=d.minH,h.layoutRect(d),this.recalc(h),null===h._lastRect&&(e=h.parent()))e._lastRect=null,e.recalc()}})});x("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(k){return k.extend({renderHtml:function(){this.addClass("iframe");this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes()+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(h){this.getEl().src=
h},html:function(h){this.getEl().contentWindow.document.body.innerHTML=h;return this}})});x("tinymce/ui/Label",["tinymce/ui/Widget"],function(k){return k.extend({init:function(h){this._super(h);this.addClass("widget");this.addClass("label");this.canFocus=!1;h.multiline&&this.addClass("autoscroll");h.strong&&this.addClass("strong")},initLayoutRect:function(){var h=this._super();this.settings.multiline&&(this.getEl().offsetWidth>h.maxW&&(h.minW=h.maxW,this.addClass("multiline")),this.getEl().style.width=
h.minW+"px",h.startMinH=h.h=h.minH=Math.min(h.maxH,this.getEl().offsetHeight));return h},disabled:function(h){void 0!==h&&(this.toggleClass("label-disabled",h),this._rendered&&(this.getEl()[0].className=this.classes()));return this._super(h)},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px");return this._super()},text:function(h){this._rendered&&h&&(this.getEl().innerHTML=this.encode(h));return this._super(h)},renderHtml:function(){var h=this.settings.forId;
return'<label id="'+this._id+'" class="'+this.classes()+'"'+(h?' for="'+h:"")+'">'+this.encode(this._text)+"</label>"}})});x("tinymce/ui/Toolbar",["tinymce/ui/Container","tinymce/ui/KeyboardNavigation"],function(k,h){return k.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(f){this._super(f);this.addClass("toolbar")},postRender:function(){this.items().addClass("toolbar-item");this.keyNav=new h({root:this,enableLeftRight:!0});return this._super()}})});x("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],
function(k){return k.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})});x("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(k,h,f){var e=k.extend({init:function(a){this._renderOpen=!0;this._super(a);this.addClass("menubtn");a.fixedWidth&&this.addClass("fixed-width");this.aria("haspopup",!0);this.hasPopup=!0},showMenu:function(){var a=this,b=a.settings;if(a.menu&&a.menu.visible())return a.hideMenu();a.menu||(b=b.menu||
[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",a.menu=h.create(b).parent(a).renderTo(a.getContainerElm()),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control===a.menu&&a.focus()}),a.menu.on("show hide",function(b){b.control==a.menu&&a.activeMenu("show"==b.type)}).fire("show"),a.aria("expanded",!0));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&(this.menu.items().each(function(a){a.hideMenu&&
a.hideMenu()}),this.menu.hide(),this.aria("expanded",!1))},activeMenu:function(a){this.toggleClass("active",a)},renderHtml:function(){var a=this._id,b=this.classPrefix,c=this.settings.icon?b+"ico "+b+"i-"+this.settings.icon:"";this.aria("role",this.parent()instanceof f?"menuitem":"button");return'<div id="'+a+'" class="'+this.classes()+'" tabindex="-1"><button id="'+a+'-open" role="presentation" type="button" tabindex="-1">'+(c?'<i class="'+c+'"></i>':"")+"<span>"+(this._text?(c?" ":"")+this.encode(this._text):
"")+'</span> <i class="'+b+'caret"></i></button></div>'},postRender:function(){var a=this;a.on("click",function(b){var c;if(c=b.control===a)a:{c=b.target;for(var d=a.getEl();c;){if(d===c){c=!0;break a}c=c.parentNode}c=!1}c&&(a.showMenu(),b.keyboard&&a.menu.items()[0].focus())});a.on("mouseenter",function(b){var c=b.control;b=a.parent();var d;c&&(b&&c instanceof e&&c.parent()==b)&&(b.items().filter("MenuButton").each(function(a){a.hideMenu&&a!=c&&(a.menu&&a.menu.visible()&&(d=!0),a.hideMenu())}),d&&
c.showMenu())});return a._super()},text:function(a){var b,c;if(this._rendered)for(c=this.getEl("open").getElementsByTagName("span"),b=0;b<c.length;b++)c[b].innerHTML=this.encode(a);return this._super(a)},remove:function(){this._super();this.menu&&this.menu.remove()}});return e});x("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(k){return k.extend({init:function(h){var f=this,e,a,b,c,d;if(f._values=e=h.values){for(a=0;a<e.length;a++)if(b=e[a].selected||h.value===e[a].value)c=c||e[a].text,f._value=
e[a].value;h.menu=e}h.text=h.text||c||e[0].text;f._super(h);f.addClass("listbox");f.on("select",function(a){var b=a.control;d&&(a.lastControl=d);h.multiple?b.active(!b.active()):f.value(a.control.settings.value);d=b})},value:function(h){function f(b,c){b.items().each(function(b){(e=b.value()===c)&&(a=a||b.text());b.active(e);b.menu&&f(b.menu,c)})}var e,a,b,c;if("undefined"!=typeof h){if(this.menu)f(this.menu,h);else for(b=this.settings.menu,c=0;c<b.length;c++)(e=b[c].value==h)&&(a=a||b[c].text),b[c].active=
e;this.text(a||this.settings.text)}return this._super(h)}})});x("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory"],function(k,h){return k.extend({Defaults:{border:0,role:"menuitem"},init:function(f){var e=this;e.hasPopup=!0;e._super(f);f=e.settings;e.addClass("menu-item");f.menu&&e.addClass("menu-item-expand");f.preview&&e.addClass("menu-item-preview");if("-"===e._text||"|"===e._text)e.addClass("menu-item-sep"),e.aria("role","separator"),e.canFocus=!1,e._text="-";f.selectable&&(e.aria("role",
"menuitemcheckbox"),e.aria("checked",!0),e.addClass("menu-item-checkbox"),f.icon="selected");e.on("mousedown",function(a){a.preventDefault()});e.on("mouseenter click",function(a){a.control===e&&(f.menu||"click"!==a.type?(e.showMenu(),a.keyboard&&setTimeout(function(){e.menu.items()[0].focus()},0)):(e.parent().hideAll(),e.fire("cancel"),e.fire("select")))});f.menu&&e.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var f=this,e=f.settings,a;f.parent().items().each(function(a){a!==
f&&a.hideMenu()});e.menu&&((a=f.menu)?a.show():(a=e.menu,a.length?a={type:"menu",items:a}:a.type=a.type||"menu",a=f.menu=h.create(a).parent(f).renderTo(f.getContainerElm()),a.reflow(),a.fire("show"),a.on("cancel",function(){f.focus()}),a.on("hide",function(b){b.control===a&&f.removeClass("selected")})),a._parentMenu=f.parent(),a.addClass("menu-sub"),e=a.testMoveRel(f.getEl(),["tr-tl","br-bl","tl-tr","bl-br"]),a.moveRel(f.getEl(),e),e="menu-sub-"+e,a.removeClass(a._lastRel),a.addClass(e),a._lastRel=
e,f.addClass("selected"),f.aria("expanded",!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(f){f.hideMenu&&f.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){var f=this._id,e=this.settings,a=this.classPrefix,b=this.encode(this._text),c=this.settings.icon;c&&this.parent().addClass("menu-has-icons");c=a+"ico "+a+"i-"+(this.settings.icon||"none");return'<div id="'+f+'" class="'+this.classes()+'" tabindex="-1">'+("-"!==b?'<i class="'+c+'"></i>&nbsp;':
"")+("-"!==b?'<span id="'+f+'-text" class="'+a+'text">'+b+"</span>":"")+(e.shortcut?'<div id="'+f+'-shortcut" class="'+a+'menu-shortcut">'+e.shortcut+"</div>":"")+(e.menu?'<div class="'+a+'caret"></div>':"")+"</div>"},postRender:function(){var f=this.settings.textStyle;"function"==typeof f&&(f=f());if(f){var e=this.getEl("text");e&&e.setAttribute("style",f)}return this._super()},remove:function(){this._super();this.menu&&this.menu.remove()}})});x("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation",
"tinymce/ui/MenuItem"],function(k,h,f){return k.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"menu"},init:function(e){var a=this;e.autohide=!0;e.constrainToViewport=!0;a._super(e);a.addClass("menu");a.keyNav=new h({root:a,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){a.parent()instanceof f&&a.keyNav.cancel()},onCancel:function(){a.fire("cancel",{},!1);a.hide()}})},repaint:function(){this.toggleClass("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height=
"";return this},cancel:function(){this.hideAll();this.fire("cancel");this.fire("select")},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var e=this;e.items().each(function(a){a=a.settings;if(a.icon||a.selectable)return e._hasIcons=!0,!1});return e._super()}})});x("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(k){return k.extend({Defaults:{classes:"radio",role:"radio"}})});x("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],
function(k,h){return k.extend({renderHtml:function(){var f=this.classPrefix;this.addClass("resizehandle");"both"==this.settings.direction&&this.addClass("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes()+'"><i class="'+f+"ico "+f+'i-resize"></i></div>'},postRender:function(){var f=this;f._super();f.resizeDragHelper=new h(this._id,{start:function(){f.fire("ResizeStart")},drag:function(e){"both"!=f.settings.direction&&(e.deltaX=0);f.fire("Resize",e)},end:function(){f.fire("ResizeEnd")}})}})});
x("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(k){return k.extend({renderHtml:function(){this.addClass("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes()+'"></div>'}})});x("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/dom/DOMUtils"],function(k,h){var f=h.DOM;return k.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var e=this.getEl(),a=this.layoutRect(),b;this._super();b=e.firstChild;e=e.lastChild;f.css(b,{width:a.w-
e.offsetWidth,height:a.h-2});f.css(e,{height:a.h-2});a=b.firstChild.style;a.width=a.height="100%";a=e.firstChild.style;a.width=a.height="100%";return this},activeMenu:function(e){f.toggleClass(this.getEl().lastChild,this.classPrefix+"active",e)},renderHtml:function(){var e=this.classPrefix,a=this.settings.icon?e+"ico "+e+"i-"+this.settings.icon:"";return'<div id="'+this._id+'" class="'+this.classes()+'"><button type="button" hidefocus tabindex="-1">'+(a?'<i class="'+a+'"></i>':"")+(this._text?(a?
" ":"")+this._text:"")+'</button><button type="button" class="'+e+'open" hidefocus tabindex="-1">'+(this._menuBtnText?(a?" ":"")+this._menuBtnText:"")+' <i class="'+e+'caret"></i></button></div>'},postRender:function(){var e=this.settings.onclick;this.on("click",function(a){a.control!=this||f.getParent(a.target,"."+this.classPrefix+"open")||(a.stopImmediatePropagation(),e.call(this,a))});delete this.settings.onclick;return this._super()}})});x("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(k){return k.extend({Defaults:{containerClass:"stack-layout",
controlClass:"stack-layout-item",endClass:"break"}})});x("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(k,h){"use stict";return k.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(f){this.activeTabId&&h.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active");this.activeTabId="t"+f;h.addClass(this.getEl("t"+f),this.classPrefix+"active");f!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=f);this.items()[f].show().fire("showtab");
this.reflow()},renderHtml:function(){var f=this,e=f._layout,a="",b=f.classPrefix;f.preRender();e.preRender(f);f.items().each(function(c,d){a+='<div id="'+f._id+"-t"+d+'" class="'+b+'tab" unselectable="on">'+f.encode(c.settings.title)+"</div>"});return'<div id="'+f._id+'" class="'+f.classes()+'" hideFocus="1" tabIndex="-1"><div id="'+f._id+'-head" class="'+b+'tabs">'+a+'</div><div id="'+f._id+'-body" class="'+f.classes("body")+'">'+e.renderHtml(f)+"</div></div>"},postRender:function(){var f=this;f._super();
f.settings.activeTab=f.settings.activeTab||0;f.activateTab(f.settings.activeTab);this.on("click",function(e){var a=e.target.parentNode;if(e.target.parentNode.id==f._id+"-head")for(var b=a.childNodes.length;b--;)a.childNodes[b]==e.target&&f.activateTab(b)})},initLayoutRect:function(){var f=this,e,a,b;a=b=0;f.items().each(function(c,d){a=Math.max(a,c.layoutRect().minW);b=Math.max(b,c.layoutRect().minH);f.settings.activeTab!=d&&c.hide()});f.items().each(function(c){c.settings.x=0;c.settings.y=0;c.settings.w=
a;c.settings.h=b;c.layoutRect({x:0,y:0,w:a,h:b})});e=f.getEl("head").offsetHeight;f.settings.minWidth=a;f.settings.minHeight=b+e;e=f._super();e.deltaH+=f.getEl("head").offsetHeight;e.innerH=e.h-e.deltaH;return e}})});x("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(k,h){return k.extend({init:function(f){var e=this;e._super(f);e._value=f.value||"";e.addClass("textbox");if(f.multiline)e.addClass("multiline");else e.on("keydown",function(a){13==a.keyCode&&e.parents().reverse().each(function(b){a.preventDefault();
if(b.submit)return b.submit(),!1})})},value:function(f){return"undefined"!=typeof f?(this._value=f,this._rendered&&(this.getEl().value=f),this):this._rendered?this.getEl().value:this._value},repaint:function(){var f,e,a,b=0;a=0;var c;f=this.getEl().style;e=this._layoutRect;c=this._lastRepaintRect||{};b=document;!this.settings.multiline&&(b.all&&(!b.documentMode||8>=b.documentMode))&&(f.lineHeight=e.h-a+"px");a=this._borderBox;b=a.left+a.right+8;a=a.top+a.bottom+(this.settings.multiline?8:0);e.x!==
c.x&&(f.left=e.x+"px",c.x=e.x);e.y!==c.y&&(f.top=e.y+"px",c.y=e.y);e.w!==c.w&&(f.width=e.w-b+"px",c.w=e.w);e.h!==c.h&&(f.height=e.h-a+"px",c.h=e.h);this._lastRepaintRect=c;this.fire("repaint",{},!1);return this},renderHtml:function(){var f=this._id,e=this.settings,a=this.encode(this._value,!1),b="";"spellcheck"in e&&(b+=' spellcheck="'+e.spellcheck+'"');e.maxLength&&(b+=' maxlength="'+e.maxLength+'"');e.size&&(b+=' size="'+e.size+'"');e.subtype&&(b+=' type="'+e.subtype+'"');return e.multiline?'<textarea id="'+
f+'" class="'+this.classes()+'" '+(e.rows?' rows="'+e.rows+'"':"")+' hidefocus="true"'+b+">"+a+"</textarea>":'<input id="'+f+'" class="'+this.classes()+'" value="'+a+'" hidefocus="true"'+b+">"},postRender:function(){var f=this;h.on(f.getEl(),"change",function(e){f.fire("change",e)});return f._super()}})});x("tinymce/ui/Throbber",["tinymce/ui/DomUtils"],function(k){return function(h){var f=this,e;f.show=function(a){f.hide();e=!0;window.setTimeout(function(){e&&h.appendChild(k.createFragment('<div class="mce-throbber"></div>'))},
a||0);return f};f.hide=function(){var a=h.lastChild;a&&-1!=a.className.indexOf("throbber")&&a.parentNode.removeChild(a);e=!1;return f}}});(function(k){for(var h=0;h<k.length;h++){for(var f=ca,e=k[h],a=e.split(/[.\/]/),b=0;b<a.length-1;++b)f[a[b]]===P&&(f[a[b]]={}),f=f[a[b]];f[a[a.length-1]]=$[e]}})("tinymce/dom/Sizzle tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/util/Tools tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/dom/TridentSelection tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/Selection tinymce/dom/RangeUtils tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/DomUtils tinymce/ui/Control tinymce/ui/Factory tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/KeyboardNavigation tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/util/Quirks tinymce/util/Observable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/LegacyInput tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/ui/ComboBox tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/ListBox tinymce/ui/MenuItem tinymce/ui/Menu tinymce/ui/Radio tinymce/ui/ResizeHandle tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox tinymce/ui/Throbber".split(" "))})(this);